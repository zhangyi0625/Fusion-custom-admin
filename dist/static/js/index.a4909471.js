(()=>{var e={74434:function(e,t,l){"use strict";l.d(t,{Z:()=>n});let n={"search-form":"search-form-HAhGnT",searchForm:"search-form-HAhGnT","search-form-item":"search-form-item-oHG2QN",searchFormItem:"search-form-item-oHG2QN","no-show":"no-show-CdZgr3",noShow:"no-show-CdZgr3"}},89508:function(){},23337:function(e,t,l){var n={"./Home/DocumentPieChart/index.tsx":"51923","./Home/EndpointStatistics/index.tsx":"16749","./Home/ShortCutMenu/MenuIcon.tsx":"37389","./Home/ShortCutMenu/index.tsx":"120","./Home/StatusLineChart/index.tsx":"6426","./Home/index.tsx":"18700","./Login/index.tsx":"95189","./cabinManage/CabinHistory/index.tsx":"9906","./cabinManage/CabinResult/index.tsx":"67342","./cabinManage/CabinTaskTemplate/AddCabinTask.tsx":"41545","./cabinManage/CabinTaskTemplate/ConnectCustomer.tsx":"35594","./cabinManage/CabinTaskTemplate/OperationLogDrawer.tsx":"25940","./cabinManage/CabinTaskTemplate/columns.tsx":"41364","./cabinManage/CabinTaskTemplate/index.tsx":"88929","./cabinManage/MskTask/index.tsx":"93258","./cabinManage/TodayPlan/index.tsx":"95627","./customerInformation/CustomerManage/AddCustomerManage.tsx":"24677","./customerInformation/CustomerManage/index.tsx":"77723","./customerInformation/ShippingAccount/AddShippingAccount.tsx":"57457","./customerInformation/ShippingAccount/ImportShippingAccout.tsx":"80311","./customerInformation/ShippingAccount/columns.tsx":"56783","./customerInformation/ShippingAccount/index.tsx":"80775","./customerInformation/ShippingAccount/setRelevanceModal.tsx":"1961","./error/403.tsx":"57666","./error/404.tsx":"83779","./error/500.tsx":"53282","./essentialData/CarrierManage/AddCarrierManage.tsx":"61949","./essentialData/CarrierManage/index.tsx":"59155","./essentialData/PortManage/AddPortManage.tsx":"66410","./essentialData/PortManage/index.tsx":"67093","./essentialData/RouteManage/AddRouteManage.tsx":"80038","./essentialData/RouteManage/index.tsx":"63372","./project/Design/AddProject.tsx":"11403","./project/Design/ProjectCard.tsx":"35705","./project/Design/index.tsx":"83901","./project/Endpoint/index.tsx":"35361","./project/EndpointConfig/EndpointConfigTable.tsx":"8042","./project/EndpointConfig/EndpointTypeModal.tsx":"81255","./project/EndpointConfig/EndpointTypeTree.tsx":"9300","./project/EndpointConfig/index.tsx":"44507","./serviceSetting/ServiceSettingInfo.tsx":"75576","./serviceSetting/index.tsx":"66472","./system/CabinResult/CabinResultModal.tsx":"83533","./system/CabinResult/ManualReleaseModal.tsx":"39971","./system/CabinResult/RelevanceOrderDrawer.tsx":"13667","./system/CabinResult/index.tsx":"37569","./system/Dictionary/DictonaryModal.tsx":"14252","./system/Dictionary/index.tsx":"54042","./system/DictionaryClass/DictonaryClassModal.tsx":"42863","./system/DictionaryClass/index.tsx":"48920","./system/FastOrder/index.tsx":"86054","./system/Menu/MenuInfoModal.tsx":"44198","./system/Menu/index.tsx":"87003","./system/Order/detail/components/BookingFrequency.tsx":"86266","./system/Order/detail/components/modal/CancelReason.tsx":"50891","./system/Order/detail/components/modal/CargoRequirement.tsx":"58122","./system/Order/detail/components/modal/OrderAccountInfo.tsx":"25469","./system/Order/detail/components/table/AreaBaseInfo.tsx":"19813","./system/Order/detail/components/table/BookingResult.tsx":"55241","./system/Order/detail/components/table/PayMessage.tsx":"42540","./system/Order/detail/index.tsx":"9820","./system/Order/index.tsx":"14607","./system/Organization/AddOrganization.tsx":"21678","./system/Organization/index.tsx":"38349","./system/Role/AddUser.tsx":"28565","./system/Role/RoleInfoModal.tsx":"58279","./system/Role/RoleMenuDrawer.tsx":"90050","./system/Role/RoleUserDrawer.tsx":"13478","./system/Role/index.tsx":"9994","./system/User/index.tsx":"28163"};function a(e){return l(i(e))}function i(e){if(!l.o(n,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id=23337},10988:function(e,t,l){"use strict";e.exports=l.p+"static/image/avatar.7b323a57.png"},7802:function(e,t,l){"use strict";e.exports=l.p+"static/image/icon-512.569df179.png"},95743:function(e,t,l){"use strict";l.d(t,{M:()=>n});let n=(0,l(96829).Z)({scriptUrl:"/font/iconfont.js"})},67857:function(e,t,l){"use strict";l.d(t,{Z:()=>o});var n=l(52676),a=l(8398),i=l(75271),r=l(84569),s=l.n(r);let o=e=>{let[t,l]=(0,i.useState)(!0),[r,o]=(0,i.useState)({left:0,top:0,bottom:0,right:0}),d=(0,i.useRef)(null),c=(e,t)=>{var l;let{clientWidth:n,clientHeight:a}=window.document.documentElement,i=null==(l=d.current)?void 0:l.getBoundingClientRect();i&&o({left:-i.left+t.x,right:n-(i.right-t.x),top:-i.top+t.y,bottom:a-(i.bottom-t.y)})};return(0,n.jsx)(a.Z,{maskClosable:!1,...e,title:(0,n.jsx)("div",{style:{width:"100%",cursor:"move"},onMouseOver:()=>{t&&l(!1)},onMouseOut:()=>{l(!0)},onFocus:()=>{},onBlur:()=>{},children:e.title}),modalRender:e=>(0,n.jsx)(s(),{disabled:t,bounds:r,nodeRef:d,onStart:(e,t)=>c(e,t),children:(0,n.jsx)("div",{ref:d,children:e})})})}},59286:function(e,t,l){"use strict";l.d(t,{Z:()=>Z});var n=l(52676),a=l(74434),i=l(75271),r=l(86291),s=l(49027),o=l(44995),d=l(91849),c=l(82398),u=l(88621),m=l(74515),p=l(39257),x=l(61496),h=l(17859);let g=(0,l(79797).Z)((e,t)=>{e.api({keyword:e.value,tag:e.tag}).then(e=>{t(e)})},300),f=(0,i.memo)(e=>{let{label:t,name:l,formType:a,api:s,tag:o,options:d,isRules:c,selectFileldName:u}=e,{RangePicker:f}=m.Z,y=["porCode","fndCode","porId","fndId"],[j,b]=(0,i.useState)(d),v=(e,t,l,n)=>{g({value:e,name:t,api:l,tag:n},b)},I=(e,t,l)=>{y.includes(e)?g({value:null,name:e,api:t,tag:l},b):b(d)};return(0,n.jsx)("div",{className:"search-form-item",children:(0,n.jsxs)(r.Z.Item,{label:t,name:l,rules:c?[{required:!0,message:`\u{8BF7}${"input"===a?"输入":"选择"}${t}`}]:void 0,children:["input"===a&&(0,n.jsx)(p.Z,{autoFocus:!1,allowClear:!0,autoComplete:"off",placeholder:`\u{8BF7}\u{8F93}\u{5165}${t}`}),"select"===a&&(0,n.jsx)(x.Z,{allowClear:!0,placeholder:`\u{8BF7}\u{8F93}\u{5165}${t}`,showSearch:!0,defaultActiveFirstOption:!1,filterOption:!1,onSearch:e=>v(e,l,s,o),onFocus:()=>I(l,s,o),popupMatchSelectWidth:!y.includes(l)||240,classNames:{popup:{root:y.includes(l)?"portSelect":""}},options:(j||[]).map(e=>y.includes(l)?{label:(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("p",{children:[e.localName," - ",e.name]}),(0,n.jsxs)("p",{children:[e.countryLocalName," - ",e.countryName]})]}),value:"porCode"===l||"fndCode"===l?e.unlocode:e.id}:{value:e.id,label:e.name})}),"normalSelect"===a&&(0,n.jsx)(x.Z,{allowClear:!0,placeholder:`\u{8BF7}\u{8F93}\u{5165}${t}`,showSearch:!0,options:d,filterOption:(e,t)=>String((null==t?void 0:t.label)??"").toLowerCase().includes(e.toLowerCase()),fieldNames:u??{label:"label",value:"value",children:"children"}}),"cascader"===a&&(0,n.jsx)(h.Z,{options:d,placeholder:`\u{8BF7}\u{8F93}\u{5165}${t}`,showSearch:{filter:(e,t)=>t.some(t=>t.text.toLowerCase().indexOf(e.toLowerCase())>-1)},allowClear:!0,fieldNames:{label:"text",children:"children"}}),"date-picker"===a&&(0,n.jsx)(f,{format:"YY-MM-DD HH:mm:ss"})]})})});var y=l(58594),j=l(22151),b=l(20919),v=l(26930),I=l(98442),w=l(3073);let N={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},Z=(0,i.memo)(e=>{let{gutterWidth:t,showRow:l,columns:m,labelPosition:p,btnSeparate:x,isShowReset:h,isShowExpend:g,onUpdateSearch:Z}=e,[M]=r.Z.useForm(),k=(0,u.v9)(e=>e.publicSetting.publicData),[C,T]=(0,i.useState)(!1),[S,D]=(0,i.useState)(m);(0,i.useCallback)(()=>{if(l&&g)return C?4*l:m.length},[C]),(0,i.useEffect)(()=>{let e=async e=>await (0,v.Xk)(await e(),["carrierCode","carrierCode"],["id","name"]);S.map(async t=>{t.filterSearch&&(t.options=await e(t.api)),t.publicSettingKey&&(t.options=F(k[t.publicSettingKey])),t.name&&t.defaultValue&&(M.resetFields(),M.setFieldsValue({[t.name]:t.defaultValue}))}),setTimeout(()=>{D([...S])},500)},[...S]);let F=e=>{let t=[];for(let l in e)t.push({id:l,name:e[l]});return t},O=()=>{let e=[],t={};S.map(t=>{"date-picker"===t.formType&&M.getFieldValue([t.name])&&e.push(t.name)}),0===e.length?t={...M.getFieldsValue()}:e.map(l=>{t={...(0,v.Yp)(M.getFieldsValue(),e,!1),...t,fndCode:((0,w.Z)(M.getFieldValue("fndCode"))?M.getFieldValue("fndCode")[1]:M.getFieldValue("fndCode"))??"",[`${l}Start`]:(0,I.m)(M.getFieldsValue()[l][0],"Y-M-D h:m:s"),[`${l}End`]:(0,I.m)(M.getFieldsValue()[l][0],"Y-M-D h:m:s")}}),Z(t)},E=()=>{M.resetFields(),O()};return(0,n.jsxs)("div",{className:a.Z["search-form"],children:[(0,n.jsx)(r.Z,{onFinish:e=>{Z(e)},...N,colon:!1,labelAlign:p,form:M,children:(0,n.jsxs)(s.Z,{gutter:t,className:"gap-y-[10px]",children:[m.map((e,t)=>(0,n.jsx)(o.Z,{span:e.span,className:C&&l&&t+1>4*l?a.Z["no-show"]:"",hidden:e.hidden,children:(0,n.jsx)(f,{label:e.label,name:e.name,api:e.api,options:e.options,formType:e.formType,span:e.span,tag:e.tag,isRules:e.isRules??!1,publicSettingKey:e.publicSettingKey,selectFileldName:e.selectFileldName})},t)),!x&&(0,n.jsx)(o.Z,{children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(c.ZP,{type:"primary",htmlType:"submit",icon:(0,n.jsx)(y.Z,{}),children:"搜索"}),h&&(0,n.jsx)(c.ZP,{type:"default",icon:(0,n.jsx)(j.Z,{}),onClick:E,children:"重置"})]})})]})}),x&&(0,n.jsx)("div",{className:"flex items-center justify-end mt-[10px]",children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(c.ZP,{type:"primary",htmlType:"submit",onClick:O,icon:(0,n.jsx)(y.Z,{}),children:"搜索"}),h&&(0,n.jsx)(c.ZP,{type:"default",icon:(0,n.jsx)(j.Z,{}),onClick:E,children:"重置"}),g&&(0,n.jsxs)("a",{style:{fontSize:"12px"},onClick:()=>{T(!C)},children:[(0,n.jsx)(b.Z,{rotate:180*!!C}),"Collapse"]})]})})]})})},5246:function(e,t,l){"use strict";l.d(t,{Z:()=>d});var n=l(52676),a=l(75271),i=l(80101),r=l(25400),s=l(88621),o=l(74429);let d=(0,a.memo)(e=>{let{columns:t,fetchData:l,searchFilter:d,rowKey:c,isSelection:u,isPagination:m,scroll:p,selectionParentType:x,immediate:h,isCache:g,onUpdatePagination:f,onUpdateSelection:y}=e,j=(0,s.I0)(),[b,v]=(0,a.useState)([]),[I,w]=(0,a.useState)(!1),[N,Z]=(0,a.useState)("checkbox"),[M,k]=(0,a.useState)({current:1,pageSize:10,total:0}),C=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;w(!0);try{let t=await l(d),n=Object.keys(t).length>0?t.list??t.results:t;g&&j((0,o.qB)({value:n,key:g})),v(n),k({...e})}catch{w(!1)}finally{w(!1)}};return(0,a.useEffect)(()=>{h||C(),Z(x??N)},[M.pageSize,M.pageSizeOptions,d,h,x]),(0,n.jsx)(i.Z,{spinning:I,children:(0,n.jsx)(r.Z,{size:e.size,bordered:!0,columns:t,dataSource:b,pagination:M,onChange:e=>{k({...M,current:e.current,pageSize:e.pageSize}),f(e)},rowKey:c,scroll:p,rowSelection:u?{type:N,onChange:(e,t)=>{y&&u&&y(t.map(e=>e[c]),t)},getCheckboxProps:e=>({disabled:"Disabled User"===e.name,name:e.name})}:void 0})})})},24188:function(e,t,l){"use strict";l.d(t,{Z:()=>x});var n=l(70392),a=l(2584),i=l(90838),r=l(91032),s=l(54608),o=l(14863),d=l(72632),c=l(5043),u=l(45334),m=l(62743),p=l(59551);n.D([o.N,d.N,c.N,u.N,i.N,r.N,s.N,m.N,p.N]);let x=a},8810:function(e,t,l){"use strict";l.d(t,{A0:()=>o,IK:()=>r,ze:()=>s});var n,a,i,r=((n={})[n.RC100=100]="RC100",n[n.SUCCESS=200]="SUCCESS",n[n.RC101=101]="RC101",n[n.RC102=102]="RC102",n[n.RC107=107]="RC107",n[n.RC108=108]="RC108",n[n.RC401=401]="RC401",n[n.RC300=300]="RC300",n[n.RC301=301]="RC301",n[n.RC404=404]="RC404",n[n.RC500=500]="RC500",n[n.RC502=502]="RC502",n),s=((a={}).JSON="application/json;charset=UTF-8",a.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",a.FORM_DATA="multipart/form-data;charset=UTF-8",a),o=((i={}).GET="GET",i.POST="POST",i.PUT="PUT",i.DELETE="DELETE",i)},461:function(e,t,l){"use strict";l.d(t,{Z:()=>s});var n=l(79797),a=l(75271);let i=[],r={width:0,height:0,top:0,left:0};function s(){let{initialSize:e=r,debounceTime:t=300,ignoreDimensions:l=i,enableDebounceLeadingCall:s=!0,resizeObserverPolyfill:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,a.useRef)(null),c=(0,a.useRef)(0),[u,m]=(0,a.useState)({...r,...e}),p=(0,a.useMemo)(()=>{let e=Array.isArray(l)?l:[l];return(0,n.Z)(t=>{m(l=>Object.keys(l).filter(e=>l[e]!==t[e]).every(t=>e.includes(t))?l:t)},t,{leading:s})},[t,s,l]);return(0,a.useEffect)(()=>{let e=new(o||window.ResizeObserver)(e=>{for(let t of e){let{left:e,top:l,width:n,height:a}=(null==t?void 0:t.contentRect)??{};c.current=window.requestAnimationFrame(()=>{p({width:n,height:a,top:l,left:e})})}});return d.current&&e.observe(d.current),()=>{window.cancelAnimationFrame(c.current),e.disconnect(),p.cancel()}},[p,o]),{parentRef:d,resize:p,...u}}},27923:function(e,t,l){"use strict";var n=l(52676),a=l(38751),i=l(59267),r=l(88621),s=l(74429),o=l(61477),d=l(80101),c=l(59285),u=l(85108),m=l(68187),p=l(75271),x=l(56186),h=l(45870),g=l(5658),f=l(33894),y=l(26930);let j=()=>{let e=(0,r.I0)(),[t,l]=(0,p.useState)(!1),a=(0,x.s0)(),i=(0,x.TH)(),{notification:o,message:c,modal:j}=u.Z.useApp(),b=(0,p.useCallback)(async()=>{let t=sessionStorage.getItem("roleId")||"";try{let l=(await (0,f.pz)(t)).filter(e=>2!==e.menuType&&!e.hide),n=(0,y.fX)(l,"menuId");e((0,s.b4)(n))}catch(e){o.error({message:"菜单加载失败",description:`\u{539F}\u{56E0}\u{FF1A}${e instanceof Error?e.message:"未知错误"}`,duration:0})}finally{l(!1)}},[e]);return(0,p.useEffect)(()=>{g.W.setMessageInstance(c),g.W.setNotificationInstance(o),g.W.setModalInstance(j);let e=sessionStorage.getItem("isLogin");"false"!==e&&e&&"/login"!==i.pathname?b():a("/login")},[b,i.pathname,a]),(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)(d.Z,{size:"large",fullscreen:!0,style:{fontSize:48}}):(0,n.jsx)(p.Suspense,{fallback:(0,n.jsx)(m.Z,{}),children:(0,n.jsx)(h.F0,{})})})};var b=l(6641);let v=document.getElementById("root");v&&(0,a.createRoot)(v).render((0,n.jsx)(r.zt,{store:s.h,children:(0,n.jsx)(o.r,{loading:(0,n.jsx)(d.Z,{}),persistor:s.Dj,children:(0,n.jsx)(i.VK,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,n.jsx)(()=>{let{theme:e}=(0,r.v9)(e=>e.preferences);return(0,n.jsx)(c.ZP,{theme:{token:{colorPrimary:e.colorPrimary},components:{Layout:{headerPadding:"0 16px 0 0",headerHeight:"50px",headerBg:"#fff"},Tree:{directoryNodeSelectedBg:"#e6f4ff",indentSize:12,directoryNodeSelectedColor:"rgba(0, 0, 0, 0.88)"}}},locale:b.default,children:(0,n.jsx)(u.Z,{style:{height:"100%"},children:(0,n.jsx)(j,{})})})},{})})})}))},27529:function(e,t,l){"use strict";l.d(t,{Z:()=>i});var n=l(52676),a=l(75271);let i=e=>{let t,i=l(23337),r="";r=e.endsWith(".tsx")?`./${e}`:`./${e}/index.tsx`;try{t=i.keys().includes(r)?i(`${r}`).default:a.lazy(()=>Promise.resolve().then(l.bind(l,83779)))}catch(e){t=a.lazy(()=>Promise.resolve().then(l.bind(l,83779)))}return(0,n.jsx)(t,{})}},45870:function(e,t,l){"use strict";l.d(t,{F0:()=>g,pd:()=>x});var n=l(52676),a=l(56186),i=l(27529),r=l(75271),s=l(37467),o=l(75202),d=l(82398);function c(e){let{error:t}=e,{resetBoundary:l}=(0,s.cO)();return(0,n.jsx)(o.ZP,{status:"500",title:"500",subTitle:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"组件渲染出现异常，错误:"}),(0,n.jsx)("pre",{style:{color:"red"},children:t.message})]}),extra:(0,n.jsx)(d.ZP,{type:"primary",onClick:l,children:"重试"})})}var u=l(88621),m=l(83150);let p=[{path:"*",component:()=>(0,n.jsx)(a.Fg,{replace:!0,to:"/404"})},{path:"/500",component:(0,i.Z)("error/500.tsx").type},{path:"/404",component:(0,i.Z)("error/404.tsx").type},{path:"/403",component:(0,i.Z)("error/403.tsx").type}],x=[{path:"/",component:r.lazy(()=>Promise.all([l.e("844"),l.e("881")]).then(l.bind(l,36465))),children:p},{path:"/login",component:(0,i.Z)("Login").type}],h=e=>e.map(e=>(e.ErrorBoundary=(0,n.jsx)(s.SV,{fallback:(0,n.jsx)(c,{})}),e.index||(e.element=(0,n.jsx)(e.component,{}),e.children&&(e.children=h(e.children),e.children.length&&e.children.unshift({index:!0,element:(0,n.jsx)(a.Fg,{to:e.children[0].path,replace:!0})}))),e)),g=()=>{let{menus:e=[]}=(0,u.v9)(e=>e.menuState),t=(0,r.useMemo)(()=>(x[0].children=[...(0,m.B9)(e),...p],h(x)),[e]);return(0,a.V$)(t)}},92313:function(e,t,l){"use strict";l.d(t,{Jk:()=>r,RD:()=>o,Rv:()=>s,dF:()=>a,sh:()=>i});var n=l(43594);let a=e=>n.a.get({url:"/core/business/booking-task/page",params:e},{successMessageMode:"none"}),i=e=>n.a.get({url:"/core/business/booking-task-event/"+e},{successMessageMode:"none"}),r=e=>n.a.post({url:"/core/business/booking-task",data:e},{successMessageMode:"none"}),s=e=>n.a.get({url:"/core/business/stowage-history/page",params:e},{successMessageMode:"none"}),o=e=>n.a.get({url:"/core/business/stowage-history/page",params:e},{successMessageMode:"none"})},72273:function(e,t,l){"use strict";l.d(t,{RC:()=>s,WS:()=>r,ao:()=>i,jz:()=>o,uH:()=>a});var n=l(43594);let a=e=>n.a.get({url:"/core/business/route-fnd/page",params:e},{successMessageMode:"none"}),i=e=>n.a.get({url:"/core/business/route-fnd",params:e},{successMessageMode:"none"}),r=e=>n.a.post({url:"/core/business/route-fnd",data:e},{successMessageMode:"none"}),s=e=>n.a.put({url:"/core/business/route-fnd",data:e},{successMessageMode:"none"}),o=e=>n.a.delete({url:"/core/business/route-fnd/"+e},{successMessageMode:"none"})},17684:function(e,t,l){"use strict";l.d(t,{D4:()=>d,IW:()=>c,M5:()=>u,N8:()=>o,OI:()=>a,QV:()=>p,S9:()=>s,VW:()=>m,eE:()=>r,hv:()=>i});var n=l(43594);let a=e=>n.a.get({url:"/core/business/carrier-account/page",params:e},{successMessageMode:"none"}),i=e=>n.a.post({url:"/core/business/carrier-account",data:e},{successMessageMode:"none"}),r=e=>n.a.post({url:"/core/business/carrier-account/batch",data:e},{successMessageMode:"none"}),s=e=>n.a.put({url:"/core/business/carrier-account",data:e},{successMessageMode:"none"}),o=e=>n.a.delete({url:"/core/business/carrier-account/"+e},{successMessageMode:"none"}),d=e=>n.a.put({url:"/core/business/carrier-account/query",data:e},{successMessageMode:"none"}),c=e=>n.a.put({url:"/core/business/carrier-account/cancel/query",data:e},{successMessageMode:"none"}),u=e=>n.a.put({url:"/core/business/carrier-account/enable",data:e},{successMessageMode:"none"}),m=e=>n.a.put({url:"/core/business/carrier-account/disabled",data:e},{successMessageMode:"none"}),p=e=>n.a.put({url:"/core/business/carrier-account/assoc/server",data:e},{successMessageMode:"none"})},20326:function(e,t,l){"use strict";l.d(t,{IO:()=>a,Nk:()=>o,Y7:()=>s,it:()=>i,yo:()=>r});var n=l(43594);let a=e=>n.a.get({url:"/core/business/base/carrier/page",params:e},{successMessageMode:"none"}),i=e=>n.a.get({url:"/core/business/base/carrier",params:e},{successMessageMode:"none"}),r=e=>n.a.post({url:"/core/business/base/carrier",data:e},{successMessageMode:"none"}),s=e=>n.a.put({url:"/core/business/base/carrier",data:e},{successMessageMode:"none"}),o=e=>n.a.delete({url:"/core/business/base/carrier/"+e},{successMessageMode:"none"})},45125:function(e,t,l){"use strict";l.d(t,{Aq:()=>r,PH:()=>s,UK:()=>o,rF:()=>i,v8:()=>a});var n=l(43594);let a=e=>n.a.get({url:"/core/business/customer/page",params:e},{successMessageMode:"none"}),i=()=>n.a.get({url:"/core/business/customer"},{successMessageMode:"none"}),r=e=>n.a.post({url:"/core/business/customer",data:e},{successMessageMode:"none"}),s=e=>n.a.put({url:"/core/business/customer",data:e},{successMessageMode:"none"}),o=e=>n.a.delete({url:"/core/business/customer/"+e},{successMessageMode:"none"})},89737:function(e,t,l){"use strict";l.d(t,{$Q:()=>a,C$:()=>d,G4:()=>u,Qm:()=>r,Qq:()=>c,cy:()=>o,sA:()=>i,vp:()=>s,yV:()=>m});var n=l(43594);let a=e=>n.a.get({url:"/core/business/port/page",params:e},{successMessageMode:"none"}),i=e=>n.a.post({url:"/core/business/port",data:e},{successMessageMode:"none"}),r=e=>n.a.put({url:"/core/business/port",data:e},{successMessageMode:"none"}),s=e=>n.a.put({url:"/core/business/port",data:e},{successMessageMode:"none"}),o=()=>n.a.get({url:"/core/business/route"},{successMessageMode:"none"}),d=()=>n.a.get({url:"/core/business/country"},{successMessageMode:"none"}),c=()=>n.a.get({url:"/core/business/port/por"},{successMessageMode:"none"}),u=()=>n.a.get({url:"/core/business/port/fnd"},{successMessageMode:"none"}),m=e=>n.a.delete({url:"/core/business/port/"+e},{successMessageMode:"none"})},16013:function(e,t,l){"use strict";l.d(t,{an:()=>i,kS:()=>r,x4:()=>a});var n=l(43594);let a=e=>n.a.post({url:"/user/login",data:e},{isTransformResponse:!1}),i=e=>n.a.get({url:`/user/captcha?${e}`},{successMessageMode:"none"}),r=e=>{n.a.delete({url:"/logout",params:{token:e}})}},15869:function(e,t,l){"use strict";l.d(t,{BU:()=>k,CV:()=>w,GX:()=>C,KX:()=>j,PP:()=>Z,Pn:()=>o,QN:()=>y,Qw:()=>s,RP:()=>m,Xy:()=>v,Yw:()=>N,Yy:()=>c,a8:()=>x,dz:()=>d,gt:()=>i,h3:()=>M,h7:()=>h,iZ:()=>g,lf:()=>I,q7:()=>a,qw:()=>u,sW:()=>b,ym:()=>f,z_:()=>p,zj:()=>r});var n=l(43594);let a=e=>n.a.get({url:"/staff/customer/affiliate/list",params:e},{isTransformResponse:!1}),i=e=>n.a.get({url:"/staff/customer/list",params:e},{isTransformResponse:!1}),r=e=>n.a.get({url:"/common/location/list",params:e},{isTransformResponse:!1}),s=()=>n.a.get({url:"/common/carrier/brand/list"},{isTransformResponse:!1}),o=e=>{let t={...e,filter:JSON.stringify(e.filter)};return n.a.get({url:"/staff/frt/order/page",params:t},{isTransformResponse:!1})},d=e=>n.a.get({url:"/staff/frt/order/detail/"+e},{isTransformResponse:!1}),c=(e,t)=>n.a.post({url:"/staff/frt/order/closure/"+e,data:t},{isTransformResponse:!1}),u=e=>n.a.post({url:"/staff/frt/order/start/"+e},{isTransformResponse:!1}),m=e=>n.a.post({url:"/staff/frt/order/success/"+e},{isTransformResponse:!1}),p=(e,t)=>n.a.post({url:"/staff/frt/order/violated/"+e,data:t},{isTransformResponse:!1}),x=e=>n.a.post({url:"/staff/frt/order/chargeback/"+e},{isTransformResponse:!1}),h=e=>n.a.post({url:"/staff/frt/order/finish/"+e},{isTransformResponse:!1}),g=e=>n.a.post({url:"/staff/frt/order/cancel/pass/"+e},{isTransformResponse:!1}),f=(e,t)=>n.a.post({url:"staff/frt/order/cancel/forbid/"+e,data:t},{isTransformResponse:!1}),y=e=>n.a.post({url:"/staff/frt/order/verify/account/"+e},{isTransformResponse:!1}),j=(e,t)=>n.a.post({url:"/staff/frt/order/prebooking/cron/"+e,data:t},{isTransformResponse:!1}),b=e=>{let t={...e,filter:JSON.stringify(e.filter)};return n.a.get({url:"/staff/order/page",params:t},{isTransformResponse:!1})},v=e=>n.a.get({url:"/staff/order/fastbooking/export",params:e,responseType:"blob"},{isTransformResponse:!1}),I=e=>n.a.get({url:"/staff/order/download/booking",params:e,responseType:"blob"},{isTransformResponse:!1}),w=e=>{let t={...e,filter:JSON.stringify(e.filter)};return n.a.get({url:"/staff/fast/booking/page",params:t},{isTransformResponse:!1})},N=e=>n.a.post({url:"/staff/fast/booking/upload/excel/",data:e},{isTransformResponse:!1}),Z=e=>n.a.post({url:"/staff/fast/booking/publish/product",data:e},{isTransformResponse:!1}),M=e=>n.a.post({url:"/staff/fast/booking/unbind",data:e},{isTransformResponse:!1}),k=e=>n.a.post({url:"/staff/fast/booking/bind",data:e},{isTransformResponse:!1}),C=e=>n.a.get({url:"/staff/product/getSchedules",params:e},{isTransformResponse:!1})},42374:function(e,t,l){"use strict";l.d(t,{So:()=>d,ZK:()=>i,fk:()=>o,jO:()=>r,jw:()=>s,l1:()=>a});var n=l(43594);let a=()=>n.a.get({url:"/common/public-data"},{isTransformResponse:!1}),i=()=>n.a.get({url:"/common/public-settings"},{isTransformResponse:!1}),r=()=>n.a.get({url:"/core/business/mq-service-config"},{isTransformResponse:!1}),s=e=>n.a.post({url:"/core/business/mq-service-config",data:e},{isTransformResponse:!1}),o=e=>n.a.put({url:"/core/business/mq-service-config",data:e},{isTransformResponse:!1}),d=e=>n.a.delete({url:"/core/business/mq-service-config/"+e},{isTransformResponse:!1})},35749:function(e,t,l){"use strict";l.d(t,{BF:()=>r,Rj:()=>c,Tb:()=>i,XQ:()=>u,ax:()=>s,c:()=>o,iC:()=>d,li:()=>p,q3:()=>m,vF:()=>a});var n=l(43594);let a=e=>n.a.get({url:"/system/dictionary/page",params:e},{successMessageMode:"none"}),i=e=>n.a.get({url:"/system/dictionary",params:e},{successMessageMode:"none"}),r=e=>n.a.post({url:"/system/dictionary",data:e},{successMessageMode:"none"}),s=e=>n.a.put({url:"/system/dictionary",data:e},{successMessageMode:"none"}),o=e=>n.a.delete({url:"/system/dictionary/"+e},{successMessageMode:"none"}),d=e=>n.a.get({url:"/system/dictionary-data/page",params:e},{successMessageMode:"none"}),c=e=>n.a.post({url:"/system/dictionary-data",data:e},{successMessageMode:"none"}),u=e=>n.a.put({url:"/system/dictionary-data",data:e},{successMessageMode:"none"}),m=e=>n.a.delete({url:"/system/dictionary-data/"+e},{successMessageMode:"none"}),p=e=>n.a.delete({url:"/system/dictionary-data/batch",data:e.ids},{successMessageMode:"none"})},74369:function(e,t,l){"use strict";l.d(t,{RD:()=>s,_8:()=>r,bL:()=>i,c7:()=>a,iK:()=>o});var n=l(43594);let a=e=>n.a.get({url:"/system/menu",params:e},{successMessageMode:"none"}),i=e=>n.a.post({url:"/system/menu",data:e}),r=e=>n.a.put({url:"/system/menu",data:e}),s=e=>n.a.delete({url:"/system/menu/"+e}),o=e=>n.a.delete({url:"/system/menu/batch",data:e})},64257:function(e,t,l){"use strict";l.d(t,{BT:()=>i,FV:()=>s,Fi:()=>r,Mz:()=>o,O1:()=>a,nh:()=>d});var n=l(43594);let a=e=>n.a.get({url:"/system/organization/page",params:e},{successMessageMode:"none"}),i=()=>n.a.get({url:"/system/organization"},{successMessageMode:"none"}),r=e=>n.a.post({url:"/system/organization",data:e},{successMessageMode:"none"}),s=e=>n.a.put({url:"/system/organization",data:e},{successMessageMode:"none"}),o=e=>n.a.delete({url:"/system/organization/"+e},{successMessageMode:"none"}),d=e=>n.a.delete({url:"/system/organization/batch",data:e},{successMessageMode:"none"})},33894:function(e,t,l){"use strict";l.d(t,{$s:()=>i,Aq:()=>s,FU:()=>x,Gw:()=>g,JV:()=>a,KL:()=>f,Mf:()=>c,Qs:()=>m,Rd:()=>d,_d:()=>r,nn:()=>o,pz:()=>u,qF:()=>h,tp:()=>p});var n=l(43594);let a=()=>n.a.get({url:"/system/role"},{successMessageMode:"none"}),i=e=>n.a.get({url:"/system/role/page",params:e},{successMessageMode:"none"}),r=e=>n.a.post({url:"/system/role",data:e}),s=e=>n.a.put({url:"/system/role",data:e}),o=e=>n.a.put({url:"/system/user/status",data:e}),d=e=>n.a.delete({url:"/system/role/"+e}),c=e=>n.a.delete({url:"/system/role/batch",data:e.ids}),u=e=>n.a.get({url:"/system/role-menu/"+e},{successMessageMode:"none"}),m=e=>n.a.put({url:"/system/role-menu/"+e.roleId,data:e.menuIds}),p=e=>n.a.get({url:"/system/user/page",params:e},{successMessageMode:"none"}),x=e=>n.a.post({url:"/system/user",data:e},{successMessageMode:"none"}),h=e=>n.a.put({url:"/system/user",data:e},{successMessageMode:"none"}),g=e=>n.a.delete({url:"/system/user/"+e}),f=e=>n.a.delete({url:"/system/user/batch",data:e},{successMessageMode:"none"})},74429:function(e,t,l){"use strict";l.d(t,{qB:()=>Z,Dj:()=>y,yL:()=>v,h:()=>f,Sx:()=>N,m7:()=>b,b4:()=>j,ex:()=>w});var n=l(7774),a=l(71342),i=l(68112),r=l(26067),s=l(57997);let o=(0,n.oM)({name:"menu",initialState:{menus:[]},reducers:{setMenus(e,t){e.menus=t.payload}}}),d={app:{checkUpdatesInterval:1,colorGrayMode:!1,colorWeakMode:!1,compact:!1,contentCompact:"wide",defaultAvatar:"",dynamicTitle:!0,enableCheckUpdates:!0,enablePreferences:!0,enableRefreshToken:!1,isMobile:!1,layout:"sidebar-nav",locale:"zh-CN",loginExpiredMode:"page",name:"在舱光速抢舱管理平台",preferencesButtonPosition:"auto",watermark:!1},breadcrumb:{enable:!0,hideOnlyOne:!1,showHome:!1,showIcon:!0,styleType:"normal"},copyright:{companyName:"fusion",companySiteLink:"http://fusionadmin.cn",date:"2024",enable:!0,icp:"",icpLink:"",settingShow:!0},footer:{enable:!1,fixed:!1},header:{enable:!0,hidden:!1,menuAlign:"start",mode:"fixed"},logo:{enable:!0,source:""},navigation:{accordion:!0,split:!0,styleType:"rounded"},shortcut:{enable:!0,globalLockScreen:!0,globalLogout:!0,globalPreferences:!0,globalSearch:!0},sidebar:{autoActivateChild:!1,collapsed:!1,collapsedShowTitle:!1,enable:!0,expandOnHover:!0,extraCollapse:!1,hidden:!1,width:224},tabbar:{draggable:!0,enable:!0,height:38,keepAlive:!0,persist:!0,showIcon:!0,showMaximize:!0,showMore:!0,styleType:"chrome",wheelable:!0},theme:{builtinType:"default",colorError:"#ff4d4f",colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",mode:"light",radius:"0.5",semiDarkHeader:!1,semiDarkSidebar:!1},animation:{enable:!0,loading:!0,name:"fade-slide",progress:!0},widget:{fullscreen:!0,globalSearch:!0,languageToggle:!0,lockScreen:!0,lockScreenStatus:!1,notification:!0,refresh:!0,sidebarToggle:!0,themeToggle:!0}},c=(0,n.oM)({name:"preferences",initialState:d,reducers:{updateSetting(e,t){let{category:l,key:n,value:a}=t.payload;return{...e,[l]:{...e[l],[n]:a}}},resetPreferences:()=>d,setPreferences:(e,t)=>({...e,...t.payload})}}),u=(0,n.oM)({name:"setting",initialState:{publicData:[],publicSetting:[]},reducers:{setPublicData(e,t){e.publicData=t.payload[0],e.publicSetting=t.payload[1]}}}),m={routeData:void 0,porPortData:void 0,fndPortData:void 0,carrierData:void 0,customerData:void 0,relevanceService:void 0},p=(0,n.oM)({name:"essential",initialState:m,reducers:{setEssentail(e,t){let{key:l,value:n}=t.payload;e[l]=n,sessionStorage.setItem("initEssential",JSON.stringify({...e}))},cleanEssential:()=>m}}),x=(0,s.UY)({menuState:o.reducer,preferences:c.reducer,publicSetting:u.reducer,essentail:p.reducer}),h={key:"root",storage:r.default,blacklist:["menuState"]},g=(0,a.Z)(h,x),f=(0,n.xC)({reducer:g,middleware:()=>new n.ps}),y=(0,i.Z)(f),{setMenus:j}=o.actions,{updateSetting:b,resetPreferences:v,setPreferences:I}=c.actions,w=(e,t,l)=>b({category:e,key:t,value:l}),{setPublicData:N}=u.actions,{setEssentail:Z}=p.actions},5658:function(e,t,l){"use strict";l.d(t,{W:()=>a});var n=l(40833);let a=new class{setMessageInstance(e){this.message=e}setNotificationInstance(e){this.notification=e}setModalInstance(e){this.modal=e}constructor(){(0,n._)(this,"message",null),(0,n._)(this,"notification",null),(0,n._)(this,"modal",null)}}},98442:function(e,t,l){"use strict";function n(e,t){if(null==e||""==t||""==e||void 0==e)return"";if(0==arguments.length)return null;"string"==typeof e&&(e=e.replace(/-/g,"/"));var l=["Y","M","D","h","m","s"],n=[],a=new Date(e);n.push(a.getFullYear()),n.push((a.getMonth()+1).toString().padStart(2,"0")),n.push(a.getDate().toString().padStart(2,"0")),n.push(a.getHours().toString().padStart(2,"0")),n.push(a.getMinutes().toString().padStart(2,"0")),n.push(a.getSeconds().toString().padStart(2,"0"));for(var i=0;i<n.length;i++)t=t.replace(l[i],n[i].toString());return t}l.d(t,{m:()=>n})},38615:function(e,t,l){"use strict";function n(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function a(e){return null!==e&&n(e,"Object")}function i(e){return"function"==typeof e}function r(e){return n(e,"String")}l.d(t,{HD:()=>r,Kn:()=>a,mf:()=>i})},43594:function(e,t,l){"use strict";l.d(t,{a:()=>f});var n=l(83150),a=l(40833),i=l(64767),r=l(90523),s=l(38615),o=l(52676),d=l(5658);function c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return t?"":{};let l=new Date().getTime();return t?`?_t=${l}`:{_t:l}}var u=l(8810),m=l(25778),p=l.n(m),x=l(67468);let h=`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA9rT8QRdW7oHKMit2ADrU
jAK9VUeGCR37qSPBLkicR6VlOCVzt+pL9fjiLPrMbXZL8ttkzYao3HvYt0+yhM+y
5+2vHIJsVpekC1JQHl2x2pUUU09hvcnEquXDeja0NBXDqVEvtEp70H19xp3G4DRi
5N6EJceez4JHmU9r18/tguCGWQPqJG8bSanDyZlOPuYHvHbU+pqglgWPc1k40uyR
MVo4XTSO+RIwx/2Z4+DczCNPkCCqF/WLFMw5EqrUlki5kGPt61++T0EBIKKtoV9i
pQIJJ0UjPP3jQMgaw85/XMvEspjNmyKLCj7Kob3mC8XB78gtUTkQIqT1YnmqgOs3
LwIDAQAB
-----END PUBLIC KEY-----
`,g=e=>{let t=p().lib.WordArray.random(16).toString(p().enc.Hex),l=p().AES.encrypt(e,p().enc.Utf8.parse(t),{mode:p().mode.ECB,padding:p().pad.Pkcs7}).toString(),n=new x.Z;return n.setPublicKey(h),{data:l,key:n.encrypt(t)}},f=new class e{getTransform(){let{transform:e}=this.options;return e}setupInterceptors(){let e=this.getTransform();if(!e)return;let{requestInterceptors:t,requestInterceptorsCatch:l,responseInterceptors:n,responseInterceptorsCatch:a}=e;this.axiosInstance.interceptors.request.use(e=>t&&(0,s.mf)(t)?t(e,this.options):e,void 0),l&&(0,s.mf)(l)&&this.axiosInstance.interceptors.request.use(void 0,l),this.axiosInstance.interceptors.response.use(e=>n&&(0,s.mf)(n)?n(e):e,void 0),a&&(0,s.mf)(a)&&this.axiosInstance.interceptors.response.use(void 0,a)}request(e,t){let l=(0,r.Z)(e),n=this.getTransform(),{requestOptions:a}=this.options,i=Object.assign({},a,t),{beforeRequestHook:o,requestCatchHook:d,transformResponseHook:c}=n||{};return o&&(0,s.mf)(o)&&(l=o(l,i)),l.requestOptions=i,new Promise((e,t)=>{this.axiosInstance.request(l).then(l=>{if(c&&(0,s.mf)(c)){try{let t=c(l,i);e(t)}catch(e){t(e||Error("请求错误！"))}return}e(l)}).catch(e=>{if(d&&(0,s.mf)(d))return void t(d(e,i));t(e)})})}get(e,t){return this.request({...e,method:"GET"},t)}post(e,t){return this.request({...e,method:"POST"},t)}put(e,t){return this.request({...e,method:"PUT"},t)}delete(e,t){return this.request({...e,method:"DELETE"},t)}patch(e,t){return this.request({...e,method:"PATCH"},t)}constructor(e){(0,a._)(this,"axiosInstance",void 0),(0,a._)(this,"options",void 0),this.options=e,this.axiosInstance=i.Z.create(e),this.setupInterceptors()}}((0,n.RH)({authenticationScheme:"",timeout:1e4,headers:{Authorization:"Bearer "+sessionStorage.getItem("token")},transform:{transformResponseHook:(e,t)=>{var l,n,a,i;let{isTransformResponse:r,isReturnNativeResponse:s}=t;if(s)return e;if(!r)return e.data;let{data:o}=e;if(!o)throw Error("api接口请求失败，没有返回数据");let{code:c,data:m,message:p}=o;if(o&&Reflect.has(o,"code")&&c===u.IK.SUCCESS)return p&&"success"===t.successMessageMode&&(null==(l=d.W.message)||l.success(p)),m;throw"modal"===t.errorMessageMode?c===u.IK.RC401||c===u.IK.RC101?null==(n=d.W.modal)||n.confirm({title:"凭证失效",content:"当前用户身份验证凭证已过期或无效，请重新登录！",onOk(){sessionStorage.removeItem("token"),sessionStorage.removeItem("isLogin"),sessionStorage.removeItem("roleId"),window.location.href="/login"},okText:"确定"}):null==(a=d.W.modal)||a.error({title:`\u{670D}\u{52A1}\u{5F02}\u{5E38}\u{FF08}\u{72B6}\u{6001}\u{7801}\u{FF1A}${c}\u{FF09}`,content:p,okText:"确定"}):"message"===t.errorMessageMode&&(null==(i=d.W.message)||i.error(p)),Error(p||"接口请求失败")},beforeRequestHook:(e,t)=>{var l,a;let{apiUrl:i,joinPrefix:r,joinParamsToUrl:o,joinTime:d=!0,urlPrefix:m}=t;r&&(e.url=`${m}${e.url}`),i&&(0,s.HD)(i)&&(e.url=`${i}${e.url}`);let p=e.params||{},x=e.data||!1;return(null==(l=e.method)?void 0:l.toUpperCase())===u.A0.GET||(null==(a=e.method)?void 0:a.toUpperCase())===u.A0.DELETE?(0,s.HD)(p)?(e.url=`${e.url+p}${c(d,!0)}`,e.params=void 0):e.params=Object.assign(p||{},c(d,!1)):(0,s.HD)(p)?(e.url=e.url+p,e.params=void 0):(Reflect.has(e,"data")&&e.data&&Object.keys(e.data).length>0?(e.data=x,e.params=p):(e.data=p,e.params=void 0),o&&(e.url=(0,n.uj)(e.url,Object.assign({},e.params,e.data)))),e},requestInterceptors:(e,t)=>{var l,n,a;let i=null==t||null==(l=t.requestOptions)?void 0:l.encrypt;if((null==(n=e.url)?void 0:n.includes("upload"))||(null==(a=e.url)?void 0:a.includes("staff/login"))?e.headers["Content-Type"]=u.ze.FORM_DATA:e.headers["Content-Type"]=u.ze.JSON,e.data&&1===i){"object"==typeof e.data&&("application/json"===e.headers["Content-Type"]||"application/json;charset=UTF-8"===e.headers["Content-Type"])&&(e.data=JSON.stringify(e.data),e.transformRequest=e=>e);let t=g(e.data);e.data=t.data,e.headers["X-Encrypted-Key"]=t.key}return e.headers["X-Encrypted"]=i,e.headers.Authorization="Bearer "+sessionStorage.getItem("token"),e},requestCatchHook:e=>{let t=e.status,l="";if(t===u.IK.RC502&&(l="接口请求失败，请检查接口服务是否可正常访问！"),l){var n;null==(n=d.W.modal)||n.error({title:`\u{670D}\u{52A1}\u{5F02}\u{5E38}\u{FF0C}\u{72B6}\u{6001}\u{7801}(${t})`,content:l,okText:"确定"})}return Promise.reject(e)},responseInterceptors:e=>e,responseInterceptorsCatch:e=>{var t,l,n;let a=(null==e||null==(t=e.toString)?void 0:t.call(e))??"",{code:i,message:r}=(null==(l=e.response)?void 0:l.data)??{},{code:s,message:c}=e||{},m="";return i===u.IK.RC404&&r?m=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:["错误信息：",r]}),(0,o.jsxs)("div",{children:["请求路径：",e.config.url]})]}):"ECONNABORTED"===s&&-1!==c.indexOf("timeout")?m="接口请求超时，请稍后重试":(null==a?void 0:a.includes("Network Error"))?m="网络异常":i&&r&&(m=r),m&&(null==(n=d.W.modal)||n.error({title:`\u{670D}\u{52A1}\u{5F02}\u{5E38}\u{FF08}\u{72B6}\u{6001}\u{7801}\u{FF1A}${i||s}\u{FF09}`,content:m,okText:"确定"})),Promise.reject(e)}},requestOptions:{joinPrefix:!0,isReturnNativeResponse:!1,isTransformResponse:!0,joinParamsToUrl:!1,formatDate:!0,errorMessageMode:"modal",successMessageMode:"success",apiUrl:"/api",urlPrefix:"",joinTime:!1,ignoreCancelToken:!0,encrypt:0}},{}))},26930:function(e,t,l){"use strict";function n(e,t,l){return Object.keys(e).filter(e=>l?t.includes(e):!t.includes(e)).reduce((t,l)=>(t[l]=e[l],t),{})}function a(e,t,l){if(t.length!==l.length||!e.length)return;let n=[];return e.map(e=>{t.map((t,n)=>{e[t]&&Reflect.set(e,l[n],e[t])})}),JSON.parse(JSON.stringify(e))}function i(e,t){let l=new Map,n=[];return e.forEach(e=>{l.set(e[t],{...e,children:[]})}),e.forEach(e=>{if("0"!==e.parentId&&e.parentId){let n=l.get(e.parentId);n&&n.children.push(l.get(e[t]))}else n.push(l.get(e[t]))}),n}l.d(t,{Xk:()=>a,Yp:()=>n,fX:()=>i})},83150:function(e,t,l){"use strict";l.d(t,{B9:()=>function e(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return l;for(let i of t){var n,a;let t={};"object"==typeof i&&i.path&&2!==i.menuType&&(t.path=i.path,t.component=(0,o.Z)(i.component??"").type,l.push(t)),(null==(n=i.children)?void 0:n.length)&&(t.children=[],e(i.children,l)),(null==(a=i.childrenRoute)?void 0:a.length)&&(t.children=[],e(i.childrenRoute,l))}return l},RH:()=>function e(){let t,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(t in n)(0,r.Kn)(l[t])?l[t]=e(l[t],n[t]):l[t]=n[t];return l},Ug:()=>m,Xd:()=>p,q7:()=>u,uj:()=>d,zF:()=>c});var n=l(52676),a=l(95743),i=l(69810),r=l(38615),s=l(75271),o=l(27529);function d(e,t){let l="";for(let e in t)l+=`${e}=${encodeURIComponent(t[e])}&`;return l=l.replace(/&$/,""),/\?$/.test(e)?e+l:e.replace(/\/?$/,"?")+l}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let l of t){if(l.path===e)return l;if(l.children){let t=c(e,l.children);if(t)return t}}return null},u=e=>e&&e.indexOf("fusion")>-1?(0,n.jsx)(a.M,{type:`${e}`}):m(e),m=e=>e&&i[e]?s.createElement(i[e]):null,p=e=>{let t="",l=[],n=e.split("/").map(e=>`/${e}`);for(let e=1;e<n.length-1;e++)l.push(t+=n[e]);return l}},51923:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>r});var n=l(52676),a=l(24188),i=l(75271);let r=()=>{let e=(0,i.useRef)(null),t=(0,i.useRef)();return(0,i.useEffect)(()=>{t.current=a.Z.init(e.current,null,{renderer:"canvas"});let l={tooltip:{trigger:"item"},legend:{left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,padAngle:5,itemStyle:{borderRadius:10},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}]};t.current.setOption(l);let n=new ResizeObserver(()=>{var e;null==(e=t.current)||e.resize()});return n.observe(e.current),()=>{var e;null==(e=t.current)||e.dispose(),n.disconnect()}},[]),(0,n.jsx)("div",{ref:e,style:{height:"100%",width:"100%"}})}},16749:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>o});var n=l(52676),a=l(49027),i=l(44995),r=l(56093);let s="cardBg-kGkpTl",o=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(a.Z,{gutter:[24,48],children:[(0,n.jsx)(i.Z,{span:8,children:(0,n.jsx)(r.Z,{className:s,children:(0,n.jsx)("p",{children:"端点统计"})})}),(0,n.jsx)(i.Z,{span:8,children:(0,n.jsx)(r.Z,{className:s,children:(0,n.jsx)("p",{children:"端点统计"})})}),(0,n.jsx)(i.Z,{span:8,children:(0,n.jsx)(r.Z,{className:s,children:(0,n.jsx)("p",{children:"端点统计"})})}),(0,n.jsx)(i.Z,{span:8,children:(0,n.jsx)(r.Z,{className:s,children:(0,n.jsx)("p",{children:"端点统计"})})}),(0,n.jsx)(i.Z,{span:8,children:(0,n.jsx)(r.Z,{className:s,children:(0,n.jsx)("p",{children:"端点统计"})})}),(0,n.jsx)(i.Z,{span:8,children:(0,n.jsx)(r.Z,{className:s,children:(0,n.jsx)("p",{children:"端点统计"})})})]})})},37389:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>r});var n=l(52676),a=l(86781),i=l(10988);let r=()=>(0,n.jsx)(n.Fragment,{children:Array.from({length:10},(e,t)=>(0,n.jsxs)("div",{className:"menu-icon-item",style:{width:"17%"},children:[(0,n.jsx)(a.Z,{width:60,src:i,preview:!1}),(0,n.jsx)("div",{className:"menu-icon-item-name",children:"菜单名称"})]},t))})},120:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>r});var n=l(52676),a=l(43441),i=l(37389);let r=()=>(0,n.jsx)(a.Z,{wrap:"wrap",gap:"large",justify:"end",children:(0,n.jsx)(i.default,{})})},6426:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>r});var n=l(52676),a=l(75271),i=l(24188);let r=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)();return(0,a.useEffect)(()=>{t.current=i.Z.init(e.current,null,{renderer:"canvas"}),t.current.setOption({tooltip:{},grid:{left:"5%",right:"5%",bottom:"10%",top:"2%"},xAxis:{data:["A","B","C","D","E","F","G"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20,30],itemStyle:{color:()=>new i.Z.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#1677FF"},{offset:1,color:"#f0fbff"}])}},{name:"增长",type:"line",data:[3,15,22,8,13,25,32]}]});let l=new ResizeObserver(()=>{var e;null==(e=t.current)||e.resize()});return l.observe(e.current),()=>{var e;null==(e=t.current)||e.dispose(),l.disconnect()}},[]),(0,n.jsx)("div",{ref:e,style:{height:"100%",width:"100%"}})}},18700:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>x});var n=l(52676),a=l(74515),i=l(49027),r=l(44995),s=l(56093),o=l(82398),d=l(6426),c=l(120),u=l(16749),m=l(51923);let{RangePicker:p}=a.Z,x=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.Z,{gutter:8,children:[(0,n.jsx)(r.Z,{span:12,children:(0,n.jsx)(s.Z,{className:"cardTitleBar-Yc1QAF",style:{height:"300px"},children:"欢迎"})}),(0,n.jsx)(r.Z,{span:12,children:(0,n.jsx)(s.Z,{style:{height:"300px"},styles:{header:{borderBottom:"none"}},title:"快捷菜单",extra:(0,n.jsx)(o.ZP,{color:"default",variant:"filled",size:"small",children:"配置"}),children:(0,n.jsx)(c.default,{})})})]}),(0,n.jsxs)(i.Z,{gutter:8,style:{marginTop:"8px"},children:[(0,n.jsx)(r.Z,{span:12,children:(0,n.jsx)(s.Z,{styles:{header:{borderBottom:"none"},body:{height:"350px",width:"100%"}},title:"引擎状态",children:(0,n.jsx)(d.default,{})})}),(0,n.jsx)(r.Z,{span:12,children:(0,n.jsx)(s.Z,{styles:{header:{borderBottom:"none"},body:{height:"350px"}},title:"端点统计",children:(0,n.jsx)(u.default,{})})})]}),(0,n.jsxs)(i.Z,{gutter:8,style:{marginTop:"8px"},children:[(0,n.jsx)(r.Z,{span:8,children:(0,n.jsx)(s.Z,{styles:{header:{borderBottom:"none"},body:{height:"450px",width:"100%"}},title:"请求占比",children:(0,n.jsx)(m.default,{})})}),(0,n.jsx)(r.Z,{span:16,children:(0,n.jsx)(s.Z,{styles:{header:{borderBottom:"none"},body:{height:"450px",width:"100%"}},title:"每日消息统计",extra:(0,n.jsx)(p,{}),children:"菜单"})})]})]})}},95189:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>N});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(49027),o=l(44995),d=l(82398),c=l(86781),u=l(90737),m=l(7802),p=l(60313),x=l(78249),h=l(47151),g=l(56186),f=l(16013),y=l(88621),j=l(74429),b=l(8810),v=l(5658),I=l(26930),w=l(33894);let N=()=>{let[e]=i.Z.useForm(),t=(0,a.useRef)(null),l=(0,g.s0)(),N=(0,y.I0)(),[Z,M]=(0,a.useState)(!1),[k,C]=(0,a.useState)(),[T,S]=(0,a.useState)("");(0,a.useEffect)(()=>{F()},[]);let D=async t=>{t.verifyKey=T,M(!0);try{var a,i,r,s;let{code:o,data:d,message:c}=await (0,f.x4)(t);switch(o){case b.IK.RC107:case b.IK.RC102:e.setFields([{name:"username",errors:[c]}]),e.getFieldInstance("username").focus(),F();break;case b.IK.RC108:e.setFields([{name:"password",errors:[c]}]),e.getFieldInstance("password").focus(),F();break;case b.IK.RC300:case b.IK.RC301:e.setFields([{name:"captcha",errors:[c]}]),e.getFieldInstance("captcha").focus(),F();break;case b.IK.SUCCESS:{let e=null==(a=d.user)?void 0:a.userId,{homePath:t}=d;sessionStorage.setItem("token",d.access_token),sessionStorage.setItem("isLogin","true"),sessionStorage.setItem("roleId",e),sessionStorage.setItem("loginUser",null==(i=d.user)?void 0:i.username);let n=await (0,w.pz)(e);if(N((0,j.b4)((0,I.fX)(n,"menuId"))),!t){let e=n.find(e=>0===e.menuType);e&&(t=e.path)}l(t),null==(r=v.W.notification)||r.success({message:"登录成功",description:"欢迎来到在舱光速抢舱管理平台!"})}break;default:null==(s=v.W.modal)||s.error({title:"登录失败",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["错误状态码:",o]}),(0,n.jsxs)("p",{children:["失败原因:",c]})]})}),F()}}finally{M(!1)}},F=async()=>{let e=new Date().getTime().toString(),t=await (0,f.an)(e);C(t),S(null==t?void 0:t.verifyKey)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"dragArea-ZHBbyL"}),(0,n.jsx)("div",{className:"login-container-coYepu",children:(0,n.jsxs)("div",{className:"login-box-zNmUso",children:[(0,n.jsxs)("div",{className:"login-left-ZPHeSt",children:[(0,n.jsx)("div",{className:"logo mt-[60]",children:(0,n.jsx)("img",{className:"login-icon my-0 mx-auto",width:"70",src:m,alt:"logo"})}),(0,n.jsxs)("div",{className:"title",children:[(0,n.jsx)("p",{style:{fontSize:"20px",margin:0},children:(0,n.jsx)("span",{style:{fontFamily:"微软雅黑 Bold, 微软雅黑 Regular, 微软雅黑, sans-serif",fontWeight:700},children:"融合管理平台"})}),(0,n.jsx)("p",{style:{fontSize:"14px",margin:0},children:(0,n.jsx)("span",{style:{fontFamily:"微软雅黑, sans-serif",fontWeight:400,color:"#999999"},children:"在舱光速抢舱管理平台"})})]})]}),(0,n.jsxs)("div",{className:"login-form-_R2ZQt",children:[(0,n.jsx)("div",{className:"login-title",children:(0,n.jsx)("p",{style:{fontSize:"28px",textAlign:"center",margin:0},children:(0,n.jsx)("span",{style:{fontFamily:"微软雅黑 Bold, 微软雅黑 Regular, 微软雅黑, sans-serif",fontWeight:700},children:"用户登录"})})}),(0,n.jsx)("div",{className:"form",style:{marginTop:"40px"},children:(0,n.jsxs)(i.Z,{form:e,name:"login",labelCol:{span:5},initialValues:{username:"admin",password:"123456",remember:!0},size:"large",autoComplete:"off",onFinish:D,children:[(0,n.jsx)(i.Z.Item,{name:"username",rules:[{required:!0,message:"请输入用户名"}],children:(0,n.jsx)(r.Z,{size:"large",ref:t,autoFocus:!0,autoComplete:"off",allowClear:!0,placeholder:"用户名：admin",prefix:(0,n.jsx)(p.Z,{})})}),(0,n.jsx)(i.Z.Item,{name:"password",rules:[{required:!0,message:"请输入密码"}],children:(0,n.jsx)(r.Z.Password,{size:"large",allowClear:!0,autoComplete:"off",placeholder:"密码：123456qwe,.",prefix:(0,n.jsx)(x.Z,{})})}),(0,n.jsx)(i.Z.Item,{children:(0,n.jsxs)(s.Z,{gutter:8,children:[(0,n.jsx)(o.Z,{span:18,children:(0,n.jsx)(i.Z.Item,{name:"verifyCode",noStyle:!0,rules:[{required:!0,message:"请输入验证码"}],children:(0,n.jsx)(r.Z,{size:"large",allowClear:!0,placeholder:"输入右侧验证码",prefix:(0,n.jsx)(h.Z,{})})})}),(0,n.jsx)(o.Z,{span:6,children:(0,n.jsx)(d.ZP,{size:"large",onClick:F,style:{width:"100%",backgroundColor:"#f0f0f0",padding:"2px"},children:(0,n.jsx)(c.Z,{src:null==k?void 0:k.base64,preview:!1,width:"100%",height:"100%"})})})]})}),(0,n.jsx)(i.Z.Item,{name:"remember",valuePropName:"checked",children:(0,n.jsx)(u.Z,{children:"记住密码"})}),(0,n.jsx)(i.Z.Item,{children:(0,n.jsx)(d.ZP,{loading:Z,size:"large",style:{width:"100%"},type:"primary",htmlType:"submit",children:"登录"})})]})})]})]})})]})}},9906:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>y});var n=l(52676),a=l(75271),i=l(88621),r=l(59285),s=l(56093),o=l(74429),d=l(59286),c=l(5246);let u=[{label:"起运港",name:"porCode",formType:"normalSelect",options:[],span:6},{label:"目的港",name:"fndCode",formType:"normalSelect",options:[],span:6},{label:"细分航线",name:"router",formType:"normalSelect",options:[],selectFileldName:{label:"routeName",value:"id"},span:6},{label:"放舱日期",name:"create",formType:"date-picker",span:6}];var m=l(72273),p=l(89737),x=l(92313),h=l(98442),g=l(26930),f=l(461);let y=()=>{let e=(0,i.I0)(),{parentRef:t,height:l}=(0,f.Z)(),[y,j]=(0,a.useState)(u),[b,v]=(0,a.useState)({page:1,limit:10,router:null}),I=(0,i.v9)(e=>e.essentail),[w,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var e,t,l;N(!0),(null==(e=I.routeData)?void 0:e.length)&&(null==(t=I.porPortData)?void 0:t.length)&&(null==(l=I.fndPortData)?void 0:l.length)?M():Z()},[]);let Z=()=>{Promise.all([(0,m.ao)(),(0,p.Qq)(),(0,p.G4)()]).then(t=>{let l=["routeData","porPortData","fndPortData"];l.map((n,a)=>{e((0,o.qB)({value:t[a],key:l[a]}))}),M()})},M=()=>{let{routeData:e=[],porPortData:t=[],fndPortData:l=[]}=I,n=t.map(e=>({value:e.code,label:e.enName+"-"+e.cnName})),a=l.map(e=>({value:e.code,label:e.enName+"-"+e.cnName}));y.map(t=>{("porCode"===t.name||"fndCode"===t.name||"router"===t.name)&&(t.options="porCode"===t.name?n:"fndCode"===t.name?a:e)}),j(y),N(!1)},k=[{title:"船公司",key:"carrier",dataIndex:"carrier",align:"center"},{title:"起运港",key:"porCode",align:"center",render:e=>(0,n.jsx)("div",{children:e.porCode})},{title:"目的港",key:"fndCode",align:"center",render:e=>(0,n.jsx)("div",{children:e.fndCode})},{title:"船司航线",key:"carrierRouter",align:"center",render:e=>(0,n.jsx)("div",{children:e.carrierRouter})},{title:"细分航线",key:"router",align:"center",render:e=>(0,n.jsx)("div",{children:e.router})},{title:"ETD",key:"etd",align:"center",render:e=>(0,n.jsx)("div",{children:(0,h.m)(e.etd,"Y-M-D")})},{title:"放舱时间",key:"stowageTime",align:"center",render:e=>(0,n.jsxs)("div",{children:[e.stowageTime," ",e.stowageWeek]})}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(s.Z,{children:(0,n.jsx)(d.Z,{columns:u,gutterWidth:24,labelPosition:"left",btnSeparate:!0,isShowReset:!0,isShowExpend:!1,onUpdateSearch:e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));v({...(0,g.Yp)(b,["page","limit"],!0),...t})}})})}),(0,n.jsx)(s.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:t,children:(0,n.jsx)(c.Z,{size:"middle",columns:k,bordered:!0,rowKey:"id",scroll:{x:"max-content",y:l-158},immediate:w,fetchData:x.Rv,searchFilter:b,isSelection:!0,isPagination:!1,onUpdatePagination:()=>{}})})]})}},67342:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>I});var n=l(52676),a=l(75271),i=l(88621),r=l(59285),s=l(56093),o=l(91849),d=l(82398),c=l(74429),u=l(59286),m=l(5246),p=l(89737),x=l(92313),h=l(98442),g=l(26930);let f=[{label:"任务编号",name:"no",formType:"input",span:6},{label:"客户名称",name:"customerId",formType:"normalSelect",options:[],selectFileldName:{label:"name",value:"id"},span:6},{label:"起运港",name:"porCode",formType:"normalSelect",options:[],span:6},{label:"目的港",name:"fndCode",formType:"normalSelect",options:[],span:6},{label:"船公司",name:"carrier",formType:"normalSelect",options:[],selectFileldName:{label:"code",value:"code"},span:6},{label:"订舱时间",name:"createTime",formType:"date-picker",span:6}];var y=l(50993),j=l(461),b=l(20326),v=l(45125);let I=()=>{let e=(0,i.I0)(),{parentRef:t,height:l}=(0,j.Z)(),[I,w]=(0,a.useState)(f),[N,Z]=(0,a.useState)({page:1,limit:10}),M=(0,i.v9)(e=>e.essentail),[k,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var e,t,l,n;C(!0),(null==(e=M.customerData)?void 0:e.length)&&(null==(t=M.porPortData)?void 0:t.length)&&(null==(l=M.fndPortData)?void 0:l.length)&&(null==(n=M.carrierData)?void 0:n.length)?D():S()},[]);let T=[{title:"船公司",key:"carrier",dataIndex:"carrier",align:"center"},{title:"起运港",key:"porCode",align:"center",render:e=>(0,n.jsx)("div",{children:e.porCode})},{title:"目的港",key:"fndCode",align:"center",render:e=>(0,n.jsx)("div",{children:e.fndCode})},{title:"船司航线",key:"carrierRoute",align:"center",render:e=>(0,n.jsx)("div",{children:e.carrierRoute})},{title:"细分航线",key:"routeName",align:"center",render:e=>(0,n.jsx)("div",{children:e.routeName})},{title:"ETD",key:"etd",align:"center",render:e=>(0,n.jsx)("div",{children:(0,h.m)(e.etd,"Y-M-D")})},{title:"放舱时间",key:"cabinTime",align:"center",render:e=>(0,n.jsx)("div",{children:e.cabinTime})}],S=()=>{Promise.all([(0,v.rF)(),(0,p.Qq)(),(0,p.G4)(),(0,b.it)({enabled:1})]).then(t=>{let l=["customerData","porPortData","fndPortData","carrierData"];l.map((n,a)=>{e((0,c.qB)({value:t[a],key:l[a]}))}),D()})},D=()=>{let{customerData:e=[],porPortData:t=[],fndPortData:l=[],carrierData:n=[]}=M,a=t.map(e=>({value:e.code,label:e.enName+"-"+e.cnName})),i=l.map(e=>({value:e.code,label:e.enName+"-"+e.cnName}));I.map(t=>{("porCode"===t.name||"fndCode"===t.name||"customerId"===t.name||"carrier"===t.name)&&(t.options="porCode"===t.name?a:"fndCode"===t.name?i:"customerId"===t.name?e:n)}),w(I),C(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(s.Z,{children:(0,n.jsx)(u.Z,{columns:I,gutterWidth:24,labelPosition:"left",btnSeparate:!0,isShowReset:!0,isShowExpend:!1,onUpdateSearch:e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));Z({...(0,g.Yp)(N,["page","limit"],!0),...t})}})})}),(0,n.jsxs)(s.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:t,children:[(0,n.jsx)(o.Z,{className:"mb-[8px]",children:(0,n.jsx)(d.ZP,{type:"primary",icon:(0,n.jsx)(y.Z,{}),onClick:()=>{},children:"导出订舱结果"})}),(0,n.jsx)(m.Z,{size:"large",columns:T,bordered:!0,rowKey:"id",immediate:k,scroll:{x:"max-content",y:l-158},fetchData:x.RD,searchFilter:N,isSelection:!0,isPagination:!1,onUpdatePagination:()=>{}})]})]})}},41545:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>j});var n=l(52676),a=l(25407),i=l(86291),r=l(99254),s=l(82398),o=l(91849),d=l(61496),c=l(74515),u=l(97727),m=l(39257),p=l(19671),x=l(75271),h=l(41364),g=l(88621),f=l(98442),y=l(26930);let j=(0,x.memo)(e=>{let{params:t,carrier:l,onOk:j,onCancel:b}=e,{visible:v,currentRow:I,view:w}=t,[N]=i.Z.useForm(),Z=(0,g.v9)(e=>e.essentail),M=(0,x.useCallback)(()=>(0,h.getTemplateSetting)().formSetting[l]??[],[]);return(0,x.useEffect)(()=>{v&&(I||N.resetFields())},[v]),(0,n.jsx)(r.Z,{title:"创建任务",width:736,open:v,closeIcon:!1,extra:(0,n.jsx)(s.ZP,{type:"text",icon:(0,n.jsx)(a.Z,{}),onClick:b}),onClose:b,classNames:{footer:"text-right"},footer:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(s.ZP,{onClick:b,children:"取消"}),(0,n.jsx)(s.ZP,{type:"primary",onClick:()=>{N.validateFields().then(()=>{j({...(0,y.Yp)(N.getFieldsValue(),["contractNo","extentDndFreeDays","withRollable"],!1),etd:(0,f.m)(N.getFieldValue("etd"),"Y-M-D"),extra:{...(0,y.Yp)(N.getFieldsValue(),["contractNo","extentDndFreeDays","withRollable"],!0)}})}).catch(e=>{N.scrollToField(e.errorFields[0].name),N.focusField(e.errorFields[0].name)})},children:"确定"})]}),children:(0,n.jsxs)(i.Z,{form:N,labelCol:{span:4},initialValues:{ctnTicket:0,ctnQty:0,withRollable:!0,extentDndFreeDays:0},children:[(0,n.jsx)("div",{className:"bg-normal-blue font-medium rounded-[2px] text-white w-full px-[12px] py-[6px] mb-[20px]",children:"订舱信息"}),(0,n.jsx)(i.Z.Item,{label:"起运港",name:"porCode",rules:[{required:!0,message:"请输入起运港"}],children:(0,n.jsx)(d.Z,{allowClear:!0,placeholder:"请输入起运港",showSearch:!0,options:(Z.porPortData||[]).map(e=>({label:e.enName+"-"+e.cnName,value:e.code})),filterOption:(e,t)=>String((null==t?void 0:t.label)??"").toLowerCase().includes(e.toLowerCase())})}),(0,n.jsx)(i.Z.Item,{label:"目的港",name:"fndCode",rules:[{required:!0,message:"请输入目的港"}],children:(0,n.jsx)(d.Z,{allowClear:!0,placeholder:"请输入目的港",showSearch:!0,options:(Z.fndPortData||[]).map(e=>({label:e.enName+"-"+e.cnName,value:e.code})),filterOption:(e,t)=>String((null==t?void 0:t.label)??"").toLowerCase().includes(e.toLowerCase())})}),(0,n.jsx)(i.Z.Item,{label:"ETD",name:"etd",rules:[{required:!0,message:"请选择预计开航日期"}],children:(0,n.jsx)(c.Z,{placeholder:"请选择预计开航日期",style:{width:"100%"},showTime:{format:"YYYY-MM-DD"}})}),(0,n.jsx)(i.Z.Item,{label:"订舱客户",name:"customerId",rules:[{required:!0,message:"请输入订舱客户"}],children:(0,n.jsx)(d.Z,{allowClear:!0,placeholder:"请输入订舱客户",showSearch:!0,options:(Z.customerData||[]).map(e=>({label:e.name,value:e.id})),filterOption:(e,t)=>String((null==t?void 0:t.label)??"").toLowerCase().includes(e.toLowerCase())})}),(0,n.jsx)(i.Z.Item,{label:"箱型",style:{marginBottom:0},children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(i.Z.Item,{name:"ctnType",rules:[{required:!0,message:"请选择箱型"}],children:(0,n.jsx)(d.Z,{options:["20GP","40GP","40HQ","45HQ"].map(e=>({label:e,value:e})),filterOption:!0,style:{width:"200px"},placeholder:"请选择箱型"})}),(0,n.jsx)(i.Z.Item,{label:"票数",name:"ctnTicket",children:(0,n.jsx)(u.Z,{min:0})}),(0,n.jsx)(i.Z.Item,{label:"每票箱数",name:"ctnQty",children:(0,n.jsx)(u.Z,{min:0})})]})}),(0,n.jsx)(i.Z.Item,{label:"价格上限",name:"priceLimit",rules:[{required:!0,message:"请输入单箱价格上限"}],children:(0,n.jsx)(m.Z,{addonAfter:"USD",placeholder:"请输入单箱价格上限"})}),(0,n.jsxs)("div",{className:"bg-blue-500 font-medium rounded-[2px] text-white w-full my-[20px] px-[12px] py-[6px]",children:[l,"订舱要求"]}),M().map(e=>(0,n.jsxs)(i.Z.Item,{label:e.label,name:e.name,rules:e.isRules?[{required:!0,message:`\u{8BF7}\u{9009}\u{62E9}${e.label}`}]:[],children:["inputNumber"===e.formType&&(0,n.jsx)(u.Z,{min:0,style:{width:"200px"}}),"input"===e.formType&&(0,n.jsx)(m.Z,{placeholder:e.label,allowClear:!0}),"radio"===e.formType&&(0,n.jsx)(p.ZP.Group,{options:e.options})]},e.name))]})})})},35594:function(){},25940:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>m});var n=l(52676),a=l(75271),i=l(99254),r=l(82398),s=l(91849),o=l(25400),d=l(25407),c=l(41364),u=l(92313);let m=e=>{let{params:t,onCancel:l}=e,{visible:m,id:p}=t,[x,h]=(0,a.useState)([]),[g,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{m&&j()},[m]);let y=(0,a.useCallback)(()=>(0,c.getTemplateSetting)().operationColumns,[]),j=()=>{f(!0),(0,u.sh)(p??"").then(e=>{h(e),f(!1)}).catch(()=>f(!1))};return(0,n.jsx)(i.Z,{title:"操作日志",width:700,open:m,closeIcon:!1,extra:(0,n.jsx)(r.ZP,{type:"text",icon:(0,n.jsx)(d.Z,{}),onClick:l}),onClose:l,classNames:{footer:"text-right"},loading:g,footer:(0,n.jsx)(s.Z,{children:(0,n.jsx)(r.ZP,{onClick:l,children:"取消"})}),children:(0,n.jsx)(o.Z,{size:"middle",bordered:!0,pagination:!1,dataSource:x,columns:y(),loading:g,rowKey:"id"})})}},41364:function(e,t,l){"use strict";l.r(t),l.d(t,{getTemplateSetting:()=>i});var n=l(52676),a=l(98442);let i=(e,t)=>({columns:[{title:"任务编号",key:"taskNo",align:"center",width:100,render:e=>(0,n.jsx)("div",{className:"text-blue-500 cursor-pointer underline text-sm",children:e.taskNo})},{title:"船公司",key:"carrier",dataIndex:"carrier",align:"center",width:80},{title:"起运港",key:"porCode",dataIndex:"porCode",align:"center",width:100},{title:"目的港",key:"fndCode",dataIndex:"fndCode",align:"center",width:100},{title:"船司航线",key:"route",dataIndex:"routeFndName",align:"center",width:100},{title:"客户名称",key:"customerName",align:"center",width:300,render:e=>(0,n.jsx)("div",{className:"text-blue-500 cursor-pointer underline text-sm",children:e.customerName})},{title:"ETD",key:"etd",align:"center",width:180,render:e=>(0,n.jsx)("div",{children:(0,a.m)(e.etd,"M-D")})},{title:"箱型",key:"ctntype",dataIndex:"ctnType",align:"center"},{title:"箱型/票数",key:"ctnQty",align:"center",width:120,render:e=>(0,n.jsxs)("div",{children:[e.ctnQty," / ",e.ctnTicket]})},"MSK"===e&&{title:"额外免箱",key:"extra",align:"center",width:150,render(e){var t;return(0,n.jsx)("div",{children:(null==(t=e.extra)?void 0:t.extentDndFreeDays)??"-"})}},"MSK"===e&&{title:"rollable",key:"extra",align:"center",width:150,render(e){var t;return(0,n.jsx)("div",{children:(null==(t=e.extra)?void 0:t.withRollable)?"需要":"不需要"})}},"MSK"===e&&{title:"合约号",key:"extra",align:"center",width:120,render(e){var t;return(0,n.jsx)("div",{children:(null==(t=e.extra)?void 0:t.contractNo)??""})}},{title:"价格上限",dataIndex:"priceLimit",key:"priceLimit",align:"center",width:120},{title:"抢舱模式",dataIndex:"startType",key:"startType",align:"center",hidden:"NOT_STARTED"===t,width:120},{title:"创建时间",key:"createTime",align:"center",width:180,render:e=>(0,n.jsx)("div",{children:(0,a.m)(e.createTime,"Y-M-D h:m")})}],formSetting:{MSK:[{label:"关联约号",isRules:!1,name:"contractNo",formType:"input"},{label:"免箱期",isRules:!0,name:"extentDndFreeDays",formType:"inputNumber"},{label:"rollable",isRules:!0,formType:"radio",name:"withRollable",options:[{label:"需要",value:1},{label:"不需要",value:0}]}]},operationColumns:[{title:"操作人",key:"userName",dataIndex:"userName",align:"center"},{title:"操作时间",key:"updateTime",align:"center",render:e=>(0,n.jsx)("div",{children:(0,a.m)(e.updateTime,"Y-M-D h:m")})},{title:"操作信息",key:"etd",align:"center",dataIndex:"content"}]})},88929:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>T});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(82398),o=l(59285),d=l(56093),c=l(86291),u=l(49027),m=l(44995);let p=[{label:"客户名称",name:"customerId",formType:"normalSelect",selectFileldName:{label:"name",value:"id"},span:6},{label:"起运港",name:"porCode",formType:"normalSelect",options:[],span:6},{label:"目的港",name:"fndCode",formType:"normalSelect",options:[],span:6},{label:"ETD",name:"etd",formType:"date-picker",span:6},{label:"创建时间",name:"created",formType:"date-picker",span:6}],x=[{label:"未启动",name:"NOT_STARTED"},{label:"运行中",name:"RUNNING"},{label:"已关闭",name:"CLOSED"}];var h=l(88621),g=l(59286),f=l(5246),y=l(41545),j=l(80311),b=l(25940),v=l(74429),I=l(41364),w=l(92313),N=l(72273),Z=l(89737),M=l(26930),k=l(461),C=l(45125);let T=(0,a.memo)(e=>{let{carrier:t,setting:l}=e,{message:T}=i.Z.useApp(),{parentRef:S,height:D}=(0,k.Z)(),F=(0,h.I0)(),[O,E]=(0,a.useState)([]),[A,z]=(0,a.useState)(p),P=(0,h.v9)(e=>e.essentail),[R,L]=(0,a.useState)("NOT_STARTED"),[U,B]=(0,a.useState)(!1),[Y,Q]=(0,a.useState)([]),V=(0,a.useCallback)(()=>0!==Y.length||(T.error("请至少选择一条数据！"),!1),[Y]),[q,K]=(0,a.useState)({visible:!1,id:null}),[H,G]=(0,a.useState)(!1),W=(0,a.useCallback)(()=>{var e;return null==(e=(0,I.getTemplateSetting)(t,R).columns)?void 0:e.concat({title:"操作",width:"8%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(s.ZP,{color:"green",hidden:"NOT_STARTED"!==R,style:{background:"#07C160"},variant:"solid",onClick:ea,children:"即刻抢舱"}),(0,n.jsx)(s.ZP,{hidden:"RUNNING"!==R,color:"red",variant:"solid",children:"停止抢舱"}),(0,n.jsx)(s.ZP,{type:"default",onClick:()=>K({visible:!0,id:t.id}),children:"操作日志"})]})})},[I.getTemplateSetting,R]),[$,_]=(0,a.useState)({page:1,limit:10,routeFndId:null,status:"NOT_STARTED"}),[J,X]=(0,a.useState)({visible:!1,currentRow:null,view:!1});(0,a.useEffect)(()=>{var e,l,n,a;t&&(B(!0),(null==(e=P.routeData)?void 0:e.length)&&(null==(l=P.porPortData)?void 0:l.length)&&(null==(n=P.fndPortData)?void 0:n.length)&&(null==(a=P.customerData)?void 0:a.length)?et():ee())},[t,P]);let ee=()=>{Promise.all([(0,N.ao)(),(0,Z.Qq)(),(0,Z.G4)(),(0,C.rF)()]).then(e=>{let t=["routeData","porPortData","fndPortData","customerData"];t.map((l,n)=>{F((0,v.qB)({value:e[n],key:t[n]}))}),et()})},et=()=>{let{routeData:e,porPortData:t,fndPortData:l,customerData:n}=P;E([{label:"全航线",key:""}].concat((e||[]).map(e=>({key:String(e.id),label:e.routeName}))));let a=(t||[]).map(e=>({value:e.code,label:e.enName+"-"+e.cnName})),i=(l||[]).map(e=>({value:e.code,label:e.enName+"-"+e.cnName}));A.map(e=>{("porCode"===e.name||"fndCode"===e.name)&&(e.options="porCode"===e.name?a:i),"customerId"===e.name&&(e.options=n)}),z([...A]),B(!1)},el=e=>{L(e),en($)},en=e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));_({...(0,M.Yp)($,["page","limit"],!0),...t})},ea=()=>{};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsxs)(d.Z,{tabList:O,onTabChange:e=>{_({...$,routeFndId:e})},loading:U,children:[(0,n.jsx)(c.Z,{labelCol:{xs:{span:24},sm:{span:6}},labelAlign:"left",colon:!1,children:(0,n.jsx)(u.Z,{gutter:24,children:(0,n.jsx)(m.Z,{span:8,children:(0,n.jsx)(c.Z.Item,{label:"任务状态",children:(0,n.jsx)("div",{className:"grid grid-cols-3 mb-[10px] w-fit",children:x.map(e=>(0,n.jsx)("div",{className:`w-[80px] h-[32px] leading-[30px] text-center rounded-[4px] mr-[8px] cursor-pointer ${R===e.name?"text-blue-500 border-1 border-blue-500":"text-dull-grey border-1 border-slate-400"}`,onClick:()=>el(e.name),children:e.label},e.name))})})})})}),(0,n.jsx)(g.Z,{columns:p,gutterWidth:24,labelPosition:"left",btnSeparate:!1,isShowReset:!0,isShowExpend:!1,onUpdateSearch:en})]})}),(0,n.jsxs)(d.Z,{loading:U,style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:S,children:["NOT_STARTED"===R?(0,n.jsxs)(r.Z,{className:"mb-[8px]",children:[(0,n.jsx)(s.ZP,{type:"primary",onClick:()=>X({visible:!0,currentRow:null,view:!0}),children:"创建任务"}),(0,n.jsx)(s.ZP,{color:"orange",variant:"solid",onClick:()=>G(!0),children:"导入任务"}),(0,n.jsx)(s.ZP,{color:"green",style:{background:"#07C160"},variant:"solid",onClick:()=>V()&&ea(),children:"即刻抢舱"}),(0,n.jsx)(s.ZP,{color:"green",variant:"solid",onClick:()=>V()&&ea(),children:"高频启动"}),(0,n.jsx)(s.ZP,{color:"green",variant:"solid",onClick:()=>V()&&ea(),children:"设置放舱同频"}),(0,n.jsx)(s.ZP,{color:"red",variant:"solid",onClick:()=>K({visible:!1,id:null}),children:"关闭任务"}),(0,n.jsx)("div",{className:"underline text-blue-500 text-sm cursor-pointer",onClick:()=>{let e=document.createElement("iframe");e.src="https://wx.zaicang.net/static/file/exportBatch-template.xlsx",e.style.display="none",document.body.appendChild(e)},children:"下载MSK抢舱模版"})]}):"RUNNING"===R?(0,n.jsx)(r.Z,{className:"mb-[8px]",children:(0,n.jsx)(s.ZP,{hidden:"RUNNING"!==R,color:"red",variant:"solid",onClick:()=>V()&&ea(),children:"批量停止"})}):null,(0,n.jsx)(f.Z,{size:"middle",columns:W(),bordered:!0,rowKey:"id",scroll:{x:"max-content",y:D-158},immediate:U,fetchData:w.dF,searchFilter:$,isSelection:!0,onUpdatePagination:e=>{_({...$,page:e.current,limit:e.pageSize})},onUpdateSelection:e=>Q(e)})]}),(0,n.jsx)(y.default,{params:J,carrier:t,onOk:e=>{(0,w.Jk)({...e,carrier:t}).then(()=>{T.success("订舱任务添加成功"),X({visible:!1,currentRow:null,view:!1}),en($)})},onCancel:()=>X({visible:!1,currentRow:null,view:!1})}),(0,n.jsx)(b.default,{params:q,onCancel:()=>K({visible:!1,id:null})}),(0,n.jsx)(j.default,{type:"importCabinTask",title:"批量导入任务",visible:H,onOk:()=>{},onCancel:()=>G(!1)})]})})},93258:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>i});var n=l(52676);l(75271);var a=l(88929);let i=()=>(0,n.jsx)(a.default,{carrier:"MSK",setting:null})},95627:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>j});var n=l(52676),a=l(75271),i=l(59285),r=l(56093),s=l(91849),o=l(461),d=l(88621),c=l(74429),u=l(59286),m=l(5246),p=l(72273),x=l(89737),h=l(20326),g=l(92313);let f=[{label:"船公司",name:"carrier",formType:"normalSelect",options:[],selectFileldName:{label:"code",value:"code"},span:6},{label:"起运港",name:"porCode",formType:"normalSelect",options:[],span:6},{label:"目的港",name:"fndCode",formType:"normalSelect",options:[],span:6},{label:"细分航线",name:"router",formType:"normalSelect",options:[],selectFileldName:{label:"routeName",value:"id"},span:6}];var y=l(26930);let j=()=>{let{parentRef:e,height:t}=(0,o.Z)(),[l,j]=(0,a.useState)("日一二三四五六".charAt(new Date().getDay())),b=(0,d.I0)(),v=(0,d.v9)(e=>e.essentail),[I,w]=(0,a.useState)(!1),[N,Z]=(0,a.useState)(f),[M,k]=(0,a.useState)({page:1,limit:10}),[C,T]=(0,a.useState)({visible:!1,id:null});(0,a.useEffect)(()=>{var e,t,l,n;w(!0),(null==(e=v.routeData)?void 0:e.length)&&(null==(t=v.porPortData)?void 0:t.length)&&(null==(l=v.fndPortData)?void 0:l.length)&&(null==(n=v.carrierData)?void 0:n.length)?F():D()},[]);let S=[{title:"船公司",key:"carrier",dataIndex:"carrier",align:"center",width:80},{title:"起运港",key:"porCode",dataIndex:"porCode",align:"center",width:100},{title:"目的港",key:"fndCode",dataIndex:"fndCode",align:"center",width:100},{title:"船司航线",key:"route",dataIndex:"routeFndName",align:"center",width:100},{title:"关联客户",key:"customer",align:"center",width:100,render:(e,t)=>(0,n.jsx)("div",{className:"cursor-pointer text-normal-blue text-sm",onClick:()=>{T({visible:!0,id:t.id})},children:"3个客户"})}],D=()=>{Promise.all([(0,p.ao)(),(0,x.Qq)(),(0,x.G4)(),(0,h.it)({enabled:1})]).then(e=>{let t=["routeData","porPortData","fndPortData","carrierData"];t.map((l,n)=>{b((0,c.qB)({value:e[n],key:t[n]}))}),F()})},F=()=>{let{routeData:e,porPortData:t,fndPortData:l,carrierData:n}=v,a=(t||[]).map(e=>({value:e.code,label:e.enName+"-"+e.cnName})),i=(l||[]).map(e=>({value:e.code,label:e.enName+"-"+e.cnName}));N.map(t=>{("porCode"===t.name||"fndCode"===t.name)&&(t.options="porCode"===t.name?a:i),"carrier"===t.name&&(t.options=n),"router"===t.name&&(t.options=e)}),Z([...N]),w(!1)},O=e=>{j(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(r.Z,{children:(0,n.jsx)("div",{className:"w-full flex items-center justify-between",children:[{label:"周一",key:"一"},{label:"周二",key:"二",children:()=>(0,n.jsx)("div",{className:"",children:"123"})},{label:"周三",key:"三"},{label:"周四",key:"四"},{label:"周五",key:"五"},{label:"周六",key:"六"},{label:"周日",key:"日"}].map((e,t)=>(0,n.jsxs)("div",{className:`font-semibold text-base cursor-pointer ${0===new Date().getDay()||new Date().getDay()===t+1?"text-normal-blue":"text-light-grey"}`,onClick:()=>O(e.key),children:[(0,n.jsxs)("p",{className:"text-center",children:[(0,n.jsx)("span",{className:"mr-[6px]",children:0===new Date().getDay()||new Date().getDay()===t+1&&"今日"}),e.label]}),(0,n.jsx)("div",{className:`w-[160px] h-[2px] mt-[8px] ${0===new Date().getDay()||new Date().getDay()===t+1?"bg-normal-blue":"bg-gray-200"}`}),(0,n.jsx)("div",{})]},e.label))})})}),(0,n.jsxs)(r.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:e,children:[(0,n.jsx)("div",{className:"font-semibold text-base text-dull-grey mb-[10px]",children:"账号预登录"}),(0,n.jsx)(u.Z,{columns:N,gutterWidth:24,labelPosition:"left",btnSeparate:!0,isShowReset:!0,isShowExpend:!1,onUpdateSearch:e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));k({...(0,y.Yp)(M,["page","limit"],!0),...t})}}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(m.Z,{size:"middle",columns:S,bordered:!0,rowKey:"id",scroll:{x:"max-content",y:t-268},immediate:I,fetchData:g.dF,searchFilter:M,isSelection:!1,onUpdatePagination:e=>{k({...M,page:e.current,limit:e.pageSize})}})})]})]})}},24677:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>d});var n=l(52676),a=l(67857),i=l(86291),r=l(39257),s=l(75271),o=l(22359);let d=e=>{let{params:t,onOk:l,onCancel:d}=e,{visible:c,currentRow:u,view:m}=t,[p]=i.Z.useForm();return(0,s.useEffect)(()=>{c&&(u?p.setFieldsValue(u):p.resetFields())},[c,m]),(0,n.jsx)(a.Z,{width:"40%",open:c,title:u?"编辑客户":"新增客户",okButtonProps:{className:m?"hidden":""},onOk:()=>{p.validateFields().then(()=>{l(p.getFieldsValue())}).catch(e=>{p.scrollToField(e.errorFields[0].name),p.focusField(e.errorFields[0].name)})},onCancel:d,children:(0,n.jsxs)(i.Z,{form:p,labelCol:{span:6},children:[(0,n.jsx)(i.Z.Item,{name:"id",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),o.m.map(e=>(0,n.jsx)(i.Z.Item,{label:e.label,name:e.name,rules:[{required:!0,message:`\u{8BF7}${"input"===e.formType?"输入":"选择"}${e.label}`}],children:"input"===e.formType&&(0,n.jsx)(r.Z,{placeholder:`\u{8BF7}\u{8F93}\u{5165}${e.label}`,autoComplete:"off"})},e.name))]})})}},22359:function(e,t,l){"use strict";l.d(t,{H:()=>n,m:()=>a});let n=[{label:"客户名称",name:"name",formType:"input",span:6}],a=[{label:"客户名称",name:"name",formType:"input",span:12},{label:"客户简称",name:"shortName",formType:"input",span:12},{label:"统一社会信用代码",name:"socialCode",formType:"input",span:12}]},77723:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>j});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(82398),o=l(59285),d=l(56093),c=l(50372),u=l(26114),m=l(59286),p=l(5246),x=l(45125),h=l(22359),g=l(24677),f=l(26930),y=l(461);let j=()=>{let{modal:e,message:t}=i.Z.useApp(),{parentRef:l,height:j}=(0,y.Z)(),[b,v]=(0,a.useState)({page:1,limit:10,name:null}),[I,w]=(0,a.useState)({visible:!1,currentRow:null,view:!1}),N=[{title:"客户名称",dataIndex:"name",key:"name",align:"center"},{title:"客户简称",dataIndex:"shortName",key:"shortName",align:"center"},{title:"统一社会信用代码",dataIndex:"socialCode",key:"socialCode",width:300,align:"center"},{title:"修改时间",key:"updateTime",dataIndex:"updateTime",align:"center"},{title:"操作",width:"14%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(r.Z,{size:0,children:[(0,n.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>w({visible:!0,currentRow:t,view:!0}),children:"修改"}),(0,n.jsx)(s.ZP,{type:"link",danger:!0,size:"small",onClick:()=>M(t.id),children:"删除"})]})}],Z=async e=>{try{null==I.currentRow?await (0,x.Aq)(e):await (0,x.PH)(e),t.success(I.currentRow?"修改成功":"添加成功"),w({visible:!1,currentRow:null,view:!1}),k()}catch(e){}},M=t=>{e.confirm({title:"删除客户",icon:(0,n.jsx)(c.Z,{}),content:"确定删除该客户吗？数据删除后将无法恢复！",onOk(){(0,x.UK)(t).then(()=>{k()})}})},k=e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));v({...(0,f.Yp)(b,["page","limit"],!0),...t})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(d.Z,{children:(0,n.jsx)(m.Z,{columns:h.H,gutterWidth:24,labelPosition:"left",btnSeparate:!1,isShowReset:!0,isShowExpend:!1,onUpdateSearch:k})})}),(0,n.jsxs)(d.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:l,children:[(0,n.jsx)(r.Z,{className:"mb-[8px]",children:(0,n.jsx)(s.ZP,{type:"primary",icon:(0,n.jsx)(u.Z,{}),onClick:()=>w({visible:!0,currentRow:null,view:!0}),children:"新增客户"})}),(0,n.jsx)(p.Z,{size:"middle",columns:N,bordered:!0,rowKey:"id",scroll:{x:"max-content",y:j-158},fetchData:x.v8,isCache:"customerData",searchFilter:b,isSelection:!1,onUpdatePagination:e=>{v({...b,page:e.current,limit:e.pageSize})}})]}),(0,n.jsx)(g.default,{params:I,onOk:Z,onCancel:()=>w({visible:!1,currentRow:null,view:!1})})]})}},57457:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>u});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(61496),o=l(19671),d=l(67857),c=l(11957);let u=e=>{let{params:t,carrierOptions:l,customerOptions:u,onOk:m,onCancel:p}=e,{visible:x,currentRow:h,view:g,type:f}=t,[y]=i.Z.useForm(),[j,b]=(0,a.useState)({});return(0,a.useEffect)(()=>{x&&(h?y.setFieldsValue({...h,type:f}):(y.resetFields(),b({type:f}),y.setFieldsValue({type:f})))},[x,g]),(0,n.jsx)(d.Z,{width:"40%",open:x,title:h?"编辑船司账号":"新增船司账号",okButtonProps:{className:g?"hidden":""},onOk:()=>{y.validateFields().then(()=>{m(y.getFieldsValue())}).catch(e=>{y.scrollToField(e.errorFields[0].name),y.focusField(e.errorFields[0].name)})},onCancel:p,children:(0,n.jsxs)(i.Z,{form:y,labelCol:{span:4},initialValues:j,children:[(0,n.jsx)(i.Z.Item,{name:"id",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),c.lw.map(e=>(0,n.jsxs)(i.Z.Item,{label:e.label,name:e.name,rules:[{required:!0,message:`\u{8BF7}${"input"===e.formType?"输入":"选择"}${e.label}`}],children:["input"===e.formType&&(0,n.jsx)(r.Z,{placeholder:`\u{8BF7}\u{8F93}\u{5165}${e.label}`,autoComplete:"off"}),"select"===e.formType&&(0,n.jsx)(s.Z,{placeholder:`\u{8BF7}\u{9009}\u{62E9}${e.label}`,filterOption:!0,options:"carrier"===e.name?l:u,fieldNames:e.selectFileldName??{label:"labal",value:"value",children:"children"}}),"radio"===e.formType&&(0,n.jsx)(o.ZP.Group,{options:e.options})]},e.name))]})})}},80311:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>x});var n=l(52676),a=l(75271),i=l(86291),r=l(84208),s=l(61496),o=l(59285),d=l(60499),c=l(67857),u=l(72971),m=l(60233);let p={importShippingAccount:{xlsxHeader:["船公司编码","账号抬头","登录名","登录密码","支付密码"],xlsxKey:["carrier","accountHead","account","loginPassword","payPassword"]},importCabinTask:{xlsxHeader:[],xlsxKey:[]}},x=e=>{let{visible:t,type:l,options:x,title:h,onOk:g,onCancel:f}=e,[y]=i.Z.useForm(),{Dragger:j}=r.Z,[b,v]=(0,a.useState)([]),[I,w]=(0,a.useState)([]);return(0,a.useEffect)(()=>{t&&(y.resetFields(),v([]),w([]))},[t]),(0,n.jsx)(c.Z,{open:t,width:"40%",title:h,onOk:()=>{y.validateFields().then(()=>{g(I.map(e=>({...e,customerId:y.getFieldValue("customerId")})))}).catch(e=>{y.scrollToField(e.errorFields[0].name),y.focusField(e.errorFields[0].name)})},onCancel:f,okText:"导入",children:(0,n.jsxs)(i.Z,{form:y,labelCol:{span:4},children:["importShippingAccount"===l&&(0,n.jsx)(i.Z.Item,{label:"客户名称",name:"customerId",rules:[{required:!0,message:"请输入客户名称"}],children:(0,n.jsx)(s.Z,{allowClear:!0,placeholder:"请输入客户名称",showSearch:!0,options:x,fieldNames:{label:"name",value:"id"},filterOption:(e,t)=>String((null==t?void 0:t.label)??"").toLowerCase().includes(e.toLowerCase())})}),"importCabinTask"===l&&(0,n.jsx)("div",{className:"underline text-blue-500 text-sm cursor-pointer mb-[20px]",children:"下载MSK抢舱模版"}),(0,n.jsx)(o.ZP,{theme:{components:{Upload:{colorBorder:"#167fff",colorFillAlter:"rgba(241,246,255,1)"}}},children:(0,n.jsxs)(j,{...{name:"file",multiple:!1,accept:".xlsx",beforeUpload:e=>(v([e]),!1),onChange(e){var t=e.file;let n=new FileReader;n.onload=e=>{let t=e.target?e.target.result:null;if(!t)return;let n=new Uint8Array(t),a=m.ij(n,{type:"array"}),i=a.SheetNames[0],r=a.Sheets[i],s=m.P6.sheet_to_json(r,{header:1}),o=[];return!s[0]||s[0].find(e=>!p[l].xlsxHeader.includes(e))?void u.ZP.error("船司账号导入格式有误，请下载账号导入模版！"):s[1]?void(s.slice(1).map(e=>{let t={};for(let n in e)t={...t,[p[l].xlsxKey[n]]:e[n]};o.push(t)}),w(o)):(u.ZP.error("船司账号导入内容不存在！"),!1)},n.readAsArrayBuffer(t)},fileList:b},children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(d.Z,{})}),(0,n.jsx)("p",{className:"text-sky-600",children:"点击或将文件拖动到这里上传"}),(0,n.jsx)("p",{children:"仅支持文件格式：xlsx"})]})})]})})}},56783:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>a});var n=l(26930);function a(e,t,l){return({tableColumns:[],searchFilter:[{label:"船公司",name:"carrier",formType:"normalSelect",options:t.carrierData?(0,n.Xk)(t.carrierData,["code","code"],["label","value"]):[],span:6},{label:"客户名称",name:"customerId",formType:"normalSelect",options:t.customerData?(0,n.Xk)(t.customerData,["id","name"],["value","label"]):[],span:6},{label:"船司账号",name:"account",formType:"input",span:6},{label:"是否启用",name:"isEnable",formType:"normalSelect",options:[{label:"启用",value:1},{label:"不启用",value:0}],span:6},{label:"关联服务",name:"serverName",formType:"select",options:[],hidden:!l.judge,span:6},{label:"查询状态",name:"isQuery",formType:"select",hidden:l.judge,options:[{label:"是",value:1},{label:"否",value:0}],span:6}],form:[]})[e]}},11957:function(e,t,l){"use strict";l.d(t,{bI:()=>a,lw:()=>i,ox:()=>r});var n=l(17684);let a=[{label:"船公司",name:"carrier",formType:"normalSelect",options:[],selectFileldName:{label:"code",value:"code"},span:6},{label:"客户名称",name:"customerId",formType:"normalSelect",options:[],selectFileldName:{label:"name",value:"id"},span:6},{label:"船司账号",name:"account",formType:"input",span:6},{label:"是否启用",name:"isEnable",formType:"normalSelect",options:[{label:"启用",value:1},{label:"不启用",value:0}],span:6},{label:"关联服务",name:"serverName",formType:"normalSelect",options:[],hidden:!0,span:6},{label:"查询状态",name:"isQuery",formType:"normalSelect",hidden:!0,options:[{label:"是",value:1},{label:"否",value:0}],span:6}],i=[{label:"账号类型",name:"type",formType:"radio",options:[{label:"查询",value:"QUERY"},{label:"下单",value:"ORDER"}],span:12},{label:"船公司",name:"carrier",formType:"select",span:12,selectFileldName:{label:"code",value:"code"}},{label:"客户名称",name:"customerId",formType:"select",span:12,selectFileldName:{label:"name",value:"id"}},{label:"船司账号",name:"account",formType:"input",span:12},{label:"账号抬头",name:"accountHead",formType:"input",span:12},{label:"登录密码",name:"loginPassword",formType:"input",span:12},{label:"支付密码",name:"payPassword",formType:"input",span:12}],r={search:n.D4,cancelSearch:n.IW,open:n.M5,close:n.VW}},80775:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>C});var n=l(52676),a=l(75271),i=l(56186),r=l(88621),s=l(85108),o=l(91849),d=l(82398),c=l(59285),u=l(56093),m=l(50372),p=l(26114),x=l(56581),h=l(74429),g=l(11957),f=l(59286),y=l(5246),j=l(17684),b=l(57457),v=l(80311),I=l(1961),w=l(20326),N=l(45125),Z=l(26930),M=l(98442),k=l(461);let C=()=>{var e;let{modal:t,message:l}=s.Z.useApp();(0,i.UO)();let C=(0,i.TH)(),{parentRef:T,height:S}=(0,k.Z)(),D=(0,r.I0)(),F=(0,r.v9)(e=>e.essentail),[O,E]=(0,a.useState)(g.bI),[A,z]=(0,a.useState)(!1),[P,R]=(0,a.useState)([]),[L,U]=(0,a.useState)({page:1,limit:10,carrier:null,account:null}),[B,Y]=(0,a.useState)([]),[Q,V]=(0,a.useState)([]),[q,K]=(0,a.useState)(!1),[H,G]=(0,a.useState)({visible:!1,currentRow:null,view:!1,type:"QUERY"}),[W,$]=(0,a.useState)(!1),_=[{title:"船公司",dataIndex:"carrier",key:"carrier",align:"center",width:80},{title:"客户名称",dataIndex:"customerName",key:"customerName",align:"center",width:200},{title:"船司账号",dataIndex:"account",key:"account",width:200,align:"center"},{title:"账号抬头",dataIndex:"accountHead",key:"accountHead",align:"center",width:100},{title:"设为查询",key:"isQuery",align:"center",width:100,hidden:"QUERY"===H.type,render:e=>(0,n.jsx)("div",{children:(null==e?void 0:e.isQuery)?"已设置":"-"})},{title:"账号状态",key:"vaild",align:"center",width:100,render:e=>(0,n.jsx)("div",{className:`text-${e.isValid?"blue":"red"}-500`,children:e.vaild?"有效":"无效"})},{title:"是否启用",key:"isEnable",align:"center",width:100,render:e=>(0,n.jsx)("div",{className:`text-${e.isEnable?"blue":"red"}-500`,children:e.isEnable?"启用":"不启用"})},{title:"关联服务",key:"serverName",dataIndex:"serverName",align:"center",width:120},{title:"更新时间",key:"updateTime",align:"center",width:150,render:e=>(0,n.jsx)("div",{children:(0,M.m)(e.updateTime,"Y-M-D h:m")})},{title:"操作",width:"10%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(o.Z,{size:0,children:[(0,n.jsx)(d.ZP,{type:"link",size:"small",onClick:()=>G({...H,visible:!0,currentRow:t,view:!0}),children:"修改"}),(0,n.jsx)(d.ZP,{type:"link",danger:!0,size:"small",onClick:()=>et(t.id),children:"删除"})]})}];(0,a.useEffect)(()=>{var e,t;let l=C.pathname.split("/customerInformation/shippingAccount/")[1];K(!0),(null==(e=F.carrierData)?void 0:e.length)&&(null==(t=F.routeData)?void 0:t.length)?X():J(),G({...H,type:l})},[C.pathname,H.type]);let J=()=>{Promise.all([(0,w.it)({enabled:1}),(0,N.rF)()]).then(e=>{let t=["carrierData","customerData"];t.map((l,n)=>{D((0,h.qB)({value:e[n],key:t[n]}))}),X()})},X=()=>{let{carrierData:e=[],customerData:t=[]}=F;O.map(l=>{"carrier"===l.name&&(l.options=e),"customerId"===l.name&&(l.options=t),"serverName"===l.name&&(l.hidden="QUERY"!==H.type),"isQuery"===l.name&&(l.hidden="ORDER"!==H.type)}),V(t),E([...O]),Y(e),K(!1)},ee=e=>{if(0===P.length)l.error("请至少选择一个船司账号！");else{if(!e)return void z(!0);g.ox[e](P).then(()=>{l.success("操作成功"),el(L)})}},et=e=>{t.confirm({title:"删除船司账号",icon:(0,n.jsx)(m.Z,{}),content:"确定删除该船司账号吗？数据删除后将无法恢复！",onOk(){(0,j.N8)(e).then(()=>{el()})}})},el=e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return void 0!==t||null!==t}));U({...(0,Z.Yp)(L,["page","limit"],!0),...t})},en=async e=>{try{null==H.currentRow?await (0,j.hv)(e):await (0,j.S9)(e),l.success(H.currentRow?"修改成功":"添加成功"),G({...H,visible:!1,currentRow:null,view:!1}),el()}catch(e){}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(u.Z,{children:(0,n.jsx)(f.Z,{columns:O,gutterWidth:24,labelPosition:"left",btnSeparate:!0,isShowReset:!0,isShowExpend:!1,onUpdateSearch:el})})}),(0,n.jsxs)(u.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:T,children:[(0,n.jsxs)(o.Z,{className:"mb-[8px]",children:[(0,n.jsx)(d.ZP,{type:"primary",icon:(0,n.jsx)(p.Z,{}),onClick:()=>G({visible:!0,currentRow:null,view:!0,type:H.type}),children:"添加账号"}),(0,n.jsx)(d.ZP,{color:"orange",icon:(0,n.jsx)(x.Z,{}),variant:"solid",onClick:()=>$(!0),children:"批量导入账号"}),(0,n.jsx)(d.ZP,{hidden:"ORDER"!==H.type,color:"primary",variant:"outlined",onClick:()=>ee("search"),children:"设为查询"}),(0,n.jsx)(d.ZP,{hidden:"ORDER"!==H.type,color:"primary",variant:"outlined",onClick:()=>ee("cancelSearch"),children:"取消查询"}),(0,n.jsx)(d.ZP,{color:"primary",variant:"outlined",onClick:()=>ee("close"),children:"关闭账号"}),(0,n.jsx)(d.ZP,{color:"primary",variant:"outlined",onClick:()=>ee("open"),children:"启用账号"}),(0,n.jsx)(d.ZP,{hidden:"QUERY"!==H.type,color:"primary",variant:"outlined",onClick:()=>ee(),children:"关联服务"}),(0,n.jsx)(d.ZP,{type:"link",color:"primary",onClick:()=>{let e=document.createElement("iframe");e.src="https://wx.zaicang.net/static/file/importShippingAccount-template.xlsx",e.style.display="none",document.body.appendChild(e)},className:"underline text-blue-500 text-sm cursor-pointer",children:"下载账号导入模版"})]}),(0,n.jsx)(y.Z,{size:"middle",columns:_,bordered:!0,rowKey:"id",scroll:{x:"max-content",y:S-158},fetchData:j.OI,immediate:q,searchFilter:L,isSelection:!0,onUpdatePagination:e=>{U({...L,page:e.current,limit:e.pageSize})},onUpdateSelection:e=>R(e)})]}),(0,n.jsx)(b.default,{params:H,carrierOptions:B,customerOptions:Q,onOk:en,onCancel:()=>G({...H,visible:!1,currentRow:null,view:!1})}),(0,n.jsx)(v.default,{title:"导入船司账号",options:Q,type:"importShippingAccount",visible:W,onOk:e=>{(0,j.eE)(e).then(()=>{l.success("导入成功"),$(!1),el(L)})},onCancel:()=>$(!1)}),(0,n.jsx)(I.default,{visible:A,revelanceOptions:null==(e=g.bI.find(e=>"serverName"===e.name))?void 0:e.options,onOk:e=>{(0,j.QV)({ids:P,serverNo:e.serverNo}).then(()=>{l.success("关联服务成功"),z(!1),el(L)})},onCancel:()=>z(!1)})]})}},1961:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>o});var n=l(52676),a=l(75271),i=l(86291),r=l(61496),s=l(67857);let o=e=>{let{visible:t,revelanceOptions:l,onOk:o,onCancel:d}=e,[c]=i.Z.useForm();return(0,a.useEffect)(()=>{t&&c.resetFields()},[t]),(0,n.jsx)(s.Z,{open:t,width:"40%",title:"关联服务",onOk:()=>{c.validateFields().then(()=>{o(c.getFieldsValue())}).catch(e=>{c.scrollToField(e.errorFields[0].name),c.focusField(e.errorFields[0].name)})},onCancel:d,okText:"保存",children:(0,n.jsx)(i.Z,{form:c,labelCol:{span:4},children:(0,n.jsx)(i.Z.Item,{label:"服务名",name:"serverNo",rules:[{required:!0,message:"请选择服务名"}],children:(0,n.jsx)(r.Z,{allowClear:!0,placeholder:"请选择服务名",showSearch:!0,options:l,fieldNames:{label:"serverName",value:"serverNo"},filterOption:(e,t)=>String((null==t?void 0:t.serverName)??"").toLowerCase().includes(e.toLowerCase())})})})})}},57666:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>r});var n=l(52676),a=l(75202),i=l(82398);let r=()=>(0,n.jsx)(a.ZP,{status:"403",title:"403",subTitle:"抱歉，你没有该页面的访问权限.",extra:(0,n.jsx)(i.ZP,{type:"primary",children:"Back Home"})})},83779:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>s});var n=l(52676),a=l(75202),i=l(82398),r=l(56186);let s=()=>{let e=(0,r.s0)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.ZP,{status:"404",title:"404",subTitle:"抱歉，您访问的页面不存在。",extra:(0,n.jsx)(i.ZP,{type:"primary",onClick:()=>e("/home"),children:"回到首页"})})})}},53282:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>s});var n=l(52676),a=l(75202),i=l(82398),r=l(56186);let s=()=>{let e=(0,r.s0)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.ZP,{status:"500",title:"500",subTitle:"抱歉，可能发生了一些内部服务错误",extra:(0,n.jsx)(i.ZP,{type:"primary",onClick:()=>e("/home"),children:"回到首页"})})})}},61949:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>g});var n=l(52676),a=l(85108),i=l(86291),r=l(39257),s=l(84208),o=l(19671),d=l(75271),c=l(67857),u=l(26452),m=l(89),p=l(26114),x=l(43594);let h=e=>x.a.post({url:"/api/file/upload",params:e},{isTransformResponse:!1}),g=e=>{let{params:t,onOk:l,onCancel:x}=e,{visible:g,currentRow:f,view:y}=t,{message:j}=a.Z.useApp(),[b]=i.Z.useForm(),[v,I]=(0,d.useState)({}),[w,N]=(0,d.useState)([]),[Z,M]=(0,d.useState)(""),[k,C]=(0,d.useState)(!1);(0,d.useEffect)(()=>{g&&(f?(b.setFieldsValue({...f,enabled:Number(f.enabled)}),M(f.logoUrl??"")):(b.resetFields(),I({enabled:1}),b.setFieldsValue({enabled:1}),M(""),C(!1)))},[g,y]);let T=(0,n.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[k?(0,n.jsx)(m.Z,{}):(0,n.jsx)(p.Z,{}),(0,n.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),S={name:"file",multiple:!1,showUploadList:!1,listType:"picture-card",beforeUpload:e=>("image/jpeg"!==e.type&&"image/png"!==e.type&&j.error("You can only upload JPG/PNG file!"),e.size/1024/1024<2||j.error("Image must smaller than 2MB!"),!1),onChange(e){C(!0);let t=new FormData;t.append("file",e.file),h(t).then(e=>{C(!1),M(e.data)})},onRemove(){M("")},fileList:w};return(0,n.jsx)(c.Z,{width:"40%",open:g,title:f?"编辑船司":"新增船司",okButtonProps:{className:y?"hidden":""},onOk:()=>{b.validateFields().then(()=>{l({...b.getFieldsValue(),logoUrl:Z})}).catch(e=>{b.scrollToField(e.errorFields[0].name),b.focusField(e.errorFields[0].name)})},onCancel:x,children:(0,n.jsxs)(i.Z,{form:b,labelCol:{span:4},initialValues:v,children:[(0,n.jsx)(i.Z.Item,{name:"id",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),u.H.map(e=>(0,n.jsxs)(i.Z.Item,{label:e.label,name:e.name,rules:[{required:!0,message:`\u{8BF7}${"input"===e.formType?"输入":"选择"}${e.label}`}],children:["input"===e.formType&&(0,n.jsx)(r.Z,{placeholder:`\u{8BF7}\u{8F93}\u{5165}${e.label}`,autoComplete:"off"}),"upload"===e.formType&&(0,n.jsx)(s.Z,{...S,children:Z?(0,n.jsx)("img",{src:Z,alt:"avatar",style:{width:"100%"}}):T}),"radio"===e.formType&&(0,n.jsx)(o.ZP.Group,{options:e.options})]},e.name))]})})}},26452:function(e,t,l){"use strict";l.d(t,{D:()=>i,H:()=>r});var n=l(30657),a=l(26930);let i=[{label:"船司代码",name:"code",formType:"input",span:6}],r=[{label:"船司代码",name:"code",formType:"input",span:12},{label:"船司中文名",name:"cnName",formType:"input",span:12},{label:"船司英文名",name:"enName",formType:"input",span:12},{label:"船司logo",name:"logoUrl",formType:"upload",span:12},{label:"状态",name:"enabled",formType:"radio",options:(0,a.Xk)(n.N.enabled,["label","value"],["name","id"]),span:12}]},59155:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>j});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(82398),o=l(59285),d=l(56093),c=l(59286),u=l(5246),m=l(26930),p=l(50372),x=l(26114),h=l(20326),g=l(26452),f=l(61949),y=l(461);let j=()=>{let{modal:e,message:t}=i.Z.useApp(),{parentRef:l,height:j}=(0,y.Z)(),[b,v]=(0,a.useState)({page:1,limit:10,code:null}),[I,w]=(0,a.useState)({visible:!1,currentRow:null,view:!1}),N=[{title:"船司代码",dataIndex:"code",key:"code",align:"center"},{title:"船司中文名",dataIndex:"cnName",key:"cnName",align:"center"},{title:"船司英文名",dataIndex:"enName",key:"enName",width:120,align:"center"},{title:"船司logo",dataIndex:"logoUrl",key:"logoUrl",align:"center",render:e=>(0,n.jsx)("img",{src:e,className:"w-[48px] h-[48px] m-auto",alt:""})},{title:"修改时间",dataIndex:"updateTime",key:"updateTime",width:200,align:"center"},{title:"操作",width:"14%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(r.Z,{size:0,children:[(0,n.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>w({visible:!0,currentRow:t,view:!0}),children:"修改"}),(0,n.jsx)(s.ZP,{type:"link",danger:!0,size:"small",onClick:()=>M(t.id),children:"删除"})]})}],Z=async e=>{try{null==I.currentRow?await (0,h.yo)(e):await (0,h.Y7)(e),t.success(I.currentRow?"修改成功":"添加成功"),w({visible:!1,currentRow:null,view:!1}),k()}catch(e){}},M=t=>{e.confirm({title:"删除船司",icon:(0,n.jsx)(p.Z,{}),content:"确定删除该船司吗？数据删除后将无法恢复！",onOk(){(0,h.Nk)(t).then(()=>{k()})}})},k=e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));v({...(0,m.Yp)(b,["page","limit"],!0),...t})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(d.Z,{children:(0,n.jsx)(c.Z,{columns:g.D,gutterWidth:24,labelPosition:"left",btnSeparate:!1,isShowReset:!0,isShowExpend:!1,onUpdateSearch:k})})}),(0,n.jsxs)(d.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:l,children:[(0,n.jsx)(r.Z,{className:"mb-[8px]",children:(0,n.jsx)(s.ZP,{type:"primary",icon:(0,n.jsx)(x.Z,{}),onClick:()=>w({visible:!0,currentRow:null,view:!0}),children:"新增船司"})}),(0,n.jsx)(u.Z,{size:"middle",columns:N,bordered:!0,rowKey:"id",scroll:{x:"max-content",y:j-158},fetchData:h.IO,searchFilter:b,isSelection:!1,onUpdatePagination:e=>{v({...b,page:e.current,limit:e.pageSize})}})]}),(0,n.jsx)(f.default,{params:I,onOk:Z,onCancel:()=>w({visible:!1,currentRow:null,view:!1})})]})}},66410:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>x});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(61496),o=l(91849),d=l(90737),c=l(19671),u=l(67857),m=l(89737),p=l(30657);let x=e=>{let t,{params:l,onOk:x,onCancel:h}=e,{visible:g,currentRow:f,view:y}=l,[j]=i.Z.useForm(),[b,v]=(0,a.useState)(!1),[I,w]=(0,a.useState)({country:[],route:[]}),[N,Z]=(0,a.useState)([]),[M,k]=(0,a.useState)([]);(0,a.useEffect)(()=>{g&&(C(),f?(j.setFieldsValue({...f,isPopularity:Number(f.isPopularity),enabled:Number(f.enabled),countryId:Number(f.countryId)}),f.isFnd&&Z(["isFnd"]),f.isPor&&Z(N.concat(["isPor"]))):(j.resetFields(),j.setFieldsValue({isPopularity:1,enabled:1}),Z([])))},[g,y]);let C=()=>{v(!0),Promise.all([(0,m.cy)(),(0,m.C$)()]).then(e=>{w({route:e[0],country:e[1]}),T(j.getFieldValue("routeParentCode"),!1,e[0]),v(!1)}).catch(()=>v(!1))},T=(e,t,l)=>{var n;t&&j.setFieldsValue({routeId:null}),k(null==(n=l??I.route)?void 0:n.filter(t=>String(t.parentCode)===e.toString()))};return(0,n.jsx)(u.Z,{width:"40%",open:g,title:f?"编辑港口":"新增港口",okButtonProps:{className:y?"hidden":""},onOk:()=>{j.validateFields().then(()=>{let e={isPor:Number(N.includes("isPor")),isFnd:Number(N.includes("isFnd"))};x({...j.getFieldsValue(),...e})}).catch(e=>{j.scrollToField(e.errorFields[0].name),j.focusField(e.errorFields[0].name)})},onCancel:h,loading:b,children:(0,n.jsxs)(i.Z,{form:j,labelCol:{span:4},children:[(0,n.jsx)(i.Z.Item,{name:"id",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),(0,n.jsx)(i.Z.Item,{name:"code",label:"港口编码",rules:[{required:!0,message:"请输入港口编码"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入航线名称",allowClear:!0,autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"cnName",label:"港口中文名",rules:[{required:!0,message:"请输入港口中文名"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入港口中文名",allowClear:!0,autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"enName",label:"港口英文名",rules:[{required:!0,message:"请输入港口英文名"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入港口英文名",allowClear:!0,autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"countryId",label:"所属国家",rules:[{required:!0,message:"请选择所属国家"}],children:(0,n.jsx)(s.Z,{showSearch:!0,options:I.country,allowClear:!0,fieldNames:{label:"cnName",value:"id"},placeholder:"请选择所属国家"})}),(0,n.jsx)(i.Z.Item,{label:"所属航线",style:{marginBottom:0},children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(i.Z.Item,{name:"routeParentCode",rules:[{required:!0,message:"请选择一级航线"}],children:(0,n.jsx)(s.Z,{showSearch:!0,options:((null==(t=I.route)?void 0:t.filter(e=>!e.parentId))||[]).map(e=>({label:e.name,value:e.code})),allowClear:!0,style:{width:"200px"},placeholder:"请选择一级航线",onChange:e=>T(e,!0)})}),(0,n.jsx)(i.Z.Item,{name:"routeCode",rules:[{required:!0,message:"请选择二级航线"}],children:(0,n.jsx)(s.Z,{showSearch:!0,allowClear:!0,options:M,fieldNames:{label:"name",value:"code"},style:{width:"200px"},placeholder:"请选择二级航线"})})]})}),(0,n.jsx)(i.Z.Item,{label:"标签",children:(0,n.jsx)(d.Z.Group,{options:p.N.isPort,value:N,onChange:e=>{Z(e)}})}),(0,n.jsx)(i.Z.Item,{name:"isPopularity",label:"热门港口",rules:[{required:!0,message:"请选择是否热门港口"}],children:(0,n.jsx)(c.ZP.Group,{options:p.N.whether})}),(0,n.jsx)(i.Z.Item,{name:"enabled",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:(0,n.jsx)(c.ZP.Group,{options:p.N.enabled})})]})})}},30657:function(e,t,l){"use strict";l.d(t,{N:()=>a,R:()=>i});var n=l(26930);let a={isPort:[{value:"isPor",label:"起运港"},{value:"isFnd",label:"目的港"}],enabled:[{value:1,label:"启用"},{value:0,label:"不启用"}],whether:[{value:1,label:"是"},{value:0,label:"否"}]},i=[{label:"港口编码",name:"code",formType:"input",span:6},{label:"港口名称",name:"name",formType:"input",span:6},{label:"港口标签",name:"tag",formType:"select",span:6,options:(0,n.Xk)(a.isPort,["label","value"],["name","id"])},{label:"热门港口",name:"isPopularity",formType:"select",options:(0,n.Xk)(a.whether,["label","value"],["name","id"]),span:6}]},67093:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>v});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(64346),o=l(58545),d=l(82398),c=l(59285),u=l(56093),m=l(50372),p=l(26114),x=l(59286),h=l(5246),g=l(66410),f=l(89737),y=l(30657),j=l(26930),b=l(461);let v=()=>{let{modal:e,message:t}=i.Z.useApp(),{parentRef:l,height:v}=(0,b.Z)(),[I,w]=(0,a.useState)({page:1,limit:10}),[N,Z]=(0,a.useState)({visible:!1,currentRow:null,view:!1}),M=[{title:"港口编码",dataIndex:"code",key:"code",width:100,align:"center"},{title:"热门港口",key:"isPopularity",align:"center",width:100,render:e=>(0,n.jsx)("div",{children:e.isPopularity?"热门":""})},{title:"港口中文名",dataIndex:"cnName",key:"cnName",width:150,align:"center"},{title:"港口英文名",dataIndex:"enName",key:"enName",width:150,align:"center"},{title:"一级航线",dataIndex:"routeParentName",key:"routeParentName",width:150,align:"center"},{title:"二级航线",dataIndex:"routeName",width:100,key:"routeName",align:"center"},{title:"所属国家",dataIndex:"countryCnName",key:"countryCnName",width:100,align:"center"},{title:"标签",width:100,align:"center",render:e=>(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(s.Z,{style:e.isPor?{}:{display:"none"},color:"blue",children:"起运港"}),(0,n.jsx)(s.Z,{style:e.isFnd?{}:{display:"none"},color:"green",children:"目的港"})]})},{title:"状态",key:"enabled",align:"center",render:e=>(0,n.jsx)(o.Z,{value:e.enabled,onChange:t=>k(t,e)})},{title:"修改时间",dataIndex:"updateTime",key:"updateTime",width:200,align:"center"},{title:"操作",width:"10%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(r.Z,{size:0,children:[(0,n.jsx)(d.ZP,{type:"link",size:"small",onClick:()=>Z({visible:!0,currentRow:t,view:!0}),children:"修改"}),(0,n.jsx)(d.ZP,{type:"link",danger:!0,size:"small",onClick:()=>C(t.id),children:"删除"})]})}],k=(e,l)=>{(0,f.vp)({...l,enabled:e}).then(()=>{t.success("修改成功"),S(I)})},C=l=>{e.confirm({title:"删除港口",icon:(0,n.jsx)(m.Z,{}),content:"确定删除该港口吗？数据删除后将无法恢复！",onOk(){(0,f.yV)(l).then(()=>{t.success("删除成功"),S()})}})},T=async e=>{try{null==N.currentRow?await (0,f.sA)(e):await (0,f.Qm)(e),t.success(N.currentRow?"修改成功":"添加成功"),Z({visible:!1,currentRow:null,view:!1}),S()}catch(e){}},S=e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t})),l=(0,j.Yp)(I,["page","limit"],!0),n=Object.keys(t).length>0?{...(0,j.Yp)(t,["tag"],!1),isPor:"isPor"===t.tag?Number("isPor"===t.tag):null,iisFnd:"isFnd"===t.tag?Number("isFnd"===t.tag):null}:{};w({...n?l:I,...n})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(u.Z,{children:(0,n.jsx)(x.Z,{columns:y.R,gutterWidth:24,labelPosition:"left",btnSeparate:!0,isShowReset:!0,isShowExpend:!1,onUpdateSearch:S})})}),(0,n.jsxs)(u.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:l,children:[(0,n.jsx)(r.Z,{className:"mb-[8px]",children:(0,n.jsx)(d.ZP,{type:"primary",icon:(0,n.jsx)(p.Z,{}),onClick:()=>Z({visible:!0,currentRow:null,view:!0}),children:"新增港口"})}),(0,n.jsx)(h.Z,{size:"middle",columns:M,bordered:!0,rowKey:"id",scroll:{x:"max-content",y:v-158},fetchData:f.$Q,searchFilter:I,isSelection:!1,onUpdatePagination:e=>{w({...I,page:e.current,limit:e.pageSize})}})]}),(0,n.jsx)(g.default,{params:N,onOk:T,onCancel:()=>Z({visible:!1,currentRow:null,view:!1})})]})}},80038:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>c});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(61496),o=l(67857),d=l(89737);let c=e=>{let{params:t,fndPortOptions:l,onOk:c,onCancel:u}=e,{visible:m,currentRow:p,view:x}=t,[h]=i.Z.useForm(),[g,f]=(0,a.useState)(!1),[y,j]=(0,a.useState)([]),[b,v]=(0,a.useState)([]);(0,a.useEffect)(()=>{m&&(I(),p?(h.setFieldsValue(p),j(p.fnds)):(h.resetFields(),j([void 0])))},[m,x]);let I=()=>{f(!0),(0,d.G4)().then(e=>{e.map(e=>{e.children&&(e.selectable=!1)}),v(e),f(!1)}).catch(()=>f(!1))},w=e=>{j([...y.filter((t,l)=>l!==e)])},N=(e,t)=>{y[t]=e,j([...y])};return(0,n.jsx)(o.Z,{width:"40%",open:m,title:p?"编辑航线":"新增航线",okButtonProps:{className:x?"hidden":""},onOk:()=>{h.validateFields().then(()=>{c({...h.getFieldsValue(),fnds:y.filter(e=>!!e)})}).catch(e=>{h.scrollToField(e.errorFields[0].name),h.focusField(e.errorFields[0].name)})},onCancel:u,loading:g,children:(0,n.jsxs)(i.Z,{form:h,labelCol:{span:4},children:[(0,n.jsx)(i.Z.Item,{name:"id",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),(0,n.jsx)(i.Z.Item,{name:"routeName",label:"航线",rules:[{required:!0,message:"请输入航线名称"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入航线名称",autoComplete:"off"})}),(0,n.jsxs)(i.Z.Item,{label:"目的港",children:[y.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(s.Z,{style:{marginBottom:"10px"},allowClear:!0,placeholder:"请选择目的港",showSearch:!0,options:l,filterOption:(e,t)=>String((null==t?void 0:t.label)??"").toLowerCase().includes(e.toLowerCase()),onChange:e=>N(e,t),value:e}),(0,n.jsx)("img",{onClick:()=>w(t),src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+5Yig6Zmk5aSH5Lu9IDI8L3RpdGxlPgogICAgPGcgaWQ9IuWfuuehgOaVsOaNriIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjItMDLmlrDlop7lkozkv67mlLnoiKrnur8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMjAxLCAtNDQzKSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9IuaWsOWinueUqOaIt+Wkh+S7vSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzYxLCAzMTApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLovpPlhaXmoYblpIfku70tMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQsIDEyNCkiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliKDpmaTlpIfku70tMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDA2LCA5KSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzk0ODY1NSwyLjAxMTQwMjUxIEMxMi43MTI3MTM5LDIuMDExNDAyNTEgMTIuOTc0OTM4OSwyLjA2NDYxNDIyIDEzLjE4MTU0MDMsMi4xNzEwMzc2MyBDMTMuMzg4MTQxOCwyLjI3NzQ2MTA0IDEzLjU1MjM2MzUsMi40MTA0OTAzMSAxMy42NzQyMDU0LDIuNTcwMTI1NDMgQzEzLjc5NjA0NzMsMi43Mjk3NjA1NSAxMy44ODA4MDY4LDIuOTAyNjk4NTkgMTMuOTI4NDg0MSwzLjA4ODkzOTU3IEMxMy45NzYxNjE0LDMuMjc1MTgwNTQgMTQsMy40NDgxMTg1OSAxNCwzLjYwNzc1MzcxIEMxNCwzLjY4MjI1MDEgMTMuOTk3MzUxMywzLjc0MDc4Mjk3IDEzLjk5MjA1MzgsMy43ODMzNTIzNCBDMTMuOTg2NzU2MywzLjgyNTkyMTcgMTMuOTg0MTA3NiwzLjg2MzE2OTkgMTMuOTg0MTA3NiwzLjg5NTA5NjkyIEwxMy45ODQxMDc2LDMuOTkwODc3OTkgTDEyLjkzNTIwNzgsMy45OTA4Nzc5OSBMMTIuOTM1MjA3OCwxMi4zNzE3MjE4IEMxMi45MzUyMDc4LDEyLjU4NDU2ODYgMTIuODkyODI4LDEyLjc4OTQzMzcgMTIuODA4MDY4NSwxMi45ODYzMTcgQzEyLjcyMzMwODksMTMuMTgzMjAwMyAxMi42MDE0NjcsMTMuMzU2MTM4NCAxMi40NDI1NDI4LDEzLjUwNTEzMTEgQzEyLjI4MzYxODYsMTMuNjU0MTIzOSAxMi4wOTAyNjA4LDEzLjc3Mzg1MDIgMTEuODYyNDY5NCwxMy44NjQzMTAxIEMxMS42MzQ2NzgxLDEzLjk1NDc3IDExLjM3MjQ1MzEsMTQgMTEuMDc1Nzk0NiwxNCBMMy45ODc3NzUwNiwxNCBDMy43MTIzMDY0NCwxNCAzLjQ1MjczMDI0LDEzLjk1NzQzMDYgMy4yMDkwNDY0NSwxMy44NzIyOTE5IEMyLjk2NTM2MjY3LDEzLjc4NzE1MzIgMi43NTYxMTI0NywxMy42Njc0MjY4IDIuNTgxMjk1ODQsMTMuNTEzMTEyOSBDMi40MDY0NzkyMiwxMy4zNTg3OTg5IDIuMjY4NzQ0OTEsMTMuMTcyNTU4IDIuMTY4MDkyOTEsMTIuOTU0MzkgQzIuMDY3NDQwOTEsMTIuNzM2MjIyIDIuMDE3MTE0OTEsMTIuNDg4Nzg3NSAyLjAxNzExNDkxLDEyLjIxMjA4NjcgTDIuMDE3MTE0OTEsMy45OTA4Nzc5OSBMMS4wMzE3ODQ4NCwzLjk5MDg3Nzk5IEMxLjAyMTE4OTg5LDMuOTgwMjM1NjUgMS4wMTU4OTI0MiwzLjk1MzYyOTggMS4wMTU4OTI0MiwzLjkxMTA2MDQzIEMxLjAwNTI5NzQ3LDMuODU3ODQ4NzMgMSwzLjY5Mjg5MjQ0IDEsMy40MTYxOTE1NiBDMSwzLjI3Nzg0MTEzIDEuMDMxNzg0ODQsMy4xMjM1MjcxOCAxLjA5NTM1NDUyLDIuOTUzMjQ5NzEgQzEuMTU4OTI0MjEsMi43ODI5NzIyNSAxLjI1NDI3ODczLDIuNjI1OTk3NzIgMS4zODE0MTgwOSwyLjQ4MjMyNjExIEMxLjUwODU1NzQ2LDIuMzM4NjU0NSAxLjY3Mjc3OTE0LDIuMjE4OTI4MTYgMS44NzQwODMxMywyLjEyMzE0NzA5IEMyLjA3NTM4NzEyLDIuMDI3MzY2MDIgMi4zMTM3NzM0MywxLjk3OTQ3NTQ4IDIuNTg5MjQyMDUsMS45Nzk0NzU0OCBMNC4wMDM2Njc0OCwxLjk3OTQ3NTQ4IEw0LjAwMzY2NzQ4LDEuMDA1NzAxMjUgQzQuMDAzNjY3NDgsMC43MjkwMDAzOCA0LjA5OTAyMiwwLjQ5MjIwODI4NiA0LjI4OTczMTA1LDAuMjk1MzI0OTcxIEM0LjQ4MDQ0MDEsMC4wOTg0NDE2NTcyIDQuNzEzNTI4OTMsMCA0Ljk4ODk5NzU2LDAgTDkuOTYzMzI1MTgsMCBDMTAuMzM0MTQ4MywwIDEwLjU5MTA3NTgsMC4wOTg0NDE2NTcyIDEwLjczNDEwNzYsMC4yOTUzMjQ5NzEgQzEwLjg3NzEzOTQsMC40OTIyMDgyODYgMTAuOTQ4NjU1MywwLjcyOTAwMDM4IDEwLjk0ODY1NTMsMS4wMDU3MDEyNSBMMTAuOTQ4NjU1MywxLjk5NTQzOSBDMTEuMTcxMTQ5MSwyLjAwNjA4MTM0IDExLjQwOTUzNTUsMi4wMTE0MDI1MSAxMS42NjM4MTQyLDIuMDExNDAyNTEgTDEyLjM5NDg2NTUsMi4wMTE0MDI1MSBaIE00Ljk4ODk5NzU2LDIuMDExNDAyNTEgTDkuOTYzMzI1MTgsMi4wMTE0MDI1MSBMOS45NjMzMjUxOCwxLjAwNTcwMTI1IEw0Ljk4ODk5NzU2LDEuMDA1NzAxMjUgTDQuOTg4OTk3NTYsMi4wMTE0MDI1MSBaIE00LjQ5NjMzMjUyLDEyLjExNjMwNTYgQzQuODM1MzcwODIsMTIuMTE2MzA1NiA1LjAwNDg4OTk4LDExLjg5ODEzNzYgNS4wMDQ4ODk5OCwxMS40NjE4MDE2IEw1LjAwNDg4OTk4LDQuMDU0NzMyMDQgTDQuMDE5NTU5OSw0LjA1NDczMjA0IEw0LjAxOTU1OTksMTEuNDYxODAxNiBDNC4wMTk1NTk5LDExLjY4NTI5MDggNC4wNTM5OTM0OCwxMS44NTAyNDcxIDQuMTIyODYwNjQsMTEuOTU2NjcwNSBDNC4xOTE3Mjc3OSwxMi4wNjMwOTM5IDQuMzE2MjE4NDIsMTIuMTE2MzA1NiA0LjQ5NjMzMjUyLDEyLjExNjMwNTYgTDQuNDk2MzMyNTIsMTIuMTE2MzA1NiBaIE03LjUsMTIuMTAwMzQyMSBDNy42ODAxMTQxLDEyLjEwMDM0MjEgNy44MDE5NTU5OSwxMi4wNDk3OTEgNy44NjU1MjU2NywxMS45NDg2ODg3IEM3LjkyOTA5NTM1LDExLjg0NzU4NjUgNy45NjA4ODAyLDExLjY4NTI5MDggNy45NjA4ODAyLDExLjQ2MTgwMTYgTDcuOTYwODgwMiw0LjA1NDczMjA0IEw2Ljk3NTU1MDEyLDQuMDU0NzMyMDQgTDYuOTc1NTUwMTIsMTEuNDYxODAxNiBDNi45NzU1NTAxMiwxMS44ODc0OTUyIDcuMTUwMzY2NzUsMTIuMTAwMzQyMSA3LjUsMTIuMTAwMzQyMSBMNy41LDEyLjEwMDM0MjEgWiBNMTAuNDg3Nzc1MSwxMi4wNjg0MTUxIEMxMC42Nzg0ODQxLDEyLjA2ODQxNTEgMTAuODA1NjIzNSwxMi4wMTc4NjM5IDEwLjg2OTE5MzIsMTEuOTE2NzYxNyBDMTAuOTMyNzYyOCwxMS44MTU2NTk0IDEwLjk2NDU0NzcsMTEuNjUzMzYzNyAxMC45NjQ1NDc3LDExLjQyOTg3NDYgTDEwLjk2NDU0NzcsNC4wNTQ3MzIwNCBMOS45NjMzMjUxOCw0LjA1NDczMjA0IEw5Ljk2MzMyNTE4LDExLjQyOTg3NDYgQzkuOTYzMzI1MTgsMTEuODU1NTY4MiAxMC4xMzgxNDE4LDEyLjA2ODQxNTEgMTAuNDg3Nzc1MSwxMi4wNjg0MTUxIEwxMC40ODc3NzUxLDEyLjA2ODQxNTEgWiIgaWQ9IuW9oueKtiIgZmlsbD0iI0ZBNTE1MSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",alt:"delete",className:`${y.length<=1&&"hidden"} w-[14px] h-[14px] ml-[12px] cursor-pointer`})]},t)),(0,n.jsxs)("div",{className:"flex items-center cursor-pointer w-fit",onClick:()=>{j(y.concat([void 0]))},children:[(0,n.jsx)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi/lop7liqA8L3RpdGxlPgogICAgPGcgaWQ9IuWfuuehgOaVsOaNriIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjItMDLmlrDlop7lkozkv67mlLnoiKrnur8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzMsIC00NzkpIiBmaWxsPSIjMDdDMTYwIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0i5paw5aKe55So5oi3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDUsIDMxMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9Iue8lue7hC015aSH5Lu9LTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg4LCAxNjYpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5b2i54q2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLCAzKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik01Ljk5OTkzMzM0LDUuOTk5OTMzMzQgTDMuOTk5OCw1Ljk5OTkzMzM0IEMzLjQ0NzQ3ODQzLDUuOTk5OTMzMzQgMi45OTk3MzMzNCw2LjQ0NzY3ODQzIDIuOTk5NzMzMzQsNyBDMi45OTk3MzMzNCw3LjU1MjMyMTU3IDMuNDQ3NDc4NDMsOC4wMDAwNjY2NiAzLjk5OTgsOC4wMDAwNjY2NiBMNS45OTk5MzMzNCw4LjAwMDA2NjY2IEw1Ljk5OTkzMzM0LDEwLjAwMDIgQzUuOTk5OTMzMzQsMTAuNTUyNTIxNiA2LjQ0NzY3ODQzLDExLjAwMDI2NjcgNywxMS4wMDAyNjY3IEM3LjU1MjMyMTU3LDExLjAwMDI2NjcgOC4wMDAwNjY2NiwxMC41NTI1MjE2IDguMDAwMDY2NjYsMTAuMDAwMiBMOC4wMDAwNjY2Niw4LjAwMDA2NjY2IEwxMC4wMDAyLDguMDAwMDY2NjYgQzEwLjU1MjUyMTYsOC4wMDAwNjY2NiAxMS4wMDAyNjY3LDcuNTUyMzIxNTcgMTEuMDAwMjY2Nyw3IEMxMS4wMDAyNjY3LDYuNDQ3Njc4NDMgMTAuNTUyNTIxNiw1Ljk5OTkzMzM0IDEwLjAwMDIsNS45OTk5MzMzNCBMOC4wMDAwNjY2Niw1Ljk5OTkzMzM0IEw4LjAwMDA2NjY2LDMuOTk5OCBDOC4wMDAwNjY2NiwzLjQ0NzQ3ODQzIDcuNTUyMzIxNTcsMi45OTk3MzMzNCA3LDIuOTk5NzMzMzQgQzYuNDQ3Njc4NDMsMi45OTk3MzMzNCA1Ljk5OTkzMzM0LDMuNDQ3NDc4NDMgNS45OTk5MzMzNCwzLjk5OTggTDUuOTk5OTMzMzQsNS45OTk5MzMzNCBaIE03LDE0IEMzLjEzNDEzMzM0LDE0IDAsMTAuODY1ODY2NyAwLDcgQzAsMy4xMzQxMzMzNCAzLjEzNDEzMzM0LDAgNywwIEMxMC44NjU4NjY3LDAgMTQsMy4xMzQxMzMzNCAxNCw3IEMxNCwxMC44NjU4NjY3IDEwLjg2NTg2NjcsMTQgNywxNCBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",alt:"add",className:"w-[14px] h-[14px] mr-[4px]"}),(0,n.jsx)("p",{className:"text-green-500 text-sm",children:"新增港口"})]})]})]})})}},63372:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>I});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(82398),o=l(59285),d=l(56093),c=l(50372),u=l(26114),m=l(59286),p=l(5246),x=l(80038);let h=[{label:"航线",name:"routeName",formType:"input",span:6},{label:"目的港",name:"fnds",formType:"normalSelect",options:[],span:6}];var g=l(72273),f=l(26930),y=l(88621),j=l(74429),b=l(89737),v=l(461);let I=()=>{let{modal:e,message:t}=i.Z.useApp(),{parentRef:l,height:I}=(0,v.Z)(),w=(0,y.I0)(),N=(0,y.v9)(e=>e.essentail),[Z,M]=(0,a.useState)({page:1,limit:10}),[k,C]=(0,a.useState)(h),[T,S]=(0,a.useState)({visible:!1,currentRow:null,view:!1}),[D,F]=(0,a.useState)(!0),[O,E]=(0,a.useState)([]);(0,a.useEffect)(()=>{var e;F(!1),(null==(e=N.fndPortData)?void 0:e.length)?P():z()},[D]);let A=[{title:"细分航线",dataIndex:"routeName",key:"routeName",width:100,align:"center"},{title:"目的港",key:"fnds",align:"center",render:e=>(0,n.jsx)("div",{children:e.fnds.join(",")??""})},{title:"操作",width:"14%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(r.Z,{size:0,children:[(0,n.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>S({visible:!0,currentRow:t,view:!0}),children:"修改"}),(0,n.jsx)(s.ZP,{type:"link",danger:!0,size:"small",onClick:()=>R(t.id),children:"删除"})]})}],z=()=>{Promise.all([(0,b.G4)()]).then(e=>{let t=["fndPortData"];t.map((l,n)=>{w((0,j.qB)({value:e[n],key:t[n]}))}),setTimeout(()=>{P()},500)})},P=()=>{let{fndPortData:e=[]}=N,t=e.map(e=>({value:e.code,label:e.enName+"-"+e.cnName}));k.map(e=>{"fnds"===e.name&&(e.options=t)}),C(k),E(t)},R=t=>{e.confirm({title:"删除航线",icon:(0,n.jsx)(c.Z,{}),content:"确定删除该航线吗？数据删除后将无法恢复！",onOk(){(0,g.jz)(t).then(()=>{U()})}})},L=async e=>{try{null==T.currentRow?await (0,g.WS)(e):await (0,g.RC)(e),t.success(T.currentRow?"修改成功":"添加成功"),S({visible:!1,currentRow:null,view:!1}),U()}catch(e){}},U=e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));M({...(0,f.Yp)(Z,["page","limit"],!0),...t})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(d.Z,{children:(0,n.jsx)(m.Z,{columns:k,gutterWidth:24,labelPosition:"left",btnSeparate:!1,isShowReset:!0,isShowExpend:!1,onUpdateSearch:U})})}),(0,n.jsxs)(d.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:l,children:[(0,n.jsx)(r.Z,{className:"mb-[8px]",children:(0,n.jsx)(s.ZP,{type:"primary",icon:(0,n.jsx)(u.Z,{}),onClick:()=>S({visible:!0,currentRow:null,view:!0}),children:"新增航线"})}),(0,n.jsx)(p.Z,{size:"middle",columns:A,bordered:!0,rowKey:"id",isCache:"routeData",scroll:{x:"max-content",y:I-158},immediate:D,fetchData:g.uH,searchFilter:Z,isSelection:!1,onUpdatePagination:e=>{M({...Z,page:e.current,limit:e.pageSize})}})]}),(0,n.jsx)(x.default,{fndPortOptions:O,params:T,onOk:L,onCancel:()=>S({visible:!1,currentRow:null,view:!1})})]})}},11403:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>i});var n=l(52676),a=l(67857);let i=e=>{let{open:t,onOk:l,onCancel:i}=e;return(0,n.jsx)(a.Z,{title:"新增项目",onCancel:i,onOk:()=>{null==l||l()},open:t,children:"项目类型"})}},35705:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>p});var n=l(52676),a=l(7359),i=l(50993),r=l(35962),s=l(94639),o=l(91386),d=l(19123),c=l(56093),u=l(82398),m=l(65436);l(89508);let p=e=>{let{id:t,name:l}=e,p=[{label:"复制",icon:(0,n.jsx)(a.Z,{className:"text-blue-500"}),key:"copy",onClick:()=>{}},{label:"导出",icon:(0,n.jsx)(i.Z,{className:"text-orange-400"}),key:"export",onClick:()=>{}},{label:"删除",icon:(0,n.jsx)(r.Z,{className:"text-red-500"}),key:"delete",onClick:()=>{}}];return(0,n.jsxs)(c.Z,{styles:{body:{padding:"0px"}},className:"projectList",children:[(0,n.jsx)("div",{className:"px-3 pt-[14px] pb-3 h-[50px] flex items-center",children:l}),(0,n.jsx)("div",{className:"h-[166px] px-3 relative",children:"内容"}),(0,n.jsx)("div",{className:"h-10 py-[10px] px-3 text-[12px] text-[#646a73]",children:"底部"}),(0,n.jsxs)("div",{className:"operateButton",children:[(0,n.jsx)(u.ZP,{className:"w-[85px]",icon:(0,n.jsx)(s.Z,{}),children:"编辑"}),(0,n.jsx)(u.ZP,{className:"w-[85px]",type:"primary",icon:(0,n.jsx)(o.Z,{}),children:"设计"})]}),(0,n.jsx)("div",{className:"dropdownItems",children:(0,n.jsx)(m.Z,{menu:{items:p},trigger:["click"],placement:"bottomRight",children:(0,n.jsx)(u.ZP,{type:"text",icon:(0,n.jsx)(d.Z,{})})})})]},t)}},83901:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>h});var n=l(52676),a=l(39257),i=l(15925),r=l(56093),s=l(75271);l(89508);var o=l(26114),d=l(88621),c=l(35705),u=l(43594);let m=e=>u.a.post({url:"/engine/project/getProjectList",data:e},{successMessageMode:"none"});var p=l(11403);let{Search:x}=a.Z,h=()=>{let[e,t]=(0,s.useState)(""),{theme:l}=(0,d.v9)(e=>e.preferences),[a,u]=(0,s.useState)(!1),[h,g]=(0,s.useState)([]);(0,s.useEffect)(()=>{f()},[e]);let f=t=>{m({type:e,name:t}).then(e=>{g(e)})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex-1 pt-6 pr-6 pl-6 overflow-scroll bg-[#f5f6f7]",children:[(0,n.jsx)("div",{className:"mb-[20px] text-[18px] font-bold",children:"项目列表"}),(0,n.jsxs)("div",{className:"flex flex-row justify-between mb-[20px]",children:[(0,n.jsx)(i.Z,{options:[{label:"全部",value:""},{label:"集成项目",value:"1"},{label:"接口项目",value:"2"}],onChange:e=>{t(e)},value:e}),(0,n.jsx)("div",{className:"w-[300]",children:(0,n.jsx)(x,{placeholder:"请输入检索内容",onSearch:f})})]}),(0,n.jsxs)("div",{className:"flex flex-wrap mt-2",children:[(0,n.jsx)(r.Z,{styles:{body:{padding:"0px"}},className:"projectList addProject",onClick:()=>{u(!0)},children:(0,n.jsxs)("p",{children:[(0,n.jsx)(o.Z,{className:"text-[64px]",style:{color:l.colorPrimary}}),(0,n.jsx)("span",{className:"addTitle",children:"新增项目"})]})}),h.map(e=>(0,n.jsx)(c.default,{id:e.id,name:e.name,cover:e.cover,type:e.type},e.id))]})]}),(0,n.jsx)(p.default,{open:a,type:e,onOk:()=>{u(!1)},onCancel:()=>{u(!1)}})]})}},35361:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>a});var n=l(52676);let a=()=>(0,n.jsx)(n.Fragment,{children:"端点管理"})},8042:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>c});var n=l(52676),a=l(461),i=l(90737),r=l(91849),s=l(82398),o=l(25400),d=l(75271);let c=(0,d.memo)(e=>{let{action:t,configData:l,onConfigDataChange:c}=e,[u,m]=(0,d.useState)([]),{parentRef:p,height:x}=(0,a.Z)(),h=[{title:"id",dataIndex:"id",key:"id",hidden:!0},{title:"名称",dataIndex:"name",key:"name",width:120,fixed:"left"},{title:"标题",dataIndex:"title",key:"title",width:160},{title:"类型",dataIndex:"type",key:"type",align:"center",width:120},{title:"提示信息",dataIndex:"tips",key:"tips",width:220},{title:"必填",dataIndex:"required",key:"required",align:"center",width:100,render:e=>(0,n.jsx)(i.Z,{checked:e})},{title:"默认值",dataIndex:"defaultValue",key:"defaultValue",width:160},{title:"允许值",dataIndex:"allowedValue",key:"allowedValue",width:160},{title:"应用端",dataIndex:"appliesTo",key:"appliesTo",align:"center",width:160},{title:"描述",dataIndex:"description",key:"description",width:120},{fixed:"right",title:"操作",align:"center",width:160,render:(e,t)=>(0,n.jsxs)(r.Z,{size:0,children:[(0,n.jsx)(s.ZP,{size:"small",type:"link",style:{color:"#fa8c16"},onClick:()=>{},children:"编辑"}),(0,n.jsx)(s.ZP,{size:"small",variant:"link",color:"danger",children:"删除"})]})}];return(0,n.jsx)("div",{className:"config-table",style:{flex:1},ref:p,children:(0,n.jsx)(o.Z,{title:()=>(0,n.jsx)(s.ZP,{type:"link",disabled:0===u.length||"view"===t,children:"批量清除"}),bordered:!0,size:"middle",dataSource:[{id:1,name:"name1",title:"title1",type:"type1",tips:"tips1",required:!0,defaultValue:"defaultValue1",allowedValue:"allowedValue1",appliesTo:"appliesTo1",description:"description1"},{id:2,name:"name2",title:"title1",type:"type1",tips:"tips1",required:!1,defaultValue:"defaultValue1",allowedValue:"allowedValue1",appliesTo:"appliesTo1",description:"description1"}],columns:h,rowSelection:{onChange(e,t){m(t)},columnWidth:60,fixed:!0},rowKey:"id",scroll:{x:"max-content",y:x-217},footer:()=>(0,n.jsx)(s.ZP,{type:"dashed",style:{width:"100%"},onClick:()=>{},disabled:"view"===t,children:"添加一行"})})})})},81255:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>d});var n=l(52676),a=l(67857),i=l(86291),r=l(39257),s=l(82398),o=l(75271);let d=e=>{let{open:t,onOk:l,onCancel:d,data:c}=e,[u]=i.Z.useForm(),m=(0,o.useRef)(null);(0,o.useEffect)(()=>{t&&(u.resetFields(),c&&u.setFieldsValue(c))},[c,u,t]);let p=()=>{u.validateFields().then(e=>{l(e)}).catch(e=>{u.scrollToField(e.errorFields[0].name),u.focusField(e.errorFields[0].name)})};return(0,n.jsx)(a.Z,{title:c?"编辑端点类型":"新增端点类型",width:400,open:t,onCancel:d,afterOpenChange:e=>{if(e){var t;null==(t=m.current)||t.focus()}},onOk:p,children:(0,n.jsxs)(i.Z,{form:u,labelCol:{span:4},onFinish:p,children:[(0,n.jsx)(i.Z.Item,{name:"id",hidden:!0,children:(0,n.jsx)(r.Z,{})}),(0,n.jsx)(i.Z.Item,{name:"parentId",hidden:!0,children:(0,n.jsx)(r.Z,{})}),(0,n.jsx)(i.Z.Item,{name:"typeName",label:"名称",rules:[{required:!0}],children:(0,n.jsx)(r.Z,{ref:m})}),(0,n.jsx)(i.Z.Item,{name:"icon",label:"图标",children:(0,n.jsx)(r.Z,{})}),(0,n.jsx)(i.Z.Item,{label:null,hidden:!0,children:(0,n.jsx)(s.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})}},9300:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>k});var n=l(52676),a=l(56093),i=l(91849),r=l(39257),s=l(46697),o=l(82398),d=l(57712),c=l(65436),u=l(75271),m=l(43594);let p=e=>m.a.get({url:"/engine/endpointConfig/queryEndpointConfigType",params:{name:e}}),x=e=>m.a.post({url:"/engine/endpointConfig/addEndpointType",data:e}),h=e=>m.a.post({url:"/engine/endpointConfig/updateEndpointType",data:e}),g=e=>m.a.delete({url:"/engine/endpointConfig/deleteEndpointType",params:{id:e}});var f=l(95743),y=l(83150),j=l(81255),b=l(45814),v=l(94639),I=l(35962),w=l(20919),N=l(12144),Z=l(42966),M=l(5658);let k=(0,u.memo)(e=>{let{onSelect:t}=e,[l,m]=(0,u.useState)([]),[k,C]=(0,u.useState)([]),[T,S]=(0,u.useState)(!1),[D,F]=(0,u.useState)(null),[O,E]=(0,u.useState)({x:0,y:0}),[A,z]=(0,u.useState)(!1),[P,R]=(0,u.useState)(null),L=(0,u.useRef)(null);(0,u.useEffect)(()=>{let e=e=>{L.current&&!L.current.contains(e.target)&&z(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]);let U=[{key:"add",label:"添加同级",icon:(0,n.jsx)(b.Z,{}),extra:(0,n.jsx)(n.Fragment,{children:"⌘ + N"}),onClick:()=>{F(null),S(!0),z(!1)}},{key:"addSub",label:"添加下级",icon:(0,n.jsx)(b.Z,{}),extra:(0,n.jsx)(n.Fragment,{children:"⌘ + A"}),onClick:()=>{F({parentId:null==P?void 0:P.key}),S(!0),z(!1)}},{key:"edit",label:"编辑分类",icon:(0,n.jsx)(v.Z,{}),extra:(0,n.jsx)(n.Fragment,{children:"⌘ + E"}),onClick:()=>{F(P),S(!0),z(!1)}},{key:"delete",label:"删除分类",extra:(0,n.jsx)(n.Fragment,{children:"⌘ + D"}),icon:(0,n.jsx)(I.Z,{}),disabled:(null==P?void 0:P.type)==="isConfig",onClick:()=>{var e,t,l;if(P){if(P.children&&P.children.length>0){null==(t=M.W.message)||t.warning("该分类下存在下级分类，无法删除！");return}if(P.endpointConfigs&&P.endpointConfigs.length>0){null==(l=M.W.message)||l.warning("该分类下存在配置信息，无法删除！");return}}null==(e=M.W.modal)||e.confirm({title:"删除分类",content:"确定删除该分类？",okText:"确定",cancelText:"取消",onOk:()=>{if(!P){var e;null==(e=M.W.modal)||e.error({title:"错误",content:"请选择要删除的分类！"});return}g(P.id).then(()=>{B()})},onCancel:()=>{z(!1)}})}}];(0,u.useEffect)(()=>{B()},[]);let B=e=>{p(e).then(e=>{let t=[];m(Y(e,t)),C(t)})},Y=(e,t)=>e.map(e=>{var l,a;return e.key=e.id,e.icon&&(e.icon=e.icon.indexOf("fusion")>-1?(0,n.jsx)(f.M,{type:e.icon}):(0,y.Ug)(e.icon)),e.title=e.typeName,((null==(l=e.children)?void 0:l.length)>0||(null==(a=e.endpointConfigs)?void 0:a.length)>0)&&t.push(e.key),e.children&&Y(e.children,t),e}),Q=async e=>{e.id?await h(e):await x(e),S(!1),B()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{style:{height:"100%"},title:"端点分类列表",children:(0,n.jsxs)(i.Z,{direction:"vertical",size:8,style:{width:"100%",minHeight:0},styles:{item:{flex:1,overflowY:"auto"}},children:[(0,n.jsx)(r.Z.Search,{placeholder:"请输入名称检索",autoFocus:!0,onSearch:e=>B(e)}),(0,n.jsxs)("div",{className:"tree",children:[0===l.length?(0,n.jsx)(s.Z,{description:"暂无分类！",children:(0,n.jsx)(o.ZP,{type:"primary",onClick:()=>{S(!0)},children:"新增分类"})}):(0,n.jsx)(d.Z,{blockNode:!0,showIcon:!0,switcherIcon:(0,n.jsx)(w.Z,{}),defaultExpandAll:!0,icon:e=>{let{isConfig:t}=e.data;return t?(0,n.jsx)(n.Fragment,{}):e.expanded?(0,n.jsx)(N.Z,{style:{fontSize:"16px",color:"orange"}}):(0,n.jsx)(Z.Z,{style:{fontSize:"16px",color:"orange"}})},expandedKeys:k,onExpand:(e,t)=>{t.expanded?C(e):C(k.filter(e=>t.node.id!==e))},treeData:l,selectedKeys:P?[P.key]:[],onSelect:(e,l)=>{let n=l.node;R({id:n.id,key:n.key,title:n.title,type:n.type,typeName:n.typeName,parentId:n.parentId,children:n.children,endpointConfigs:n.endpointConfigs}),t(l)},onRightClick:e=>{if(e.event.preventDefault(),e.node.isConfig)return;let{clientX:t,clientY:l}=e.event,{innerWidth:n,innerHeight:a}=window;E({x:t+160>n?t-160:t,y:l+136>a?l-136:l});let i=e.node;R({id:i.id,key:i.key,title:i.title,type:i.type,typeName:i.typeName,parentId:i.parentId,children:i.children,endpointConfigs:i.endpointConfigs}),z(!0)}}),A&&(0,n.jsx)("div",{ref:L,style:{position:"fixed",top:O.y,left:O.x,zIndex:1e3},children:(0,n.jsx)(c.Z,{menu:{items:U},trigger:["click"],open:A,children:(0,n.jsx)("div",{})})})]})]})}),(0,n.jsx)(j.default,{open:T,onCancel:()=>S(!1),onOk:Q,data:D})]})})},44507:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>w});var n=l(52676),a=l(14138),i=l(87317),r=l(26114),s=l(94639),o=l(15675),d=l(25407),c=l(35962),u=l(49027),m=l(44995),p=l(56093),x=l(78083),h=l(86291),g=l(39257),f=l(91849),y=l(82398),j=l(49681),b=l(8042),v=l(9300),I=l(75271);let w=()=>{let[e,t]=(0,I.useState)("view"),[l,w]=(0,I.useState)(null),N=(0,I.useRef)(null);return(0,I.useEffect)(()=>{"view"!==e&&N.current&&N.current.focus()},[e]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(u.Z,{gutter:8,style:{height:"100%"},children:[(0,n.jsx)(m.Z,{span:6,children:(0,n.jsx)(v.default,{onSelect:e=>{w(e)}})}),(0,n.jsx)(m.Z,{span:18,children:(0,n.jsxs)(p.Z,{style:{flex:1,minWidth:0,height:"100%"},styles:{body:{height:"100%",display:"flex",flexDirection:"column"}},children:[(0,n.jsx)(u.Z,{style:{flex:1,minHeight:0,overflow:"auto"},children:(0,n.jsxs)(m.Z,{span:24,style:{display:"flex",flexDirection:"column",minHeight:0},children:[(0,n.jsxs)(x.Z,{orientation:"left",children:[(0,n.jsx)(a.Z,{style:{marginRight:"8px"}}),"基础信息"]}),(0,n.jsx)(h.Z,{labelCol:{span:6},disabled:"view"===e,children:(0,n.jsxs)(u.Z,{gutter:24,style:{margin:"0"},children:[(0,n.jsx)(m.Z,{span:8,children:(0,n.jsx)(h.Z.Item,{name:"configName",label:"名称",children:(0,n.jsx)(g.Z,{placeholder:"请输入配置名称",ref:N})})}),(0,n.jsx)(m.Z,{span:8,children:(0,n.jsx)(h.Z.Item,{name:"icon",label:"图标",children:(0,n.jsx)(g.Z,{})})}),(0,n.jsx)(m.Z,{span:8,children:(0,n.jsx)(h.Z.Item,{name:"supportedMode",label:"支持模式",children:(0,n.jsx)(g.Z,{placeholder:"请输入类型名称"})})}),(0,n.jsx)(m.Z,{span:8,children:(0,n.jsx)(h.Z.Item,{name:"description",label:"描述",children:(0,n.jsx)(j.Z,{placeholder:"描述性信息"})})})]})}),(0,n.jsxs)(x.Z,{orientation:"left",children:[(0,n.jsx)(i.Z,{style:{marginRight:"8px"}}),"端点配置"]}),(0,n.jsx)(b.default,{configData:l,action:e,onConfigDataChange:e=>{}})]})}),(0,n.jsx)(u.Z,{children:(0,n.jsxs)(m.Z,{span:24,style:{textAlign:"right"},children:[(0,n.jsx)(x.Z,{style:{margin:"8px 0 12px 0"}}),(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(y.ZP,{icon:(0,n.jsx)(r.Z,{}),type:"primary",onClick:()=>t("add"),children:"新增"}),(0,n.jsx)(y.ZP,{icon:(0,n.jsx)(s.Z,{}),onClick:()=>t("modify"),children:"修改"}),(0,n.jsx)(y.ZP,{icon:(0,n.jsx)(o.Z,{}),type:"primary",disabled:"view"===e,onClick:()=>t("view"),children:"保存"}),(0,n.jsx)(y.ZP,{icon:(0,n.jsx)(d.Z,{}),disabled:"view"===e,onClick:()=>t("view"),children:"取消"}),(0,n.jsx)(y.ZP,{icon:(0,n.jsx)(c.Z,{}),danger:!0,disabled:null===l||"config"!==l.node.type,onClick:()=>{},children:"删除"})]})]})})]})})]})})}},75576:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>g});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(49027),o=l(44995),d=l(61496),c=l(88621),u=l(74429),m=l(67857),p=l(20326),x=l(72273);let h=[{label:"船司",name:"carrier",formType:"select",options:[],span:12},{label:"服务名称",name:"serverName",formType:"input",span:12},{label:"启动类型",name:"startType",formType:"select",options:[{label:"高频启动",value:"HIGH_FREQ"},{label:"即可启动",value:"IMMEDIATE"}],span:12},{label:"主机交换机",name:"mqExchange",formType:"input",span:12},{label:"主机地址",name:"mqHost",formType:"input",span:12},{label:"主机密码",name:"mqPassword",formType:"input",span:12},{label:"主机端口",name:"mqPort",formType:"input",span:12},{label:"主机队列",name:"mqQueue",formType:"input",span:12},{label:"主机路由件",name:"mqRoutingKey",formType:"input",span:12},{label:"主机账号",name:"mqUsername",formType:"input",span:12},{label:"主机虚拟地址",name:"mqVirtualHost",formType:"input",span:12},{label:"细分航线",name:"routeFndIds",formType:"select",options:[],span:12}],g=e=>{let{params:t,onOk:l,onCancel:g}=e,{visible:f,currentRow:y,view:j}=t,[b]=i.Z.useForm(),v=(0,c.I0)(),I=(0,c.v9)(e=>e.essentail),[w,N]=(0,a.useState)(h),[Z,M]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var e,t;f&&(y?b.setFieldsValue(y):b.resetFields(),(null==(e=I.carrierData)?void 0:e.length)&&(null==(t=I.routeData)?void 0:t.length)?C():k())},[f,I]);let k=()=>{M(!0),Promise.all([(0,x.ao)(),(0,p.it)({enabled:1})]).then(e=>{let t=["routeData","carrierData"];t.map((l,n)=>{v((0,u.qB)({value:e[n],key:t[n]}))}),C()})},C=()=>{let{routeData:e=[],carrierData:t=[]}=I,l=e.map(e=>({value:e.id,label:e.routeName})),n=t.map(e=>({label:e.code,value:e.code}));h.map(e=>{("carrier"===e.name||"routeFndIds"===e.name)&&(e.options="carrier"===e.name?n:l)}),N([...w]),M(!1)};return(0,n.jsx)(m.Z,{width:"60%",open:f,title:y?"修改服务":"添加服务",okButtonProps:{className:j?"hidden":""},onOk:()=>{b.validateFields().then(()=>{l(b.getFieldsValue())}).catch(e=>{b.scrollToField(e.errorFields[0].name),b.focusField(e.errorFields[0].name)})},onCancel:g,loading:Z,children:(0,n.jsxs)(i.Z,{form:b,labelCol:{span:6},children:[(0,n.jsx)(i.Z.Item,{name:"id",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),(0,n.jsx)(s.Z,{gutter:24,children:w.map(e=>(0,n.jsx)(o.Z,{span:e.span,children:(0,n.jsxs)(i.Z.Item,{label:e.label,name:e.name,rules:e.isRules?[{required:!0,message:`\u{8BF7}\u{9009}\u{62E9}${e.label}`}]:[],children:["input"===e.formType&&(0,n.jsx)(r.Z,{placeholder:`\u{8BF7}\u{8F93}\u{5165}${e.label}`,allowClear:!0}),"select"===e.formType&&(0,n.jsx)(d.Z,{options:(e.options||[]).map(e=>({label:e.label,value:e.value})),filterOption:!0,mode:"routeFndIds"===e.name?"multiple":void 0,placeholder:`\u{8BF7}\u{9009}\u{62E9}${e.label}`})]},e.name)},e.name))})]})})}},66472:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>g});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(82398),o=l(59285),d=l(56093),c=l(25400),u=l(50372),m=l(26114),p=l(461),x=l(42374),h=l(75576);let g=()=>{let{height:e}=(0,p.Z)(),{modal:t,message:l}=i.Z.useApp(),[g,f]=(0,a.useState)(!1),[y,j]=(0,a.useState)([]),[b,v]=(0,a.useState)({visible:!1,currentRow:null,view:!1});(0,a.useEffect)(()=>{I()},[]);let I=()=>{f(!0),(0,x.jO)().then(e=>{j(e.data),f(!1)}).catch(()=>f(!1))},w=[{title:"服务编号",dataIndex:"serverNo",key:"serverNo",align:"center",width:120},{title:"服务名称",dataIndex:"serverName",key:"serverName",align:"center",width:120},{title:"船司",dataIndex:"carrier",key:"carrier",align:"center",width:80},{title:"主机地址",key:"mqHost",align:"center",width:200,render:e=>(0,n.jsxs)("div",{children:[e.mqHost,":",e.mqPort]})},{title:"主机账号",dataIndex:"mqUsername",key:"mqUsername",align:"center",width:150},{title:"主机虚拟地址",dataIndex:"mqVirtualHost",key:"mqVirtualHost",align:"center",width:150},{title:"细分航线",dataIndex:"routeFndIds",key:"routeFndIds",align:"center",width:250},{title:"启动类型",key:"startType",align:"center",width:150},{title:"修改时间",dataIndex:"updateTime",key:"updateTime",align:"center"},{title:"操作",width:"14%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(r.Z,{size:0,children:[(0,n.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>{v({visible:!0,currentRow:t,view:!0})},children:"修改"}),(0,n.jsx)(s.ZP,{type:"link",danger:!0,size:"small",onClick:()=>N(t.id),children:"删除"}),(0,n.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>{v({visible:!0,currentRow:t,view:!0})},children:"维护航线"})]})}],N=e=>{t.confirm({title:"删除服务",icon:(0,n.jsx)(u.Z,{}),content:"确定删除该服务吗？数据删除后将无法恢复！",onOk(){(0,x.So)(e).then(()=>{I()})}})},Z=async e=>{try{null==b.currentRow?await (0,x.jw)(e):await (0,x.fk)(e),l.success(b.currentRow?"修改成功":"添加成功"),v({visible:!1,currentRow:null,view:!1}),I()}catch(e){}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsxs)(d.Z,{style:{flex:1,marginTop:"8px"},styles:{body:{height:"100%"}},children:[(0,n.jsx)(r.Z,{className:"mb-[20px]",children:(0,n.jsx)(s.ZP,{type:"primary",icon:(0,n.jsx)(m.Z,{}),onClick:()=>{v({visible:!0,currentRow:null,view:!1})},children:"添加服务"})}),(0,n.jsx)(c.Z,{size:"small",bordered:!0,pagination:!1,dataSource:y,columns:w,loading:g,rowKey:"dictId",scroll:{x:"max-content",y:e-128}})]})}),(0,n.jsx)(h.default,{params:b,onOk:Z,onCancel:()=>v({visible:!1,currentRow:null,view:!1})})]})}},83533:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>p});var n=l(52676),a=l(75271),i=l(86291),r=l(84208),s=l(61496),o=l(59285),d=l(60499),c=l(67857),u=l(15869);let m=(0,l(79797).Z)((e,t)=>{(0,u.q7)({keyword:e}).then(e=>{t(e)})},300),p=e=>{let{params:t,onOk:l,onCancel:u}=e,{visible:p,carrierOptions:x=[]}=t,[h]=i.Z.useForm(),[g,f]=(0,a.useState)([]),[y,j]=(0,a.useState)([]),{Dragger:b}=r.Z;(0,a.useEffect)(()=>{p&&(h.resetFields(),j([]))},[p]);let v=e=>{e&&m(e,f)};return(0,n.jsx)(c.Z,{open:t.visible,width:"40%",title:"导入拍舱结果",onOk:()=>{h.validateFields().then(()=>{l({...h.getFieldsValue(),file:y[0]})}).catch(e=>{h.scrollToField(e.errorFields[0].name),h.focusField(e.errorFields[0].name)})},onCancel:u,okText:"导入",children:(0,n.jsxs)(i.Z,{form:h,labelCol:{span:4},children:[(0,n.jsx)(i.Z.Item,{label:"公司名称",name:"affiliateId",rules:[{required:!0,message:"请输入公司名称"}],children:(0,n.jsx)(s.Z,{allowClear:!0,placeholder:"请输入公司名称",showSearch:!0,defaultActiveFirstOption:!1,filterOption:!1,onSearch:e=>v(e),options:(g||[]).map(e=>({value:e.id,label:e.name}))})}),(0,n.jsx)(i.Z.Item,{label:"船公司",name:"carrier",rules:[{required:!0,message:"请选择船公司"}],children:(0,n.jsx)(s.Z,{allowClear:!0,placeholder:"请选择船公司",showSearch:!0,defaultActiveFirstOption:!1,filterOption:!1,options:(x||[]).map(e=>({value:e.carrierCode,label:e.carrierCode}))})}),(0,n.jsx)(o.ZP,{theme:{components:{Upload:{colorBorder:"#167fff",colorFillAlter:"rgba(241,246,255,1)"}}},children:(0,n.jsxs)(b,{...{name:"file",multiple:!1,accept:".xlsx",beforeUpload:e=>(j([e]),!1),fileList:y},children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(d.Z,{})}),(0,n.jsx)("p",{className:"text-sky-600",children:"点击或将文件拖动到这里上传"}),(0,n.jsx)("p",{children:"仅支持文件格式：xlsx"})]})})]})})}},39971:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>N});var n=l(52676),a=l(75271),i=l(74434),r=l(86291),s=l(61496),o=l(49027),d=l(44995),c=l(91849),u=l(39257),m=l(82398),p=l(74515),x=l(67857),h=l(5246),g=l(15869),f=l(98442),y=l(26930),j=l(79797),b=l(16483),v=l.n(b);let I=[{label:"直达",value:"0"},{label:"中转",value:"1"}],w=(0,j.Z)((e,t)=>{(0,g.zj)({keyword:e.value,tag:e.tag}).then(l=>{t({[e.tag]:l})})},300),N=e=>{let{params:t,onOk:l,onCancel:j}=e,{visible:b,editRow:N,carrierOptions:Z=[]}=t,[M]=r.Z.useForm(),[k,C]=(0,a.useState)(!1),[T,S]=(0,a.useState)(!0),[D,F]=(0,a.useState)([]),[O,E]=(0,a.useState)({POR:[],FND:[]}),[A,z]=(0,a.useState)({transshipment:"0",porCode:"",fndCode:""}),P=[{title:"ETD",key:"etd",align:"center",render:e=>(0,n.jsx)("div",{children:(0,f.m)(e.etd,"Y-M-D h:m")})},{title:"ETA",key:"eta",align:"center",render:e=>(0,n.jsx)("div",{children:(0,f.m)(e.eta,"Y-M-D h:m")})},{title:"船名/航次",key:"vesselName",align:"center",width:150,render:e=>(0,n.jsxs)("div",{children:[e.vesselName," / ",e.voyage]})},{dataIndex:"routeCode",key:"routeCode",title:"航线代码",align:"center"},{title:"直达/中转",key:"transferInfoList",align:"center",width:150,render:e=>(0,n.jsx)("div",{children:e.transferInfoList?"中转":"直达"})},{dataIndex:"totalDuration",key:"totalDuration",title:"航程",align:"center"}],R=(e,t)=>{w({value:e,tag:t},E)},L=e=>{let{porCode:t="",fndCode:l=""}=M.getFieldsValue();t&&l||w({tag:e},E)};(0,a.useEffect)(()=>{b&&U()},[b]);let U=()=>{C(!0),M.resetFields();let e=(0,y.Yp)(N,["carrier","etd","voyageNo","vesselName","remark"],!0),t=[];(0,g.zj)({keyword:N.porName.split(",")[0],tag:"POR"}).then(l=>{var n;t=l??[],M.setFieldsValue({...e,porCode:(null==(n=l[0])?void 0:n.unlocode)??"",etd:v()(e.etd)??""})}),setTimeout(()=>{(0,g.zj)({keyword:N.fndName.split(",")[0],tag:"FND"}).then(e=>{var l;E({POR:t,FND:e}),M.setFieldsValue({fndCode:(null==(l=e[0])?void 0:l.unlocode)??""})}),C(!1)},2e3)},B=e=>(0,n.jsx)(s.Z,{allowClear:!0,placeholder:`\u{8BF7}\u{8F93}\u{5165}${"POR"===e?"起运":"目的"}\u{6E2F}`,showSearch:!0,defaultActiveFirstOption:!1,filterOption:!1,onSearch:t=>R(t,e),onFocus:()=>L(e),classNames:{popup:{root:"portSelect"}},options:(O[e]||[]).map(e=>({label:(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("p",{children:[e.localName," - ",e.name]}),(0,n.jsxs)("p",{children:[e.countryLocalName," - ",e.countryName]})]}),value:e.unlocode}))});return(0,n.jsxs)(x.Z,{open:b,width:"60%",title:"手动发布",onOk:()=>{},onCancel:()=>{M.resetFields(),j()},okText:"发布",loading:k,children:[(0,n.jsx)(r.Z,{form:M,labelCol:{span:6},labelAlign:"left",initialValues:A,className:i.Z["search-form"],children:(0,n.jsxs)(o.Z,{gutter:24,children:[(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"起运港",name:"porCode",children:B("POR")})}),(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"目的港",name:"fndCode",children:B("FND")})}),(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"船公司",name:"carrier",children:(0,n.jsx)(s.Z,{allowClear:!0,placeholder:"请选择船公司",showSearch:!0,defaultActiveFirstOption:!1,filterOption:!1,options:Z.map(e=>({value:e,label:e}))})})}),(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"船名",children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(r.Z.Item,{noStyle:!0,name:"vesselName",rules:[{required:!0,message:"请输入船名"}],children:(0,n.jsx)(u.Z,{autoFocus:!1,allowClear:!0,autoComplete:"off",placeholder:"请输入船名"})}),(0,n.jsx)(m.ZP,{type:"primary",onClick:()=>{z(M.getFieldsValue()),S(!1)},children:"获取船期"})]})})}),(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"航次",name:"voyageNo",rules:[{required:!0,message:"请输入航次"}],children:(0,n.jsx)(u.Z,{autoFocus:!1,allowClear:!0,autoComplete:"off",placeholder:"请输入航次"})})}),(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"直达/中转",name:"transshipment",rules:[{required:!0,message:"请选择直达/中转"}],children:(0,n.jsx)(s.Z,{allowClear:!0,placeholder:"请选择直达/中转",showSearch:!0,defaultActiveFirstOption:!1,filterOption:!1,options:I})})}),(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"ETD",name:"etd",rules:[{required:!0,message:"请选择ETD"}],children:(0,n.jsx)(p.Z,{style:{width:"100%"},showTime:{format:"YYYY-MM-DD"},format:"YYYY-MM-DD"})})}),(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"ETA",name:"eta",rules:[{required:!0,message:"请选择ETA"}],children:(0,n.jsx)(p.Z,{showTime:!0,style:{width:"100%"}})})}),(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"航程",name:"etaEtdDay",rules:[{required:!0,message:"请输入航程"}],children:(0,n.jsx)(u.Z,{autoFocus:!1,allowClear:!0,autoComplete:"off",placeholder:"请输入航程"})})}),(0,n.jsx)(d.Z,{span:12,children:(0,n.jsx)(r.Z.Item,{label:"备注",name:"remark",children:(0,n.jsx)(u.Z,{autoFocus:!1,allowClear:!0,autoComplete:"off",placeholder:"请输入备注"})})})]})}),(0,n.jsx)(h.Z,{columns:P,rowKey:"id",fetchData:g.GX,searchFilter:(0,y.Yp)(A,["porCode","fndCode","carrier"],!0),isSelection:!0,isPagination:!1,immediate:T,onUpdatePagination:()=>{},onUpdateSelection:e=>F(e)})]})}},13667:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>x});var n=l(52676),a=l(75271),i=l(99254),r=l(82398),s=l(91849),o=l(25407),d=l(5246),c=l(15869),u=l(98442),m=l(59286),p=l(53475);let x=(0,a.memo)(e=>{let{drawerShow:t,onOk:l,onCancel:x}=e,[h,g]=(0,a.useState)([]),[f,y]=(0,a.useState)(!0),[j,b]=(0,a.useState)({pageIndex:1,pageSize:10,filter:{affiliateId:""}});(0,a.useEffect)(()=>{t&&(b({pageIndex:1,pageSize:10,filter:{affiliateId:"105"}}),y(!1))},[t]);let v=[{dataIndex:"no",title:"订单号",key:"no",align:"center"},{title:"目的港名称",key:"fnd",align:"center",width:200,render(e){var t,l,a,i;return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:(null==(l=e.content)||null==(t=l.fnd)?void 0:t.localName)??"-"}),(0,n.jsx)("p",{children:(null==(i=e.content)||null==(a=i.fnd)?void 0:a.name)??"-"})]})}},{title:"开航起止日期",key:"createTime",align:"center",render(e){var t,l;return(0,n.jsxs)("div",{children:[(0,u.m)(null==(t=e.content)?void 0:t.etdStart,"M-D")," 至",(0,u.m)(null==(l=e.content)?void 0:l.etdEnd,"M-D")]})}},{title:"箱型/箱量/票",width:250,align:"center",render(e){var t,l;return(null==(t=e.content)?void 0:t.items)&&(null==(l=e.content)?void 0:l.items.map((e,t)=>(0,n.jsxs)("div",{children:[e.containerType," * ",e.containerQuantity,e.orderNum?(0,n.jsxs)("span",{className:"mx-[8px]",children:[e.orderNum," 票"]}):null]},t)))}},{title:"价格上限",width:250,align:"center",render(e){var t,l;return(null==(t=e.content)?void 0:t.items)&&(null==(l=e.content)?void 0:l.items.map((e,t)=>(0,n.jsxs)("div",{children:[e.containerType,e.priceLimit.TOTAL&&e.rose>=0?(0,n.jsxs)("span",{children:["$ ",e.priceLimit.TOTAL.USD,(0,n.jsxs)("span",{className:"mx-[10px]",children:["拍一手价,允许涨幅",e.rose]}),(0,n.jsx)("span",{})]}):0!==e.rose||e.priceLimit.TOTAL?(0,n.jsxs)("span",{children:["拍一手价，允许涨幅",e.rose]}):(0,n.jsx)("span",{children:"一手价"})]},t)))}},{title:"备注",key:"remark",width:130,align:"center",render(e){var t;return(0,n.jsx)("div",{children:null==(t=e.content)?void 0:t.remark})}}];return(0,n.jsxs)(i.Z,{title:"关联订单",width:600,open:t,closeIcon:!1,extra:(0,n.jsx)(r.ZP,{type:"text",icon:(0,n.jsx)(o.Z,{}),onClick:x}),onClose:x,classNames:{footer:"text-right"},footer:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(r.ZP,{onClick:x,children:"取消"}),(0,n.jsx)(r.ZP,{type:"primary",onClick:()=>l(h),children:"确定"})]}),children:[t&&(0,n.jsx)(m.Z,{columns:p.s,gutterWidth:24,labelPosition:"left",btnSeparate:!1,isShowReset:!1,isShowExpend:!1,onUpdateSearch:e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));b({...j,filter:{...t,affiliateId:"105"}})}}),t&&(0,n.jsx)(d.Z,{columns:v,rowKey:"id",fetchData:c.sW,searchFilter:j,isSelection:!0,immediate:f,onUpdatePagination:e=>{b({...j,pageIndex:e.current,pageSize:e.pageSize}),y(!1)},onUpdateSelection:e=>g(e)})]})})},53475:function(e,t,l){"use strict";l.d(t,{K:()=>a,s:()=>i});var n=l(15869);let a=[{label:"公司名称",name:"affiliateId",api:n.q7,options:[],formType:"select",span:6},{label:"船公司",name:"carrier",api:n.Qw,options:[],formType:"select",span:6,filterSearch:!0},{label:"起运港名称",name:"porCode",api:n.zj,options:[],formType:"select",span:6,tag:"POR"},{label:"目的港名称",name:"fnd",formType:"input",span:6},{label:"状态",name:"status",formType:"select",span:6,options:[{name:"已关联",id:1},{name:"未关联",id:0}]}],i=[{label:"目的港名称",name:"fndId",api:n.zj,options:[],formType:"select",span:12,tag:"FND"}]},37569:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>b});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(59285),o=l(56093),d=l(82398),c=l(34004),u=l(34506),m=l(59286),p=l(5246),x=l(53475),h=l(15869),g=l(98442),f=l(83533),y=l(13667),j=l(39971);let b=()=>{let{message:e}=i.Z.useApp(),[t,l]=(0,a.useState)({pageIndex:1,pageSize:10,filter:{}}),[b,v]=(0,a.useState)({visible:!1,carrierOptions:[]}),[I,w]=(0,a.useState)(!1),[N,Z]=(0,a.useState)(""),[M,k]=(0,a.useState)([]),[C,T]=(0,a.useState)(!1),[S,D]=(0,a.useState)({visible:!1,editRow:null}),F=[{dataIndex:"affiliateName",title:"公司名称",key:"affiliateName",align:"center"},{dataIndex:"carrier",title:"船公司",key:"carrier",align:"center",width:80},{dataIndex:"porName",title:"起运港名称",key:"porName",align:"center",width:200},{dataIndex:"fndName",title:"目的港名称",key:"fndName",align:"center",width:200},{title:"关联状态",key:"orderId",align:"center",width:100,render:e=>(0,n.jsx)("div",{children:e.orderId?"已关联":"未关联"})},{title:"发布状态",key:"publishStatus",align:"center",width:100,render:e=>(0,n.jsx)("div",{children:1==e.publishStatus?"已发布":e.publishMsg?"发布失败":"未发布"})},{dataIndex:"bookingAccount",title:"订舱账号",key:"bookingAccount",align:"center"},{dataIndex:"bookingNo",title:"订舱号",key:"bookingNo",align:"center"},{title:"ETD",key:"etd",align:"center",render:e=>(0,n.jsx)("div",{children:(0,g.m)(e.etd,"Y-M-D h:m")})},{title:"箱型/箱量/票",key:"inventories",align:"center",width:150,render(e){let t=[],l=JSON.parse(e.inventories??{});for(let e in l)t.push({ctnType:e,count:l[e]});return t.map((e,t)=>(0,n.jsxs)("div",{children:[e.ctnType," * ",e.count]},t))}},{title:"船名航次",key:"vesselName",align:"center",width:180,render:e=>(0,n.jsxs)("div",{children:[e.vesselName," / ",e.voyNo]})},{title:"价格",key:"price",align:"center",width:200,render(e){var t,l;let a=JSON.parse(e.price??{});return e.price?(0,n.jsxs)("div",{children:["Base:",null==(t=a.bas)?void 0:t.value," / Total:",null==(l=a.total)?void 0:l.value]}):(0,n.jsx)("div",{children:"-"})}},{title:"导入时间",key:"created",align:"center",render:e=>(0,n.jsx)("div",{children:(0,g.m)(e.created,"Y-M-D h:m")})},{dataIndex:"remark",title:"备注",key:"remark",align:"center"},{dataIndex:"action",title:"操作",align:"center",fixed:"right",render:(e,t)=>(0,n.jsxs)(r.Z,{direction:"vertical",size:0,children:[(0,n.jsx)("div",{className:O(!t.orderId,"blue"),onClick:()=>{Z(t.id),T(!0)},children:"关联订单"}),(0,n.jsx)("div",{className:O(t.orderId,"red"),children:"查看订单"}),(0,n.jsx)("div",{className:O(t.orderId,"blue"),onClick:()=>E(t.id),children:"取消关联"}),(0,n.jsx)("div",{className:O(!t.publishStatus,"blue"),onClick:()=>A(t),children:"手动发布"})]})}],O=(e,t)=>e?`cursor-pointer text-${t}-500`:"hidden",E=t=>{(0,h.h3)({ids:[t]}).then(()=>{e.success("操作成功")})},A=e=>{var t;let l=null==(t=x.K.find(e=>"carrier"===e.name))?void 0:t.options;D({visible:!0,editRow:e,carrierOptions:null==l?void 0:l.map(e=>e.name)})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:[(0,n.jsx)(o.Z,{children:(0,n.jsx)(m.Z,{columns:x.K,gutterWidth:24,labelPosition:"left",btnSeparate:!0,isShowExpend:!1,isShowReset:!0,onUpdateSearch:e=>{let n=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));l({...t,filter:{...n}})}})}),(0,n.jsxs)(o.Z,{children:[(0,n.jsxs)(r.Z,{className:"mb-[20px]",children:[(0,n.jsx)(d.ZP,{type:"primary",icon:(0,n.jsx)(c.Z,{}),onClick:()=>{var e;v({visible:!0,carrierOptions:(null==(e=x.K.find(e=>"carrier"===e.name))?void 0:e.options)||[]})},children:"导入拍舱结果"}),(0,n.jsx)(d.ZP,{type:"primary",style:{background:"#FA8C16"},icon:(0,n.jsx)(u.Z,{}),loading:I,onClick:()=>{if(0===M.length)return void e.error("请至少选择一条要导出的订单");w(!0),(0,h.PP)(M).then(t=>{let l=t.data.effected==M.length&&!t.data.failedItems&&0!==t.data.failedItems.length,n=t.data.failedItems[0].message??"";!0===l?e.success("批量发布成功"):e.error(`\u{53D1}\u{5E03}\u{6210}\u{529F}${t.data.effected}\u{6761}\u{6570}\u{636E}\u{FF0C}\u{5176}\u{4F59}\u{53D1}\u{5E03}\u{5931}\u{8D25}\u{FF0C}\u{5931}\u{8D25}\u{539F}\u{56E0}\u{FF1A}${n}\u{7B49}...`),w(!1)}).catch(()=>w(!1))},children:"批量发布"})]}),(0,n.jsx)(p.Z,{columns:F,rowKey:"id",fetchData:h.CV,searchFilter:t,isSelection:!0,onUpdatePagination:e=>{l({...t,pageIndex:e.current,pageSize:e.pageSize})},onUpdateSelection:e=>k(e)})]})]}),(0,n.jsx)(f.default,{params:b,onOk:t=>{(0,h.Yw)(t).then(t=>{e.success("导入成功！")}).catch(e=>{})},onCancel:()=>{v({visible:!1,carrierOptions:[]})}}),(0,n.jsx)(y.default,{drawerShow:C,onCancel:()=>T(!1),onOk:t=>{1!==t.length?e.error("只能选择一条订单导入订舱结果"):(0,h.BU)({ids:[N],orderId:t.join(",")}).then(()=>{e.success("导入成功"),T(!1)})}}),(0,n.jsx)(j.default,{params:S,onCancel:()=>D({visible:!1,editRow:null}),onOk:()=>{}})]})}},14252:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>c});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(61496),o=l(97727),d=l(67857);let c=e=>{let{params:t,dictionaryClass:l,defaultdictId:c,onCancel:u,onOk:m}=e,{visible:p,currentRow:x,view:h}=t,[g]=i.Z.useForm(),f=(0,a.useRef)(null);return(0,a.useEffect)(()=>{p&&(x?g.setFieldsValue(x):(g.resetFields(),c&&g.setFieldsValue({dictId:c})))},[x,p]),(0,n.jsx)(d.Z,{width:"40%",open:p,title:x?"编辑字典分类":"新增字典分类",okButtonProps:{className:h?"hidden":""},onOk:()=>{g.validateFields().then(()=>{m(g.getFieldsValue())}).catch(e=>{g.scrollToField(e.errorFields[0].name),g.focusField(e.errorFields[0].name)})},onCancel:u,afterOpenChange:e=>{if(e){var t;null==(t=f.current)||t.focus()}},children:(0,n.jsxs)(i.Z,{form:g,labelCol:{span:4},children:[(0,n.jsx)(i.Z.Item,{name:"id",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),(0,n.jsx)(i.Z.Item,{name:"dictId",label:"字典分类",rules:[{required:!0,message:"请选择字典分类"}],children:(0,n.jsx)(s.Z,{placeholder:"请选择字典分类",showSearch:!0,allowClear:!0,options:l,fieldNames:{value:"id",label:"name"}})}),(0,n.jsx)(i.Z.Item,{name:"dictDataName",label:"字典项名称",rules:[{required:!0,message:"请输入字典项名称"}],children:(0,n.jsx)(r.Z,{ref:f,placeholder:"请输入字典项名称",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"dictDataCode",label:"字典项标识",rules:[{required:!0,message:"请输入字典项标识"}],children:(0,n.jsx)(r.Z,{ref:f,placeholder:"请输入字典项标识",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"sortNumber",label:"排序号",rules:[{required:!0,message:"请选择排序号"}],children:(0,n.jsx)(o.Z,{style:{width:"100%"}})}),(0,n.jsx)(i.Z.Item,{name:"comments",label:"备注",children:(0,n.jsx)(r.Z.TextArea,{placeholder:"请输入备注"})})]})})}},54042:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>j});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(82398),o=l(59285),d=l(56093),c=l(50372),u=l(26114),m=l(35962),p=l(35749),x=l(59286),h=l(14252),g=l(5246),f=l(26930),y=l(461);let j=()=>{var e;let{modal:t,message:l}=i.Z.useApp(),{parentRef:j,height:b}=(0,y.Z)(),[v,I]=(0,a.useState)([]),[w,N]=(0,a.useState)({page:1,limit:10,dictId:null}),[Z,M]=(0,a.useState)({visible:!1,currentRow:null,view:!1}),[k,C]=(0,a.useState)([]),[T,S]=(0,a.useState)(!0);(0,a.useEffect)(()=>{D()},[]);let D=async()=>{var e;S(!0);let t=(await (0,p.Tb)()).map(e=>({id:e.dictId,name:e.dictName}));I(t),t.length&&N({...w,dictId:null==(e=t[0])?void 0:e.id}),setTimeout(()=>{S(!1)},300)},F=[{title:"字典项名称",dataIndex:"dictDataName",key:"dictDataName",align:"center"},{title:"字典分类",dataIndex:"dictName",key:"dictName",align:"center"},{title:"备注",dataIndex:"comments",key:"comments",align:"center",width:120},{title:"修改时间",dataIndex:"updateTime",key:"updateTime",align:"center"},{title:"操作",width:"14%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(r.Z,{size:0,children:[(0,n.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>{M({visible:!0,currentRow:t,view:!0})},children:"修改"}),(0,n.jsx)(s.ZP,{type:"link",danger:!0,size:"small",onClick:()=>E(t.dictDataId),children:"删除"})]})}],O=[{label:"标签分类",name:"dictId",formType:"select",options:v,defaultValue:null==w?void 0:w.dictId,span:6},{label:"字典项名称",name:"dictDataName",formType:"input",span:6}],E=(e,l)=>{t.confirm({title:`${l?"批量":""}\u{5220}\u{9664}\u{5B57}\u{5178}\u{5206}\u{7C7B}`,icon:(0,n.jsx)(c.Z,{}),content:`\u{786E}\u{5B9A}${l?"批量":""}\u{5220}\u{9664}\u{5B57}\u{5178}\u{5206}\u{7C7B}\u{5417}\u{FF1F}\u{6570}\u{636E}\u{5220}\u{9664}\u{540E}\u{5C06}\u{65E0}\u{6CD5}\u{6062}\u{590D}\u{FF01}`,onOk(){(l?(0,p.li)({ids:e}):(0,p.q3)(e)).then(()=>{z({...w}),C([])})}})},A=async e=>{try{null==Z.currentRow?await (0,p.Rj)(e):await (0,p.XQ)(e),l.success(Z.currentRow?"修改成功":"添加成功"),M({visible:!1,currentRow:null,view:!1}),z({...w})}catch(e){}},z=e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));N({...(0,f.Yp)(w,["page","limit"],!0),...t})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(d.Z,{children:!T&&(0,n.jsx)(x.Z,{columns:O,gutterWidth:24,labelPosition:"left",btnSeparate:!1,isShowReset:!0,isShowExpend:!1,onUpdateSearch:z})})}),(0,n.jsxs)(d.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:j,children:[(0,n.jsxs)(r.Z,{className:"mb-[8px]",children:[(0,n.jsx)(s.ZP,{type:"primary",icon:(0,n.jsx)(u.Z,{}),onClick:()=>M({visible:!0,currentRow:null,view:!1}),children:"新增"}),(0,n.jsx)(s.ZP,{type:"default",danger:!0,icon:(0,n.jsx)(m.Z,{}),disabled:0===k.length,onClick:()=>E(k,"batch"),children:"批量删除"})]}),(0,n.jsx)(g.Z,{size:"small",columns:F,bordered:!0,rowKey:"dictDataId",fetchData:p.iC,searchFilter:w,scroll:{x:"max-content",y:b-158},isSelection:!0,isPagination:!1,immediate:T,onUpdatePagination:e=>{N({...w,page:e.current,limit:e.pageSize})},onUpdateSelection:e=>C(e)})]}),(0,n.jsx)(h.default,{params:Z,onOk:A,dictionaryClass:v,defaultdictId:(null==(e=O.find(e=>"dictId"===e.name))?void 0:e.defaultValue)??null,onCancel:()=>M({visible:!1,currentRow:null,view:!1})})]})}},42863:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>d});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(97727),o=l(67857);let d=e=>{let{params:t,onOk:l,onCancel:d}=e,{visible:c,currentRow:u,view:m}=t,[p]=i.Z.useForm(),x=(0,a.useRef)(null);return(0,a.useEffect)(()=>{c&&(u?p.setFieldsValue(u):p.resetFields())},[u,c]),(0,n.jsx)(o.Z,{width:"40%",open:c,title:u?"编辑字典分类":"新增字典分类",okButtonProps:{className:m?"hidden":""},onOk:()=>{p.validateFields().then(()=>{l(p.getFieldsValue())}).catch(e=>{p.scrollToField(e.errorFields[0].name),p.focusField(e.errorFields[0].name)})},onCancel:d,afterOpenChange:e=>{if(e){var t;null==(t=x.current)||t.focus()}},children:(0,n.jsxs)(i.Z,{form:p,labelCol:{span:4},children:[(0,n.jsx)(i.Z.Item,{name:"dictId",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),(0,n.jsx)(i.Z.Item,{name:"dictName",label:"字典名称",rules:[{required:!0,message:"请输入字典名称"}],children:(0,n.jsx)(r.Z,{ref:x,placeholder:"请输入字典名称",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"dictCode",label:"字典标识",rules:[{required:!0,message:"请输入字典标识"}],children:(0,n.jsx)(r.Z,{ref:x,placeholder:"请输入字典名称",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"sortNumber",label:"排序号",rules:[{required:!0,message:"请选择排序号"}],children:(0,n.jsx)(s.Z,{style:{width:"100%"}})}),(0,n.jsx)(i.Z.Item,{name:"comments",label:"字典备注",children:(0,n.jsx)(r.Z.TextArea,{placeholder:"请输入字典备注"})})]})})}},48920:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>g});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(82398),o=l(59285),d=l(56093),c=l(25400),u=l(35749),m=l(50372),p=l(26114),x=l(461),h=l(42863);let g=()=>{let{height:e}=(0,x.Z)(),{modal:t,message:l}=i.Z.useApp(),[g,f]=(0,a.useState)(!1),[y,j]=(0,a.useState)([]),[b,v]=(0,a.useState)({visible:!1,currentRow:null,view:!1});(0,a.useEffect)(()=>{I()},[]);let I=()=>{f(!0),(0,u.vF)().then(e=>{j(e.list),f(!1)}).catch(()=>f(!1))},w=[{title:"字典名称",dataIndex:"dictName",key:"dictName",align:"center",width:250},{title:"字典标识",dataIndex:"dictCode",key:"dictCode",align:"center",width:250},{title:"备注",dataIndex:"comments",key:"comments",align:"center",width:250},{title:"修改时间",dataIndex:"updateTime",key:"updateTime",align:"center"},{title:"操作",width:"14%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(r.Z,{size:0,children:[(0,n.jsx)(s.ZP,{type:"link",size:"small",onClick:()=>{v({visible:!0,currentRow:t,view:!0})},children:"修改"}),(0,n.jsx)(s.ZP,{type:"link",danger:!0,size:"small",onClick:()=>N(t.id),children:"删除"})]})}],N=e=>{t.confirm({title:"删除字典分类",icon:(0,n.jsx)(m.Z,{}),content:"确定删除该字典分类吗？数据删除后将无法恢复！",onOk(){(0,u.c)(e).then(()=>{I()})}})},Z=async e=>{try{null==b.currentRow?await (0,u.BF)(e):await (0,u.ax)(e),l.success(b.currentRow?"修改成功":"添加成功"),v({visible:!1,currentRow:null,view:!1}),I()}catch(e){}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsxs)(d.Z,{style:{flex:1,marginTop:"8px"},styles:{body:{height:"100%"}},children:[(0,n.jsx)(r.Z,{className:"mb-[20px]",children:(0,n.jsx)(s.ZP,{type:"primary",icon:(0,n.jsx)(p.Z,{}),onClick:()=>{v({visible:!0,currentRow:null,view:!1})},children:"新增"})}),(0,n.jsx)(c.Z,{size:"small",bordered:!0,pagination:!1,dataSource:y,columns:w,loading:g,rowKey:"dictId",scroll:{x:"max-content",y:e-128}})]})}),(0,n.jsx)(h.default,{params:b,onOk:Z,onCancel:()=>v({visible:!1,currentRow:null,view:!1})})]})}},86054:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>g});var n=l(52676),a=l(75271),i=l(85108),r=l(91849),s=l(82398),o=l(59285),d=l(56093),c=l(34004),u=l(59286),m=l(5246),p=l(15869);let x=[{label:"订单号",name:"orderNo",formType:"input",span:6},{label:"公司名称",name:"affiliateId",api:p.q7,options:[],formType:"select",span:6},{label:"用户名",name:"customerId",api:p.gt,options:[],formType:"input",span:6},{label:"订单创建时间",name:"date-picker",formType:"date-picker",span:6},{label:"船公司",name:"carrier",api:p.Qw,options:[],formType:"select",span:6,filterSearch:!0},{label:"起运港名称",name:"porId",api:p.zj,options:[],formType:"select",span:6,tag:"POR"},{label:"目的港名称",name:"fndId",api:p.zj,options:[],formType:"select",span:6,tag:"FND"},{label:"订单状态",name:"status",formType:"select",span:6,options:[{id:"PENDING",name:"预定中"},{id:"PREPARING",name:"预定中"},{id:"PREPARED",name:"预定成功"},{id:"FAILED",name:"预定失败"},{id:"CANCELLED",name:"取消预订"},{id:"CANCELLING",name:"取消申请中"}]},{label:"订单来源",name:"source",formType:"select",span:6,options:[{id:"API_YDATA",name:"壹沓"},{id:"WEB",name:"网页"},{id:"APP",name:"小程序"}]}];var h=l(98442);let g=()=>{let{message:e}=i.Z.useApp(),[t,l]=(0,a.useState)({pageIndex:1,pageSize:10,filter:{genres:"FASTBOOKING"}}),[g,f]=(0,a.useState)([]),[y,j]=(0,a.useState)(!1),b=[{dataIndex:"no",title:"订单号",key:"no",align:"center"},{dataIndex:"affiliateName",title:"公司名称",key:"affiliateName",align:"center"},{dataIndex:"customerName",title:"用户名",key:"customerName",align:"center"},{title:"订单状态",key:"status",align:"center",width:100,render(e){var t;let l=(null==(t=x.find(e=>"status"===e.name))?void 0:t.options)??[];return(0,n.jsx)("div",{children:l.filter(t=>t.id===e.status)[0].name})}},{title:"船公司",key:"carrier",align:"center",width:80,render:e=>(0,n.jsx)("div",{children:e.content.carrier[0]})},{title:"起运港名称",key:"por",align:"center",width:200,render(e){var t,l,a,i;return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:(null==(l=e.content)||null==(t=l.por)?void 0:t.localName)??"-"}),(0,n.jsx)("p",{children:(null==(i=e.content)||null==(a=i.por)?void 0:a.name)??"-"})]})}},{title:"目的港名称",key:"fnd",align:"center",width:200,render(e){var t,l,a,i;return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:(null==(l=e.content)||null==(t=l.fnd)?void 0:t.localName)??"-"}),(0,n.jsx)("p",{children:(null==(i=e.content)||null==(a=i.fnd)?void 0:a.name)??"-"})]})}},{title:"开航起止日期",key:"createTime",align:"center",render(e){var t,l;return(0,n.jsxs)("div",{children:[(0,h.m)(null==(t=e.content)?void 0:t.etdStart,"M-D")," 至",(0,h.m)(null==(l=e.content)?void 0:l.etdEnd,"M-D")]})}},{title:"订单修改时间",key:"updated",align:"center",render:e=>(0,n.jsx)("div",{children:(0,h.m)(e.updated,"Y-M-D h:m")})},{title:"箱型/箱量/票",width:250,align:"center",render(e){var t;return null==(t=e.content)?void 0:t.items.map((e,t)=>(0,n.jsxs)("div",{children:[e.containerType," * ",e.containerQuantity,e.orderNum?(0,n.jsxs)("span",{className:"mx-[8px]",children:[e.orderNum," 票"]}):null]},t))}},{title:"价格上限",width:250,align:"center",render(e){var t;return null==(t=e.content)?void 0:t.items.map((e,t)=>(0,n.jsxs)("div",{children:[e.containerType,e.priceLimit.TOTAL&&e.rose>=0?(0,n.jsxs)("span",{children:["$ ",e.priceLimit.TOTAL.USD,(0,n.jsxs)("span",{className:"mx-[10px]",children:["拍一手价,允许涨幅",e.rose]}),(0,n.jsx)("span",{})]}):0!==e.rose||e.priceLimit.TOTAL?(0,n.jsxs)("span",{children:["拍一手价，允许涨幅",e.rose]}):(0,n.jsx)("span",{children:"一手价"})]},t))}},{dataIndex:"deadline",title:"预计放舱时间",key:"deadline",align:"center"},{title:"订舱通道",align:"center",width:120,render:e=>(0,n.jsx)("div",{children:"PENDING"===e.status?"-":e.api?"API极虎":"自有订舱"})},{title:"备注",key:"remark",width:130,align:"center",render(e){var t;return(0,n.jsx)("div",{children:null==(t=e.content)?void 0:t.remark})}},{dataIndex:"action",title:"操作",align:"center",fixed:"right",render:(e,t)=>(0,n.jsx)(r.Z,{size:0,children:(0,n.jsx)(s.ZP,{size:"middle",onClick:()=>v(t),children:"查看"})})}],v=e=>{},I=t=>{if(0===g.length)return void e.error("请至少选择一条要导出的订单");j(!0),("table"===t?(0,p.Xy)({ids:g.join(",")}):(0,p.lf)({ids:g.join(",")})).then(e=>{let l=new Blob([e.data],{type:"application/vnd.ms-excel"}),n=document.createElement("a");n.download=`(${t} !== 'table' ? \u{62CD}\u{8231}\u{7ED3}\u{679C} : '\u{5149}\u{901F}\u{9884}\u{5B9A}\u{5217}\u{8868}').xlsx`,n.style.display="none",n.href=URL.createObjectURL(l),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href)}).finally(()=>{j(!1)})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(d.Z,{children:(0,n.jsx)(u.Z,{columns:x,gutterWidth:24,labelPosition:"left",btnSeparate:!0,isShowReset:!0,isShowExpend:!1,onUpdateSearch:e=>{let n=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));l({...t,filter:{...n,genres:"FASTBOOKING"}})}})})}),(0,n.jsxs)(d.Z,{children:[(0,n.jsxs)(r.Z,{className:"mb-[20px]",children:[(0,n.jsx)(s.ZP,{type:"primary",icon:(0,n.jsx)(c.Z,{}),loading:y,onClick:()=>I("table"),children:"导出列表"}),(0,n.jsx)(s.ZP,{type:"primary",icon:(0,n.jsx)(c.Z,{}),loading:y,onClick:()=>I("result"),children:"导出订单结果"})]}),(0,n.jsx)(m.Z,{columns:b,rowKey:"id",fetchData:p.sW,searchFilter:t,isSelection:!0,onUpdatePagination:e=>{l({...t,pageIndex:e.current,pageSize:e.pageSize})},onUpdateSelection:e=>f(e)})]})]})}},44198:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>v});var n=l(52676),a=l(75271),i=l(61758),r=l(14138),s=l(86291),o=l(39257),d=l(19671),c=l(76682),u=l(50828),m=l(65436),p=l(97727),x=l(58545),h=l(67857),g=l(74369),f=l(69810),y=l(29180);let j=Object.values(f).filter(e=>"function"!=typeof e),b=e=>{let{onSelect:t}=e,[l,i]=(0,a.useState)(""),[r,s]=(0,a.useState)(1),[o,d]=(0,a.useState)(80),[c,u]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=(r-1)*o,t=e+o;u(j.slice(e,t))},[r,o]);let m=e=>{i(e),t(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"icon-panel flex flex-wrap gap-2 p-4",children:c.map(e=>(0,n.jsx)("div",{className:`icon-item cursor-pointer hover:bg-[#ddd] w-[20px] text-center ${l===e.displayName?"bg-[#1890ff] text-white":""}`,onClick:()=>m(e.displayName),children:a.createElement(e,{style:{fontSize:"18px"}})},e.displayName))}),(0,n.jsx)(y.Z,{className:"absolute bottom-2",current:r,size:"small",pageSize:o,total:j.length,onChange:e=>s(e)})]})},v=e=>{let{visible:t,currentRow:l,onOk:f,onCancel:y}=e,[j]=s.Z.useForm(),v=(0,a.useRef)(null),[I,w]=(0,a.useState)((null==l?void 0:l.menuType)||1),[N,Z]=(0,a.useState)([]),[M,k]=(0,a.useState)(!0);(0,a.useEffect)(()=>{t&&((0,g.c7)({parentId:"0"}).then(e=>{Z(e),l?(j.setFieldsValue({...l,hide:!!l.hide}),w(null==l?void 0:l.menuType)):(j.resetFields(),j.setFieldsValue({parentId:e[0].menuId}))}),k(!1))},[l,t]);let C=e=>{e&&j.setFieldsValue({icon:e})};return(0,n.jsx)(h.Z,{width:800,styles:{body:{padding:"20px 40px",height:"500px",overflowY:"auto"}},title:l?"编辑菜单数据":"新增菜单数据",open:t,onOk:()=>{j.validateFields().then(()=>{f({...j.getFieldsValue(),parentId:0===I?"0":j.getFieldValue("parentId"),hide:Number(j.getFieldValue("hide"))})}).catch(e=>{j.scrollToField(e.errorFields[0].name),j.focusField(e.errorFields[0].name)})},loading:M,onCancel:y,afterOpenChange:e=>{if(e){var t;null==(t=v.current)||t.focus()}},children:(0,n.jsxs)(s.Z,{form:j,initialValues:{menuType:1,isRoute:!0,hidden:!1,internalOrExternal:!1,status:!0,parentId:"0"},labelCol:{span:4},children:[(0,n.jsx)(s.Z.Item,{name:"menuId",hidden:!0,children:(0,n.jsx)(o.Z,{})}),(0,n.jsx)(s.Z.Item,{name:"menuType",label:"菜单类型",children:(0,n.jsxs)(d.ZP.Group,{buttonStyle:"solid",onChange:e=>w(e.target.value),children:[(0,n.jsx)(d.ZP.Button,{value:0,children:"一级菜单"}),(0,n.jsx)(d.ZP.Button,{value:1,children:"子菜单"}),(0,n.jsx)(d.ZP.Button,{value:2,children:"权限按钮"})]})}),(0,n.jsx)(s.Z.Item,{name:"title",label:"菜单名称",rules:[{required:!0,message:"菜单名称不能为空!"}],children:(0,n.jsx)(o.Z,{autoFocus:!0,ref:v})}),1===I&&(0,n.jsx)(s.Z.Item,{name:"parentId",label:"上级菜单",children:(0,n.jsx)(c.Z,{showSearch:!0,style:{width:"100%"},placeholder:"请选择上级目录",treeData:N,fieldNames:{label:"title",value:"menuId"}})}),(0,n.jsx)(s.Z.Item,{name:"path",label:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{title:"访问的路由地址，如为外链，则路由地址需要以`http(s)://开头`",children:(0,n.jsx)(i.Z,{})}),"路由地址"]}),rules:[{required:!0,message:"路径不能为空!"}],children:(0,n.jsx)(o.Z,{allowClear:!0,autoComplete:"off"})}),(0,n.jsx)(s.Z.Item,{name:"component",label:"前端组件",rules:[{required:1===I,message:"前端组件配置不能为空!"}],children:(0,n.jsx)(o.Z,{allowClear:!0,autoComplete:"off"})}),2===I&&(0,n.jsx)(s.Z.Item,{name:"authority",label:"权限标识",children:(0,n.jsx)(o.Z,{allowClear:!0,autoComplete:"off"})}),(0,n.jsx)(s.Z.Item,{name:"icon",label:"菜单图标",children:(0,n.jsx)(o.Z,{allowClear:!0,autoComplete:"off",addonAfter:(0,n.jsx)(m.Z,{trigger:["hover"],placement:"bottom",popupRender:()=>(0,n.jsx)(b,{onSelect:C}),overlayClassName:"w-[360] h-[300] bg-white overflow-y-auto p-2 shadow-xl",children:(0,n.jsx)(r.Z,{className:"cursor-pointer"})})})}),(0,n.jsx)(s.Z.Item,{name:"sortNumber",label:"排序",children:(0,n.jsx)(p.Z,{min:0,autoComplete:"off",style:{width:"200px"}})}),(0,n.jsx)(s.Z.Item,{name:"hide",label:"隐藏路由",children:(0,n.jsx)(x.Z,{})})]})})}},87003:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>k});var n=l(52676),a=l(50372),i=l(58594),r=l(22151),s=l(26114),o=l(35962),d=l(74369),c=l(85108),u=l(86291),m=l(64346),p=l(91849),x=l(82398),h=l(59285),g=l(56093),f=l(49027),y=l(44995),j=l(39257),b=l(61496),v=l(84208),I=l(25400),w=l(75271),N=l(44198),Z=l(461),M=l(83150);let k=()=>{let{modal:e}=c.Z.useApp(),[t]=u.Z.useForm(),[l,k]=(0,w.useState)(!1),[C,T]=(0,w.useState)([]),[S,D]=(0,w.useState)(null),[F,O]=(0,w.useState)(!1),[E,A]=(0,w.useState)([]),{parentRef:z,height:P}=(0,Z.Z)();(0,w.useEffect)(()=>{L()},[]);let R=[{title:"名称",width:160,dataIndex:"title",key:"title"},{title:"组件",width:140,dataIndex:"component",key:"component"},{title:"路径",width:140,dataIndex:"path",key:"path"},{title:"类型",width:80,dataIndex:"menuType",key:"menuType",align:"center",render(e){switch(e){case 0:return"目录";case 1:return"子菜单";default:return""}}},{title:"图标",width:80,dataIndex:"icon",key:"icon",align:"center",render:e=>(0,M.Ug)(e)},{title:"序号",width:80,dataIndex:"sortNumber",key:"sortNumber",align:"center"},{title:"隐藏菜单",width:80,dataIndex:"hide",key:"hide",align:"center",render:e=>1===e?(0,n.jsx)(m.Z,{color:"green",children:"是"}):(0,n.jsx)(m.Z,{color:"gray",children:"否"})},{title:"操作",width:"10%",dataIndex:"operation",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(p.Z,{size:0,children:[(0,n.jsx)(x.ZP,{size:"small",type:"link",style:{color:"#fa8c16"},onClick:()=>{D(t),k(!0)},children:"修改"}),(0,n.jsx)(x.ZP,{size:"small",variant:"link",color:"danger",onClick:()=>B(t.menuId),children:"删除"})]})}],L=async e=>{O(!0);let l=e||t.getFieldsValue(),n={};for(let e of Object.keys(l))(l[e]||0===l[e])&&(n[e]=l[e]);(0,d.c7)(n).then(e=>{T(U(e))}).finally(()=>{O(!1)})},U=e=>e.map(e=>(e.children&&0!==e.children.length?e.children=U(e.children):e.children=null,e)),B=(t,l)=>{e.confirm({title:`${l?"批量":""}\u{5220}\u{9664}\u{83DC}\u{5355}`,icon:(0,n.jsx)(a.Z,{}),content:`\u{786E}\u{5B9A}${l?"批量":""}\u{5220}\u{9664}\u{83DC}\u{5355}\u{5417}\u{FF1F}\u{6570}\u{636E}\u{5220}\u{9664}\u{540E}\u{5C06}\u{65E0}\u{6CD5}\u{6062}\u{590D}\u{FF01}`,onOk(){(l?(0,d.iK)(t):(0,d.RD)(t)).then(()=>{L()})}})},Y=()=>{k(!1)},Q=async e=>{try{null==S?await (0,d.bL)(e):await (0,d._8)(e),Y(),L()}catch(e){}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(g.Z,{children:(0,n.jsx)(u.Z,{form:t,initialValues:{menuType:"",status:""},onFinish:e=>{L(e)},children:(0,n.jsxs)(f.Z,{gutter:24,children:[(0,n.jsx)(y.Z,{span:6,children:(0,n.jsx)(u.Z.Item,{name:"title",label:"菜单名称",colon:!1,children:(0,n.jsx)(j.Z,{autoFocus:!0,allowClear:!0,autoComplete:"off",placeholder:"请输入菜单名称"})})}),(0,n.jsx)(y.Z,{span:6,children:(0,n.jsx)(u.Z.Item,{name:"menuType",label:"菜单类型",colon:!1,children:(0,n.jsx)(b.Z,{allowClear:!0,options:[{value:"",label:"请选择",disabled:!0},{value:0,label:"一级菜单"},{value:1,label:"子菜单"},{value:2,label:"按钮权限"}]})})}),(0,n.jsx)(y.Z,{span:6,style:{textAlign:"right"},children:(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(x.ZP,{type:"primary",htmlType:"submit",icon:(0,n.jsx)(i.Z,{}),children:"检索"}),(0,n.jsx)(x.ZP,{type:"default",icon:(0,n.jsx)(r.Z,{}),onClick:()=>{t.resetFields()},children:"重置"})]})})]})})})}),(0,n.jsxs)(g.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:z,children:[(0,n.jsxs)(p.Z,{className:"mb-[8px]",children:[(0,n.jsx)(x.ZP,{type:"primary",icon:(0,n.jsx)(s.Z,{}),onClick:()=>{D(null),k(!0)},children:"新增"}),(0,n.jsx)(v.Z,{accept:".xlsx",children:(0,n.jsx)(x.ZP,{type:"default",icon:(0,n.jsx)(s.Z,{}),children:"批量导入"})}),(0,n.jsx)(x.ZP,{type:"default",danger:!0,icon:(0,n.jsx)(o.Z,{}),disabled:0===E.length,onClick:()=>B(E,"batch"),children:"批量删除"})]}),(0,n.jsx)(I.Z,{size:"middle",style:{marginTop:"8px"},bordered:!0,pagination:!1,dataSource:C,columns:R,loading:F,rowKey:"menuId",scroll:{y:P-128},rowSelection:{onChange(e,t){A(t.map(e=>e.menuId))},columnWidth:32,fixed:!0}})]}),(0,n.jsx)(N.default,{visible:l,currentRow:S,onCancel:Y,onOk:Q})]})}},28879:function(e,t,l){"use strict";l.d(t,{Jb:()=>i,_z:()=>c,fq:()=>r,kl:()=>o,l0:()=>d,rH:()=>s});var n=l(15869),a=l(98442);let i=[{label:"订单号",name:"orderNo",formType:"input",span:6},{label:"公司名称",name:"affiliateId",api:n.q7,options:[],formType:"select",span:6},{label:"用户名",name:"customerId",api:n.gt,options:[],formType:"input",span:6},{label:"订单创建时间",name:"date-picker",formType:"date-picker",span:6},{label:"起运港名称",name:"porCode",api:n.zj,options:[],formType:"select",span:6,tag:"POR"},{label:"目的港名称",name:"fndCode",api:n.zj,options:[],formType:"select",span:6,tag:"FND"},{label:"订单状态",name:"status",formType:"select",span:6,publicSettingKey:"frtOrderStatus"},{label:"订单分类",name:"type",formType:"select",span:6,publicSettingKey:"serviceType"},{label:"舱位分类",name:"productChannel",formType:"select",span:6,publicSettingKey:"productChannel"},{label:"取消状态",name:"cancelStatus",formType:"select",span:6,publicSettingKey:"frtOrderCancel"}],r=[{label:"订单编号",key:"orderNo",type:"ALL"},{label:"船公司",key:"carrier",type:"ALL"},{label:"订单创建时间",key:"createTime",type:"ALL",getValue:e=>(0,a.m)(e,"Y/M/D h:m:s")},{label:"起运港",key:"por",type:"ALL",getValue:e=>(null==e?void 0:e.name)+"--"+(null==e?void 0:e.localName)+"--"+(null==e?void 0:e.countryLocalName)},{label:"ETD",key:"bookingInfo",type:"BOOKING",getValue:e=>(0,a.m)(null==e?void 0:e.etd,"Y/M/D h:m")},{label:"开航起始时间",key:"bookingInfo",type:"PREBOOKING",getValue:e=>(0,a.m)(null==e?void 0:e.etdStart,"Y-M-D h:m")},{label:"订单分类",key:"type",type:"ALL",bySetting:"serviceType"},{label:"目的港",key:"fnd",type:"ALL",getValue:e=>(null==e?void 0:e.name)+"--"+(null==e?void 0:e.localName)+"--"+(null==e?void 0:e.countryLocalName)},{label:"ETA",key:"bookingInfo",type:"BOOKING",getValue:e=>(0,a.m)(null==e?void 0:e.eta,"Y/M/D h:m")},{label:"开航截止时间",key:"bookingInfo",type:"PREBOOKING",getValue:e=>(0,a.m)(null==e?void 0:e.etdStart,"Y-M-D h:m")},{label:"舱位分类",key:"productChannel",type:"ALL",bySetting:"productChannel"},{label:"船名航次",key:"bookingInfo",type:"ALL",getValue:e=>(null==e?void 0:e.vesselName)?(null==e?void 0:e.vesselName)+" / "+(null==e?void 0:e.voyNo):"/"},{label:"预定截止时间",key:"deadline",type:"PREBOOKING",getValue:e=>(0,a.m)(e,"Y-M-D h:m")},{label:"条款",key:"bookingInfo",type:"ALL",getValue:e=>(null==e?void 0:e.transClause)??""},{label:"预定交货时间",key:"bookingInfo",type:"BOOKING",getValue:e=>(0,a.m)(null==e?void 0:e.validTo,"Y-M-D h:m")},{label:"直航/中转",key:"bookingInfo",type:"BOOKING",getValue:e=>(null==e?void 0:e.transitNum)=="0"?"直航":"中转"},{label:"是否中转",key:"bookingInfo",type:"PREBOOKING",getValue:e=>e?"是":"否"},{label:"预定交货期",key:"bookingInfo",type:"BOOKING",getValue:e=>(null==e?void 0:e.voyDays)?(null==e?void 0:e.voyDays)+"天":""},{label:"所属公司",key:"affiliateName",type:"ALL"},{label:"订舱账号",key:"orderCarrierAccounts",type:"ALL",getValue:e=>e?"使用自有船司账号":"使用第三方账号"},{label:"货物要求",key:"cargo",type:"ALL",getValue:()=>"查看"},{label:"操作人",key:"customerName",type:"ALL"}],s=[{label:"船公司",key:"carrier"},{label:"创建时间",key:"createTime",getValue:e=>(0,a.m)(e,"Y/M/D h:m:s")},{label:"起运港",key:"por",getValue:e=>(null==e?void 0:e.name)+"-"+(null==e?void 0:e.localName)},{label:"最近更新时间",key:"modifyTime",getValue:e=>(0,a.m)(e,"Y/M/D h:m:s")},{label:"目的港",key:"fnd",getValue:e=>(null==e?void 0:e.name)+"-"+(null==e?void 0:e.localName)},{label:"库存",key:"inventory",getValue:()=>"--"},{label:"是否中转",key:"bookingInfo",getValue:e=>e?"是":"否"},{label:"条款",key:"bookingInfo",getValue:e=>(null==e?void 0:e.transClause)??""},{label:"起运日期",key:"bookingInfo",getValue:e=>(0,a.m)(null==e?void 0:e.etd,"Y/M/D")},{label:"船名航次",key:"bookingInfo",getValue:e=>(null==e?void 0:e.vesselName)?(null==e?void 0:e.vesselName)+"/"+(null==e?void 0:e.voyNo):"/"},{label:"卸港日期",key:"bookingInfo",getValue:e=>(0,a.m)(null==e?void 0:e.eta,"Y/M/D h:m")},{label:"运价有效期",key:"bookingInfo",getValue:e=>(0,a.m)(null==e?void 0:e.validFrom,"Y/M/D")+"至"+(0,a.m)(null==e?void 0:e.validTo,"Y/M/D")},{label:"预定交货期",key:"bookingInfo",getValue:e=>(null==e?void 0:e.voyDays)??""},{label:"费用范围",key:"range",getValue:()=>"--"},{label:"航程",key:"bookingInfo",getValue:e=>(null==e?void 0:e.voyDays)??""},{label:"",key:"down"}],o=["20GP","40GP","40HQ","45HQ","20RF","40RF","40RQ","20NOR","40NOR"],d={payStatus:{UNPAID:"待支付"},cancelStatus:{INITIATE:"提交申请",PASS:"通过申请",FORBID:"拒绝申请"},refundStatus:{SUCCESS:"退款成功"},baseStatus:{SUBMIT:"待支付",REVIEW:"待审核",PREPARE:"预备订舱",RUNNING:"订舱中",SUCCESS:"订舱成功",FINISH:"已完成",CLOSURE:"订单关闭",VIOLATED:"执行违约",FAIL:"订舱失败"}},c=[{valueText:"待支付",titleIcon:"unpaid",conditionFun:e=>"CLOSURE"!==e.status&&"UNPAID"===e.payStatus,showBtn:!1},{valueText:"待审核",titleIcon:"checkPending",conditionFun:e=>"REVIEW"===e.status,showBtn:!0,cancelBtnText:"取消订舱",confirmBtnText:"订舱中",confirmHint:"确认更改状态为订舱中",confirmApi:n.qw},{valueText:"已取消，支付超时",titleIcon:"checkPending",conditionFun:e=>"CLOSURE"===e.status&&"UNPAID"===e.payStatus,showBtn:!1},{valueText:"预备订舱",titleIcon:"prepareBooking",conditionFun:e=>"PREPARE"===e.status,showBtn:!0,cancelBtnText:"取消订舱",confirmBtnText:"启动订舱",confirmHint:"确认更改为自动订舱、自动预定",confirmApi:n.qw},{valueText:"订舱中",titleIcon:"prepareBooking",conditionFun:e=>"RUNNING"===e.status&&("FORBID"===e.cancelStatus||!e.cancelStatus),showBtn:!0,cancelBtnText:"取消订舱",confirmBtnText:"订舱成功",confirmHint:"此操作将扣除用户服务费，并微信推送用户上传托书，是否确认已订到舱位",confirmApi:n.RP},{valueText:"订舱中，申请取消",titleIcon:"applyCancel",conditionFun:e=>"RUNNING"===e.status&&"INITIATE"===e.cancelStatus,showBtn:!1},{valueText:"订舱成功",titleIcon:"success",conditionFun:e=>"SUCCESS"===e.status&&("FORBID"===e.cancelStatus||!e.cancelStatus),showBtn:!0,cancelBtnText:"订单执行违约",confirmBtnText:"订单执行结束",confirmHint:"此操作将释放用户全部服务费，是否确认",confirmApi:n.h7},{valueText:"订舱成功，申请取消",titleIcon:"applyCancel",conditionFun:e=>"SUCCESS"===e.status&&"INITIATE"===e.cancelStatus,showBtn:!1,cancelBtnText:"同意取消",confirmBtnText:"拒绝取消",confirmApi:n.ym},{valueText:"已完成",titleIcon:"finish",conditionFun:e=>"FINISH"===e.status&&("FORBID"===e.cancelStatus||"PASS"===e.cancelStatus||!e.cancelStatus),showBtn:!1},{valueText:"已取消，未退款",titleIcon:"cancel",conditionFun:e=>"CLOSURE"===e.status&&"ABNORMAL"===e.refundStatus,showBtn:!1},{valueText:"已取消，退款成功",titleIcon:"cancel",conditionFun:e=>"CLOSURE"===e.status&&"SUCCESS"===e.refundStatus,showBtn:!1},{valueText:"订舱失败，退款成功",titleIcon:"cancel",conditionFun:e=>"FAIL"===e.status&&"SUCCESS"===e.refundStatus,showBtn:!1},{valueText:"订单执行违约",titleIcon:"execute",conditionFun:e=>"VIOLATED"===e.status&&"FORBID"===e.cancelStatus||"VIOLATED"===e.status&&"PASS"===e.cancelStatus,showBtn:!1},{valueText:"退单中",titleIcon:"applyCancel",conditionFun:e=>"REFUND"===e.status&&"PASS"===e.cancelStatus,showBtn:!0,cancelBtnText:"订单执行违约",confirmBtnText:"订单执行退款",confirmHint:"此操作将退还用户服务费，并释放全部保证金",confirmApi:n.a8},{valueText:"订舱失败",titleIcon:"cancel",conditionFun:e=>"FAIL"===e.status,showBtn:!1}]},86266:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>x});var n=l(52676),a=l(75271),i=l(85108),r=l(82398),s=l(90737),o=l(19671),d=l(39257),c=l(15869),u=l(26930);let m=["08","09","10","11","12","13","14","15","16","17","18","19"],p=[{label:"每30秒执行一次",value:"EVERY_30_SECONDS"},{label:"每40秒执行一次",value:"EVERY_40_SECONDS"},{label:"每50秒执行一次",value:"EVERY_50_SECONDS"},{label:"每1分钟执行一次",value:"EVERY_MINUTE"},{label:"每2分钟执行一次",value:"EVERY_2_MINUTES"},{label:"每3分钟执行一次",value:"EVERY_3_MINUTES"}],x=(0,a.memo)(e=>{let{id:t}=e,{message:l}=i.Z.useApp(),[x,h]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[y,j]=(0,a.useState)({}),[b,v]=(0,a.useState)([{label:"表达式字段",options:["秒","分钟","小时","日","月","星期"],value:["","","","","",""]},{label:"Cron表达式",options:[]}]),I=async()=>{await (0,c.QN)(t)},w=e=>{j({...y,frequencyType:e.target.value})},N=e=>{j({...y,hourRange:e.join(",")??""})},Z=(e,t)=>{let l="";b.map(n=>{n.value&&(n.value[t]=e.target.value,l=n.value.join(" "))}),v(b),j({...y,cronPattern:l})},M=e=>{"params"===e?h(!0):f(!0);let n=(0,u.Yp)(y,["cronPattern"],"params"!==e);(0,c.KX)(t,n).then(()=>{l.success("修改成功"),setTimeout(()=>{"params"===e?h(!1):f(!1),j({})},300)}).catch(()=>{"params"===e?h(!1):f(!1)})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center w-[430px] py-[16px] rounded-md",style:{background:"#fffbe6",border:"1px solid #fff1b8"},children:[(0,n.jsx)("img",{src:"https://wx.zaicang.net/static/website/icon/warning.png",className:"w-[16px] h-[16px] ml-[20px]",alt:""}),(0,n.jsx)("p",{className:"ml-[4px]",children:"修改订舱频率，建议先完成船司账号预登录"}),(0,n.jsx)("div",{className:"cursor-pointer bg-amber-500 text-white text-center w-[80px] h-[28px] leading-[28px] rounded-sm font-medium ml-[35px]",onClick:I,children:"登录账号"})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between my-[25px]",children:[(0,n.jsx)("p",{children:"按参数修改"}),(0,n.jsx)(r.ZP,{type:"primary",loading:x,onClick:()=>M("params"),children:"提交修改"})]}),[{label:"设置时间段",type:"checkbox",options:m,defaultValue:["08"]},{label:"设置频率",type:"radio",options:p,defaultValue:"EVERY_30_SECONDS"}].map(e=>(0,n.jsxs)("div",{className:"flex border-collapse border border-slate-200",children:[(0,n.jsx)("div",{className:"w-[116px] p-[15px] bg-slate-100 text-center",children:e.label}),(0,n.jsxs)("div",{className:"p-[15px] flex-1",children:["checkbox"===e.type&&(0,n.jsx)(s.Z.Group,{options:e.options,defaultValue:e.defaultValue,onChange:N}),"radio"===e.type&&(0,n.jsx)(o.ZP.Group,{options:e.options,defaultValue:e.defaultValue,onChange:w})]})]},e.label)),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-[25px]",children:[(0,n.jsx)("p",{children:"按表达式修改"}),(0,n.jsx)(r.ZP,{type:"primary",loading:g,onClick:()=>M("cron"),children:"提交修改"})]}),(0,n.jsx)("div",{className:"px-[16px] mt-[20px] border border-slate-200",children:b.map(e=>{var t;return(0,n.jsxs)("div",{className:"flex items-center mb-[20px]",children:[(0,n.jsxs)("p",{className:"whitespace-nowrap mr-[5px]",children:[e.label,"："]}),(null==(t=e.options)?void 0:t.length)?e.options.map((e,t)=>(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{className:"text-center",children:e.toString()}),(0,n.jsx)(d.Z,{onChange:e=>Z(e,t)})]},t)):(0,n.jsx)(d.Z.TextArea,{disabled:!0,value:y.cronPattern})]},e.label)})})]})]})})},50891:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>c});var n=l(52676),a=l(75271),i=l(67857),r=l(86291),s=l(39257),o=l(61496),d=l(36766);let c=(0,a.memo)(e=>{let{visible:t,onCancel:l,onOk:c}=e,[u]=r.Z.useForm(),{TextArea:m}=s.Z;(0,a.useEffect)(()=>{if(!t)return},[t]);let[p,x]=(0,a.useState)(""),h=e=>{let t=u.getFieldValue("cancelReason");t||(t=e),-1===t.indexOf(e)&&(t+=","+e),u.setFieldsValue({cancelReason:t}),x(t)};return(0,n.jsx)(i.Z,{title:"补充资料",width:"580px",open:t,onOk:()=>{c(p||u.getFieldValue("cancelType"))},onCancel:()=>{u.resetFields(),x(""),l()},children:(0,n.jsxs)(r.Z,{form:u,initialValues:{cancelType:"已取消"},children:[(0,n.jsx)(r.Z.Item,{label:"取消订舱类型",name:"cancelType",children:(0,n.jsx)(o.Z,{allowClear:!0,placeholder:"请选择取消订舱类型",showSearch:!0,defaultActiveFirstOption:!1,filterOption:!1,options:["已取消","订舱失败"].map(e=>({label:e,value:e}))})}),(0,n.jsx)(r.Z.Item,{label:"订舱失败原因",name:"cancelReason",children:(0,n.jsxs)("div",{className:"text-xs",children:[(0,n.jsx)(m,{value:p,placeholder:"点击选择订舱失败原因"}),d.r.map(e=>(0,n.jsxs)("div",{className:"my-[5px]",children:[e.label,"：",e.reason.map(e=>(0,n.jsx)("span",{className:"mr-[5px] text-dull-blue underline cursor-pointer",onClick:()=>h(e),children:e},e))]},e.label))]})})]})})})},58122:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>s});var n=l(52676),a=l(75271),i=l(67857),r=l(36766);let s=(0,a.memo)(e=>{let{params:t,onCancel:l}=e,[s,o]=(0,a.useState)(!0),[d,c]=(0,a.useState)(r.k);(0,a.useEffect)(()=>{var e,l;t.visible&&u(null==(e=t.editRow)?void 0:e.bookingInfo,null==(l=t.editRow)?void 0:l.carrier)},[t.visible]);let u=(e,t)=>{let l=r.k.filter(e=>e.includeCarrier.includes(t));l.map(t=>{t.value=t.replaceFn?t.replaceFn(e[t.key]):e[t.key]}),c(l),o(!1)};return(0,n.jsx)(i.Z,{title:"补充资料",width:"480px",open:t.visible,loading:s,onCancel:l,footer:null,children:d.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between my-[10px]",children:[(0,n.jsx)("p",{className:"text-light-grey",children:e.label}),(0,n.jsx)("p",{className:"text-dull-grey",children:e.value})]},t))})})},25469:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>s});var n=l(52676),a=l(75271),i=l(67857),r=l(25400);let s=(0,a.memo)(e=>{let{params:t,onCancel:l}=e;return(0,n.jsx)(i.Z,{title:"订舱账号",width:"800px",open:t.visible,onCancel:l,footer:null,children:(0,n.jsx)(r.Z,{columns:[{dataIndex:"name",title:"船司",key:"name",align:"center"},{dataIndex:"username",title:"登录名",key:"username",align:"center"},{dataIndex:"affiliate",title:"公司名称",key:"affiliate",align:"center"},{dataIndex:"password",title:"登陆密码",key:"password",align:"center"},{dataIndex:"payPassword",title:"支付密码",key:"payPassword",align:"center"}],dataSource:t.editRow,pagination:!1,rowKey:"username"})})})},36766:function(e,t,l){"use strict";l.d(t,{k:()=>n,r:()=>a});let n=[{label:"货物品名",includeCarrier:"HPL,ONE,CMA,MSK,EMC,HPLQQ",key:"commodityName"},{label:"货物毛重",includeCarrier:"HPL,ONE,CMA,MSK,EMC,HPLQQ",key:"cargoWeights",replaceFn:e=>{let t="";for(let l in e)t+=`${l}/${e[l]}`;return e?t:""}},{label:"提箱时间",includeCarrier:"HPL,MSK",key:"pickupDay",replaceFn:e=>`\u{622A}\u{5173}\u{524D}${e}\u{5929}`},{label:"是否接受Rollable",includeCarrier:"MSK",key:"withRollable",replaceFn:e=>e?"是":"否"},{label:"合约方",includeCarrier:"MSK",key:"customerCode",replaceFn:e=>e||"我是合约方"},{label:"到付预付",includeCarrier:"OOCL,CMA",key:"paymentTerms",replaceFn:e=>"P"===e?"预付":"到付"},{label:"是否含拖",includeCarrier:"COSCO",key:"boundType",replaceFn:e=>e?"含拖":"不含拖"},{label:"起运地关税",includeCarrier:"COSCO",key:"requireObCd",replaceFn:e=>e?"需要":"不需要"},{label:"是否购买保值服务",includeCarrier:"COSCO",key:"insured",replaceFn:e=>e?"是":"否"},{label:"客户参考号",includeCarrier:"HPL",key:"bookingReference"},{label:"支付方式",includeCarrier:"EMC",key:"paymentType",replaceFn:e=>"DAY"===e?"24小时内付款":"传统支付"},{label:"商品编码",includeCarrier:"HPLQQ",key:"goodsNo"},{label:"通知邮箱",includeCarrier:"HPLQQ",key:"notifyEmail"},{label:"额外目的港免箱天数",includeCarrier:"MSK,CMA,ONE",key:"extentDndFreeDays"}],a=[{label:"个人原因",reason:["品名有误","不允许多柜型","限价过低","数量上限","免箱天设置错误"]},{label:"账号原因",reason:["账密有误","资金不足"]},{label:"船司原因",reason:["暂无对应船期","舱位不可订购","官网价格变动"]}]},19813:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>x});var n=l(52676),a=l(75271),i=l(39257),r=l(25400),s=l(28879);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={oceanFreight:[],porPriceList:[],fndPriceList:[],otherPriceList:[]};if(e&&e.length){let l="",n=[],a=[],i=[],r=[];return e.map(e=>{e.costDetailList.map(s=>{l="BL"===s.chargeType?"blPrice":e.ctnType,"POR"===s.costCategory?d(s,l,n,t.porPriceList):"FND"===s.costCategory||"LAND"===s.costCategory?d(s,l,a,t.fndPriceList):"OCEAN_EXTRA"===s.costCategory?d(s,l,i,t.oceanFreight):"OTHER"===s.costCategory&&d(s,l,r,t.otherPriceList)})}),t}},d=(e,t,l,n)=>{let a=l.indexOf(e.chargeName);return -1===a?(n.push({[t]:e.price,chargeType:e.chargeType,chargeName:e.chargeName,currency:e.currency,isIncludeTotal:null!=e.showOnly&&e.showOnly?"否":"是"}),l.push(e.chargeName)):n[a][t]=e.price,n},c=[{label:"附加费备注",key:"surchargeRemark"},{label:"亏舱费备注",key:"penaltyRemark"},{label:"备注",key:"remark"}],u=[{dataIndex:"code",title:"船公司编号",key:"code",align:"center"},{dataIndex:"shortName",title:"船公司名字",key:"shortName",align:"center"}],m=[{dataIndex:"name",title:"船公司编号",key:"name",align:"center"},{dataIndex:"username",title:"登录名",key:"username",align:"center"},{dataIndex:"password",title:"登陆密码",key:"password",align:"center"},{dataIndex:"payPassword",title:"支付密码",key:"payPassword",align:"center"}],p=[{dataIndex:"id",title:"港口ID",key:"id",align:"center"},{title:"港口名称",key:"name",align:"center",render:e=>(null==e?void 0:e.name)+"-"+(null==e?void 0:e.localName)},{title:"港口标记",key:"index",align:"center",render:(e,t,l)=>0===l?"podPort":"fndPort"}],x=(0,a.memo)(e=>{let t,{type:l,orderInfo:d}=e,{TextArea:x}=i.Z,[h,g]=(0,a.useState)([]),[f,y]=(0,a.useState)([{dataIndex:"name",title:"订舱信息",key:"name",align:"center"}]),[j,b]=(0,a.useState)([]),v=(0,a.useMemo)(()=>(null==d?void 0:d.por)?[null==d?void 0:d.por].concat([null==d?void 0:d.fnd]):[],[d]);(0,a.useEffect)(()=>{g(s.kl.slice(0,4).concat([s.kl["6"]])),e.orderInfo&&I()},[l]);let I=()=>{let e=h.map(e=>({dataIndex:e,title:e,key:e,align:"center"}));y(null==f?void 0:f.concat(e)),w()},w=()=>{let e=["价格上限(USD)","数量"],t=[];for(let n in e)null==d||d.items.map(a=>{t.push({name:e[n],[a.ctnType]:"0"===n?"BOOKING"===l?a.totalPriceUsd:a.limitedPrice:"BOOKING"===l?a.ctnNum:a.vote+"票 "+(a.ctnNum?" 每票"+a.ctnNum+"箱":"")})});b(t)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{columns:f,dataSource:j,rowKey:"name",pagination:!1}),(0,n.jsx)("div",{className:"grid grid-cols-3 gap-[10px] mt-[40px]",children:"BOOKING"===l&&c.map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-bold text-dull-grey mb-[8px]",children:e.label}),(0,n.jsx)(x,{value:null==d?void 0:d.bookingInfo[e.key],disabled:!0})]},e.key))}),(0,n.jsx)("p",{className:"mt-[40px] font-bold text-dull-grey",children:"涉及船公司"}),(0,n.jsx)(r.Z,{columns:u,dataSource:[null==d?void 0:d.carrierInfo],rowKey:e=>(null==e?void 0:e.code)||"code",pagination:!1}),(0,n.jsx)("p",{className:"mt-[40px] font-bold text-dull-grey",children:"涉及账号"}),(0,n.jsx)(r.Z,{columns:m,dataSource:null==d?void 0:d.orderCarrierAccounts,rowKey:"username",pagination:!1}),"BOOKING"===l&&(t=s.rH.map(e=>(e.key&&!e.bySetting&&(e.value=e.getValue?e.getValue(d[e.key]):d[e.key]),{...e})),(0,n.jsxs)("div",{className:"mt-[40px]",children:[(0,n.jsx)("p",{className:"font-bold text-dull-grey",children:"航线信息"}),(0,n.jsx)("div",{className:"grid grid-cols-2 mt-[10px] border-collapse border border-slate-200",children:t.map((e,t)=>(0,n.jsxs)("div",{className:"w-full flex items-center border-b border-slate-200",children:[(0,n.jsx)("div",{className:"w-[116px] p-[15px] bg-slate-100 h-full",children:e.label}),(0,n.jsx)("div",{className:"p-[15px] flex-1",children:e.value})]},t))})]})),(0,n.jsx)("p",{className:"mt-[40px] mb-[10px] font-bold text-dull-grey",children:"港口航线信息"}),(0,n.jsx)(r.Z,{columns:p,dataSource:v,pagination:!1,rowKey:e=>(null==e?void 0:e.id)||"id"}),d&&(null==d?void 0:d.productChannel)!=="CUSTOMER"&&(()=>{var e;let t=o(null==d||null==(e=d.bookingInfo)?void 0:e.priceList),l=[[{dataIndex:"chargeName",title:"海运附加费",key:"chargeName",align:"center"},...null==f?void 0:f.slice(1,f.length)],[{dataIndex:"chargeName",title:"起运港费用",key:"chargeName",align:"center"},...null==f?void 0:f.slice(1,f.length)]];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{className:"mt-[40px]",columns:l[0],dataSource:null==t?void 0:t.oceanFreight,pagination:!1,rowKey:e=>(null==e?void 0:e.chargeName)||"chargeName"}),(0,n.jsx)(r.Z,{className:"mt-[40px]",columns:l[1],dataSource:null==t?void 0:t.porPriceList,pagination:!1,rowKey:e=>(null==e?void 0:e.chargeName)||"chargeName"})]})})()]})})},55241:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>s});var n=l(52676),a=l(75271),i=l(25400),r=l(88621);let s=(0,a.memo)(e=>{let{orderInfo:t}=e,[l,s]=(0,a.useState)([]),{fundRechargeStatus:o}=(0,r.v9)(e=>e.publicSetting.publicData),d=[{dataIndex:"carrier",title:"船公司",key:"carrier",align:"center"},{dataIndex:"bookedBy",title:"登录名",key:"bookedBy",align:"center"},{dataIndex:"bookingNo",title:"订舱号",key:"bookingNo",align:"center"},{title:"支付状态",key:"payStatus",align:"center",render:e=>o[e.payStatus]},{dataIndex:"etd",title:"开航日期",key:"etd",align:"center"},{dataIndex:"vesselInfo",title:"船名航次航线",key:"vesselInfo",align:"center"},{dataIndex:"bookedTime",title:"订舱时间",key:"bookedTime",align:"center"},{dataIndex:"ctnNum",title:"柜型",key:"ctnNum",align:"center"},{dataIndex:"ctnNum",title:"数量",key:"ctnNum",align:"center"},{dataIndex:"price",title:"单价(USD)",key:"price",align:"center",fixed:"right"}];return(0,a.useEffect)(()=>{var e;let l=null==t||null==(e=t.items[0])?void 0:e.details,{productInfo:n}=null==t?void 0:t.bookingInfo;s(l.map(e=>{var l,a;return{...e,carrier:null==t?void 0:t.carrier,etd:null==n?void 0:n.etd,vesselInfo:(null==n?void 0:n.vesselName)+"/"+(null==n?void 0:n.voyNo)+"/"+(null==n?void 0:n.carrierRoute),payStatus:null==t?void 0:t.payStatus,price:(null==t||null==(l=t.items[0])?void 0:l.basPrice)??(null==t||null==(a=t.items[0])?void 0:a.limitedPrice)}}))},[]),(0,n.jsx)(i.Z,{columns:d,dataSource:l,rowKey:"id",pagination:!1,scroll:{x:"max-content"}})})},42540:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>d});var n=l(52676),a=l(75271),i=l(88621),r=l(25400),s=l(26930),o=l(28879);let d=(0,a.memo)(e=>{let{orderInfo:t}=e,[l,d]=(0,a.useState)([]),{paymentWay:c,fundRechargeStatus:u}=(0,i.v9)(e=>e.publicSetting.publicData),{refundStatus:m}=o.l0,p=["id","orderNo","totalAmount","couponAmount","payType","payTime","payStatus","refundTime","payAmount","refundStatus","refundNote"],x=[{title:"总服务费(元)",key:"totalAmount",align:"center",render:e=>h(e.totalAmount)},{title:"优惠金额(元)",key:"couponAmount",align:"center",render:e=>h(e.couponAmount)},{title:"支付金额(元)",key:"payAmount",align:"center",render:e=>h(e.payAmount)},{title:"支付状态",key:"payStatus",align:"center",render:e=>c[e.payStatus]},{title:"付款类型",key:"payType",align:"center",render:e=>u[e.payType]},{dataIndex:"payTime",title:"支付时间",key:"payTime",align:"center"},{title:"退款状态",key:"refundStatus",align:"center",render:e=>m[e.refundStatus]},{title:"退款时间",key:"refundTime",align:"center"},{dataIndex:"refundNote",title:"退款描述",key:"refundNote",align:"center"}];(0,a.useEffect)(()=>{d([(0,s.Yp)(t,p,!0)])},[]);let h=(0,a.useCallback)(e=>(Number(e)/100).toFixed(2),[]);return(0,n.jsx)(r.Z,{columns:x,dataSource:l,rowKey:"id",pagination:!1,scroll:{x:"max-content"}})})},9820:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>w});var n=l(52676),a=l(75271),i=l(56186),r=l(88621),s=l(85108),o=l(366),d=l(78083),c=l(80818),u=l(82398),m=l(15869),p=l(28879),x=l(19813),h=l(55241),g=l(42540),f=l(58122),y=l(25469),j=l(86266),b=l(50891),v=l(26930),I=l(99622);let w=(0,a.memo)(()=>{var e,t,l,w,N,Z,M;let k=(0,i.UO)(),C=(0,i.s0)(),{message:T,modal:S}=s.Z.useApp(),[D,F]=(0,a.useState)(),O=(0,r.v9)(e=>e.publicSetting.publicData),[E,A]=(0,a.useState)({visible:!1,editRow:null}),[z,P]=(0,a.useState)({visible:!1,editRow:null}),[R,L]=(0,a.useState)(!1),[U,B]=(0,a.useState)(p.fq),Y=[{key:"1",label:"航线基本信息",children:(0,n.jsx)(x.default,{type:null==D?void 0:D.type,orderInfo:D})},{key:"2",label:"订舱结果",children:(0,n.jsx)(h.default,{orderInfo:D})},{key:"3",label:"支付信息",children:(0,n.jsx)(g.default,{orderInfo:D})},{key:"4",label:"订舱频率",children:(0,n.jsx)(j.default,{id:null==D?void 0:D.id})}],Q=e=>p._z.find(t=>t.conditionFun(e)),V=(0,a.useCallback)(()=>D&&Q((0,v.Yp)(D,["status","cancelStatus","refundStatus","payStatus"],!0)),[D]);(0,a.useEffect)(()=>{q()},[]);let q=()=>{(0,m.dz)(String(k.id)).then(e=>{var t,l,n,a;let i={...e.data,bookingInfo:"BOOKING"===e.data.type?{...null==(t=e.data)?void 0:t.bookedInfo,...null==(n=e.data)||null==(l=n.bookedInfo)?void 0:l.productInfo}:{...null==(a=e.data)?void 0:a.bookedInfo}};F(i),p.fq.map(e=>{if(e.key&&!e.bySetting)e.value=e.getValue?e.getValue(i[e.key]):i[e.key];else if(e.bySetting){let t=i[e.key];e.value=O[e.bySetting][t]}}),B(p.fq)})},K=e=>{"affiliateName"===e.key||"customerName"===e.key?C("/"):"cargo"===e.key?A({visible:!0,editRow:D}):P({visible:!0,editRow:null==D?void 0:D.orderCarrierAccounts})},H=e=>{"取消订舱"===e.cancelBtnText?L(!0):"订舱执行违约"===e.cancelBtnText?(0,m.z_)(null==D?void 0:D.id,{remark:"执行违约"}).then(()=>{T.success("操作成功"),q()}):"同意取消"===e.cancelBtnText&&(0,m.iZ)(null==D?void 0:D.id).then(()=>{T.success("操作成功"),q()})},G=e=>{e.confirmHint||"拒绝取消"!==e.confirmBtnText?e.confirmHint&&S.confirm({title:"提示",icon:(0,n.jsx)(I.Z,{}),content:`${e.confirmHint}`,okText:"确认",onOk:()=>{e.confirmApi(null==D?void 0:D.id).then(()=>{T.success("修改成功"),q()})},cancelText:"取消"}):e.confirmApi(null==D?void 0:D.id,{remark:"拒绝取消"}).then(()=>{T.success("修改成功"),q()})};return(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,n.jsxs)("div",{className:"bg-white",children:[(0,n.jsxs)("div",{className:"h-[70px] leading-[70px] bg-dull-blue pl-[20px] rounded-t-[6px] flex items-center",children:[(0,n.jsx)("img",{src:"https://wx.zaicang.net/static/website/order-status/"+(null==(e=V())?void 0:e.titleIcon)+".png",className:"w-[38px] h-[38px]",alt:""}),(0,n.jsx)("div",{className:"font-bold text-[28px] text-white ml-[10px]",children:null==(t=V())?void 0:t.valueText})]}),(0,n.jsxs)("div",{className:"px-[24px] py-[20px]",children:[(0,n.jsx)("p",{className:"dull-grey text-sm font-bold",children:"订舱基本信息"}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid grid-cols-3 gap-[16px] mt-[16px]",children:U&&U.slice(0,U.length-4).map((e,t)=>(0,n.jsxs)("span",{className:`text-light-grey whitespace-nowrap ${(null==D?void 0:D.type)!==e.type&&"ALL"!==e.type?"hidden":""}`,children:[e.label,"：",(0,n.jsx)("span",{className:"text-dull-grey whitespace-pre-wrap",children:e.value})]},t))}),(0,n.jsx)(d.Z,{variant:"dashed",className:"py-[24px]",style:{borderColor:"#BFC2CC"},dashed:!0}),(0,n.jsx)("div",{className:"grid grid-cols-3 gap-[16px] mt-[16px]",children:U&&U.slice(U.length-4,U.length).map((e,t)=>(0,n.jsxs)("span",{className:"text-light-grey whitespace-nowrap font-bold",children:[e.label,"：",(0,n.jsx)("span",{className:`text-dull-blue ${"使用第三方账号"!==e.value&&"underline cursor-pointer"} font-normal`,onClick:()=>K(e),children:e.value})]},t))})]})]})]}),(0,n.jsx)("div",{className:"bg-white mt-[10px] px-[20px] py-[16px]",children:(0,n.jsx)(c.Z,{items:(null==D?void 0:D.type)==="BOOKING"?Y.slice(0,3):Y,defaultActiveKey:"1"})})]}),(0,n.jsxs)("div",{className:"overflow-hidden ml-[16px] flex-none w-100 h-full",children:[(0,n.jsxs)("div",{className:"p-[20px] bg-white rounded-[6px] h-[300px]",children:[(0,n.jsx)("h3",{className:"text-dull-grey text-base font-medium",children:"订单操作"}),(0,n.jsxs)("div",{className:"mt-[24px] text-center",children:[(0,n.jsx)("img",{src:"https://wx.zaicang.net/static/website/order-status/"+(null==(l=V())?void 0:l.titleIcon)+"-op.png",className:"w-[58px] h-[58px] m-auto",alt:""}),(0,n.jsx)("p",{className:"text-[28px] font-bold text-orange-400 mt-[16px]",children:null==(w=V())?void 0:w.valueText})]}),(null==(N=V())?void 0:N.showBtn)&&(0,n.jsxs)("div",{className:"mt-[33px] flex items-center justify-center",children:[(0,n.jsx)(u.ZP,{size:"large",className:"button cancel-type",onClick:()=>H(V()),children:null==(Z=V())?void 0:Z.cancelBtnText}),(0,n.jsx)(u.ZP,{size:"large",className:"button confirm-type ml-[8px]",onClick:()=>G(V()),children:null==(M=V())?void 0:M.confirmBtnText})]})]}),(null==D?void 0:D.events)&&(e=>{let t=e.map(e=>({children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"text-dull-grey",children:e.title}),(0,n.jsx)("p",{className:"text-light-grey",children:e.content}),(0,n.jsx)("p",{className:"text-light-grey",children:e.created+"  "+("SYSTEM"===e.operator?"系统":e.operator)})]})}));return(0,n.jsxs)("div",{className:"p-[20px] bg-white rounded-[6px] mt-[20px]",children:[(0,n.jsx)("h3",{className:"text-dull-grey text-base font-medium mb-[17px]",children:"订单动态"}),(0,n.jsx)(o.Z,{items:t})]})})(null==D?void 0:D.events)]}),(0,n.jsx)(f.default,{params:E,onCancel:()=>A({visible:!1,editRow:null})}),(0,n.jsx)(y.default,{params:z,onCancel:()=>P({visible:!1,editRow:null})}),(0,n.jsx)(b.default,{visible:R,onCancel:()=>L(!1),onOk:e=>{(0,m.Yy)(null==D?void 0:D.id,{remark:e}).then(()=>{T.success("修改成功"),L(!1),q()})}})]})})},14607:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>y});var n=l(52676),a=l(75271),i=l(88621),r=l(56186),s=l(91849),o=l(82398),d=l(59285),c=l(56093),u=l(59286),m=l(5246),p=l(28879),x=l(74429),h=l(15869),g=l(42374),f=l(98442);let y=()=>{let e=(0,i.I0)(),t=(0,r.s0)();(0,a.useEffect)(()=>{Promise.all([(0,g.l1)(),(0,g.ZK)()]).then(t=>{e((0,x.Sx)(t))})},[]);let l=(0,i.v9)(e=>e.publicSetting.publicData),[y,j]=(0,a.useState)({pageIndex:1,pageSize:10,filter:{genres:"PREBOOKING,BOOKING"}}),b=[{dataIndex:"orderNo",title:"订单号",key:"orderNo",align:"center"},{dataIndex:"affiliateName",title:"公司名称",key:"affiliateName",align:"center"},{dataIndex:"customerName",title:"用户名",key:"customerName",align:"center",width:80},{dataIndex:"phone",title:"手机号",key:"phone",align:"center"},{dataIndex:"type",title:"订单分类",key:"type",align:"center",width:100,render:e=>l.serviceType[e]},{dataIndex:"productChannel",title:"舱位分类",key:"productChannel",align:"center",width:100,render:e=>l.productChannel[e]},{dataIndex:"status",title:"订单状态",key:"status",align:"center",width:100,render:(e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:l.frtOrderStatus[e]}),(0,n.jsx)("p",{children:"CLOSURE"===e?(0,n.jsx)("span",{style:{color:t.refundStatus&&"SUCCESS"===t.refundStatus?"yellowgreen":"brown"},children:t.refundStatus?"SUCCESS"===t.refundStatus?"退款成功":"退款失败":""}):null})]})},{dataIndex:"cancelStatus",title:"取消状态",key:"cancelStatus",align:"center",width:100,render:e=>l.frtOrderCancel[e]},{dataIndex:"por",title:"起运港名称",key:"por",align:"center",width:200,render:e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:e.localName??"-"}),(0,n.jsx)("p",{children:e.name??"-"})]})},{dataIndex:"fnd",title:"目的港名称",key:"fnd",align:"center",width:200,render:e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:e.localName??"-"}),(0,n.jsx)("p",{children:e.name??"-"})]})},{title:"创建时间",key:"createTime",align:"center",render:e=>(0,n.jsx)("div",{children:(0,f.m)(e.createTime,"Y-M-D h:m")})},{dataIndex:"action",title:"操作",align:"center",fixed:"right",render:(e,l)=>(0,n.jsx)(s.Z,{size:0,children:(0,n.jsx)(o.ZP,{size:"middle",onClick:()=>t(`/system/order/${l.id}`),children:"查看"})})}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(u.Z,{columns:p.Jb,gutterWidth:24,labelPosition:"left",btnSeparate:!0,isShowReset:!0,isShowExpend:!1,onUpdateSearch:e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));j({...y,filter:{...t,genres:"PREBOOKING,BOOKING"}})}})})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(m.Z,{columns:b,rowKey:"id",fetchData:h.Pn,searchFilter:y,isSelection:!1,onUpdatePagination:e=>{j({...y,pageIndex:e.current,pageSize:e.pageSize})}})})]})}},21678:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>u});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(61496),o=l(97727),d=l(67857),c=l(64257);let u=e=>{let{params:t,onOk:l,onCancel:u}=e,{visible:m,currentRow:p,view:x}=t,[h]=i.Z.useForm(),g=(0,a.useRef)(null),[f,y]=(0,a.useState)([]);(0,a.useEffect)(()=>{m&&(j(),p?h.setFieldsValue({...p,parentId:"0"===p.parentId?null:p.parentId}):h.resetFields())},[p,m]);let j=()=>{(0,c.BT)().then(e=>{y(e)})};return(0,n.jsx)(d.Z,{width:"40%",open:m,title:p?"编辑组织机构":"新增组织机构",okButtonProps:{className:x?"hidden":""},onOk:()=>{h.validateFields().then(()=>{l(h.getFieldsValue())}).catch(e=>{h.scrollToField(e.errorFields[0].name),h.focusField(e.errorFields[0].name)})},onCancel:u,afterOpenChange:e=>{if(e){var t;null==(t=g.current)||t.focus()}},children:(0,n.jsxs)(i.Z,{form:h,labelCol:{span:5},children:[(0,n.jsx)(i.Z.Item,{name:"organizationId",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),(0,n.jsx)(i.Z.Item,{name:"parentId",label:"上级机构",children:(0,n.jsx)(s.Z,{options:f,fieldNames:{label:"organizationName",value:"organizationId"},showSearch:!0,allowClear:!0,placeholder:"选择上级机构"})}),(0,n.jsx)(i.Z.Item,{name:"organizationName",label:"机构名称",rules:[{required:!0,message:"请输入机构名称"}],children:(0,n.jsx)(r.Z,{ref:g,placeholder:"请输入机构名称",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"organizationCode",label:"机构代码",rules:[{required:!0,message:"请输入代码"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入机构代码",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"organizationFullName",label:"机构全称",children:(0,n.jsx)(r.Z,{placeholder:"请输入机构全称",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"organizationType",label:"机构类型",rules:[{required:!0,message:"请输入机构类型"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入机构类型",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"organizationTypeName",label:"机构类型名称",rules:[{required:!0,message:"请输入机构类型名称"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入机构类型名称",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"sortNumber",label:"排序号",rules:[{required:!0,message:"请选择排序号"}],children:(0,n.jsx)(o.Z,{style:{width:"100%"}})}),(0,n.jsx)(i.Z.Item,{name:"comments",label:"组织备注",children:(0,n.jsx)(r.Z.TextArea,{placeholder:"请输入组织机构备注"})})]})})}},38349:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>b});var n=l(52676),a=l(75271),i=l(461),r=l(85108),s=l(91849),o=l(82398),d=l(59285),c=l(56093),u=l(50372),m=l(26114),p=l(35962),x=l(64257),h=l(59286),g=l(5246),f=l(21678),y=l(26930);let j=[{label:"机构名称",name:"organizationName",formType:"input",span:6}],b=()=>{let{modal:e,message:t}=r.Z.useApp(),{parentRef:l,height:b}=(0,i.Z)(),[v,I]=(0,a.useState)([]),[w,N]=(0,a.useState)({visible:!1,currentRow:null,view:!1}),[Z,M]=(0,a.useState)({page:1,limit:10,organizationName:null}),k=[{title:"机构名称",dataIndex:"organizationName",key:"organizationName",align:"center"},{title:"机构全称",dataIndex:"organizationFullName",key:"organizationFullName",align:"center",width:150},{title:"机构代码",dataIndex:"organizationCode",key:"organizationCode",align:"center"},{title:"机构类型",dataIndex:"organizationType",key:"organizationType",align:"center"},{title:"机构类型名称",dataIndex:"organizationTypeName",key:"organizationTypeName",align:"center",width:150},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",align:"center"},{title:"操作",width:"14%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(s.Z,{size:0,children:[(0,n.jsx)(o.ZP,{type:"link",size:"small",onClick:()=>{N({visible:!0,currentRow:t,view:!0})},children:"修改"}),(0,n.jsx)(o.ZP,{type:"link",danger:!0,size:"small",onClick:()=>S(t.organizationId),children:"删除"})]})}],C=e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));M({...(0,y.Yp)(Z,["page","limit"],!0),...t})},T=async e=>{try{null==w.currentRow?await (0,x.Fi)(e):await (0,x.FV)(e),t.success(w.currentRow?"修改成功":"添加成功"),N({visible:!1,currentRow:null,view:!1}),C()}catch(e){}},S=(t,l)=>{e.confirm({title:`${l?"批量":""}\u{5220}\u{9664}\u{7EC4}\u{7EC7}\u{673A}\u{6784}`,icon:(0,n.jsx)(u.Z,{}),content:`\u{786E}\u{5B9A}${l?"批量":""}\u{5220}\u{9664}\u{7EC4}\u{7EC7}\u{673A}\u{6784}\u{5417}\u{FF1F}\u{6570}\u{636E}\u{5220}\u{9664}\u{540E}\u{5C06}\u{65E0}\u{6CD5}\u{6062}\u{590D}\u{FF01}`,onOk(){(l?(0,x.nh)(t):(0,x.Mz)(t)).then(()=>{C({...Z}),I([])})}})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(h.Z,{columns:j,gutterWidth:24,labelPosition:"left",btnSeparate:!1,isShowReset:!0,isShowExpend:!1,onUpdateSearch:C})})}),(0,n.jsxs)(c.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:l,children:[(0,n.jsxs)(s.Z,{className:"mb-[8px]",children:[(0,n.jsx)(o.ZP,{type:"primary",icon:(0,n.jsx)(m.Z,{}),onClick:()=>N({visible:!0,currentRow:null,view:!1}),children:"新增"}),(0,n.jsx)(o.ZP,{type:"default",danger:!0,icon:(0,n.jsx)(p.Z,{}),disabled:0===v.length,onClick:()=>S(v,"batch"),children:"批量删除"})]}),(0,n.jsx)(g.Z,{size:"middle",columns:k,bordered:!0,rowKey:"organizationId",scroll:{x:"max-content",y:b-158},fetchData:x.O1,searchFilter:Z,isSelection:!0,onUpdatePagination:e=>{M({...Z,page:e.current,limit:e.pageSize})},onUpdateSelection:e=>I(e)})]}),(0,n.jsx)(f.default,{params:w,onCancel:()=>N({visible:!1,currentRow:null,view:!1}),onOk:T})]})}},28565:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>h});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(49027),o=l(44995),d=l(76682),c=l(61496),u=l(67857),m=l(33894),p=l(64257),x=l(26930);let h=e=>{let{open:t,onOk:l,onCancel:h,roleId:g}=e,[f]=i.Z.useForm(),[y,j]=(0,a.useState)([]),b=(0,a.useRef)(null),[v,I]=(0,a.useState)(!1),[w,N]=(0,a.useState)([]);(0,a.useEffect)(()=>{if(t.visible)if(Z(),t.editRow){var e;f.setFieldsValue({...t.editRow,roles:null==(e=t.editRow)?void 0:e.roles.map(e=>e.roleId)})}else f.resetFields(),f.setFieldsValue({roles:[g]})},[t.visible]);let Z=()=>{I(!0),Promise.all([(0,p.BT)(),(0,m.JV)()]).then(e=>{N((0,x.fX)(e[0],"organizationId")),j(e[1]),I(!1)})};return(0,n.jsx)(u.Z,{open:t.visible,onCancel:()=>{f.resetFields(),h()},title:t.editRow?"修改用户":"添加用户",width:{xl:800,xxl:1e3},onOk:()=>{f.validateFields().then(()=>{l({...f.getFieldsValue(),roles:y.filter(e=>f.getFieldValue("roles").includes(e.roleId))??[]})}).catch(e=>{f.scrollToField(e.errorFields[0].name),f.focusField(e.errorFields[0].name)})},loading:v,children:(0,n.jsxs)(i.Z,{form:f,labelCol:{span:5},children:[(0,n.jsx)(i.Z.Item,{name:"userId",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),(0,n.jsxs)(s.Z,{gutter:24,children:[(0,n.jsx)(o.Z,{span:12,children:(0,n.jsx)(i.Z.Item,{className:"mb-0",label:"用户账号",name:"username",rules:[{required:!0,message:"请输入用户账号"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入用户名",autoFocus:!0,allowClear:!0,autoComplete:"off",ref:b})})}),(0,n.jsx)(o.Z,{span:12,children:(0,n.jsx)(i.Z.Item,{className:"mb-0",label:"手机号",name:"phone",rules:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"},{required:!0,message:"请输入手机号"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入用户名",autoFocus:!0,allowClear:!0,autoComplete:"off",ref:b})})}),(0,n.jsx)(o.Z,{span:12,children:(0,n.jsx)(i.Z.Item,{className:"mb-0",label:"所属机构",name:"organizationId",rules:[{required:!0,message:"请选择所属机构"}],children:(0,n.jsx)(d.Z,{styles:{popup:{root:{maxHeight:400,overflow:"auto"}}},treeData:w,placeholder:"请选择所属机构",fieldNames:{label:"organizationName",value:"organizationId",children:"children"}})})}),(0,n.jsx)(o.Z,{span:12,children:(0,n.jsx)(i.Z.Item,{className:"mb-0",label:"登陆密码",name:"password",rules:[{required:!0},{validator:(e,t)=>t&&!/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.test(t)?Promise.reject("密码需包含字母和数字且至少6位"):Promise.resolve()}],children:(0,n.jsx)(r.Z,{placeholder:"请输入登录密码",allowClear:!0,autoComplete:"off"})})}),(0,n.jsx)(o.Z,{span:12,children:(0,n.jsx)(i.Z.Item,{className:"mb-0",label:"姓名",name:"nickname",rules:[{required:!0,message:"请输入姓名"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入姓名",allowClear:!0,autoComplete:"off"})})}),(0,n.jsx)(o.Z,{span:12,children:(0,n.jsx)(i.Z.Item,{className:"mb-0",label:"角色",name:"roles",rules:[{required:!0,message:"请选择角色"}],children:(0,n.jsx)(c.Z,{mode:"multiple",options:y.map(e=>({label:e.roleName,value:e.roleId})),placeholder:"请选择角色",allowClear:!0,filterOption:!0})})}),(0,n.jsx)(o.Z,{span:12,children:(0,n.jsx)(i.Z.Item,{className:"mb-0",label:"邮箱",name:"email",rules:[{type:"email",message:"请输入正确的邮箱"}],children:(0,n.jsx)(r.Z,{placeholder:"请输入邮箱",allowClear:!0,autoComplete:"off"})})}),(0,n.jsx)(o.Z,{span:12,children:(0,n.jsx)(i.Z.Item,{className:"mb-0",label:"个人简介",name:"introduction",children:(0,n.jsx)(r.Z.TextArea,{placeholder:"请输入个人简介",allowClear:!0})})})]})]})})}},58279:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>o});var n=l(52676),a=l(75271),i=l(86291),r=l(39257),s=l(67857);let o=e=>{let{params:t,onOk:l,onCancel:o}=e,[d]=i.Z.useForm(),c=(0,a.useRef)(null),{visible:u,currentRow:m,view:p}=t;return(0,a.useEffect)(()=>{u&&(m?d.setFieldsValue(m):d.resetFields())},[m,u]),(0,n.jsx)(s.Z,{width:"40%",open:u,title:m?"编辑角色":"新增角色",okButtonProps:{className:p?"hidden":""},onOk:()=>{d.validateFields().then(()=>{l(d.getFieldsValue())}).catch(e=>{d.scrollToField(e.errorFields[0].name),d.focusField(e.errorFields[0].name)})},onCancel:o,afterOpenChange:e=>{if(e){var t;null==(t=c.current)||t.focus()}},children:(0,n.jsxs)(i.Z,{form:d,labelCol:{span:4},disabled:p,children:[(0,n.jsx)(i.Z.Item,{name:"roleId",hidden:!0,children:(0,n.jsx)(r.Z,{disabled:!0})}),(0,n.jsx)(i.Z.Item,{name:"roleName",label:"角色名称",rules:[{required:!0,message:"请输入角色名称"}],children:(0,n.jsx)(r.Z,{ref:c,placeholder:"请输入角色名称",autoComplete:"off"})}),(0,n.jsx)(i.Z.Item,{name:"comments",label:"角色备注",children:(0,n.jsx)(r.Z.TextArea,{placeholder:"请输入角色备注"})})]})})}},90050:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>f});var n=l(52676),a=l(75271),i=l(99254),r=l(82398),s=l(91849),o=l(57712),d=l(25407),c=l(20919),u=l(12144),m=l(42966),p=l(33894),x=l(83150),h=l(74369),g=l(26930);let f=e=>{let{open:t,roleId:l,onOk:f,onCancel:y}=e,[j,b]=(0,a.useState)([]),[v,I]=(0,a.useState)([]),[w,N]=(0,a.useState)([]);(0,a.useEffect)(()=>{t&&Z()},[t]);let Z=()=>{(0,h.c7)({sort:"sortNumber"}).then(e=>{(0,p.pz)(l).then(t=>{let l=[],n=M((0,g.fX)(e,"menuId"),l),a=M(t,[]).map(e=>e.menuId);b(n),I(a),N(l)})})},M=(e,t)=>e.map(e=>{var l;return e.icon&&(e.icon=(0,x.q7)(e.icon)),(null==(l=e.children)?void 0:l.length)>0&&t.push(e.menuId),e.children&&M(e.children,t),e});return(0,n.jsx)(i.Z,{title:"授权菜单",width:400,open:t,closeIcon:!1,extra:(0,n.jsx)(r.ZP,{type:"text",icon:(0,n.jsx)(d.Z,{}),onClick:y}),onClose:y,classNames:{footer:"text-right"},footer:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(r.ZP,{onClick:y,children:"取消"}),(0,n.jsx)(r.ZP,{type:"primary",onClick:e=>{(0,p.Qs)({roleId:l,menuIds:v}).then(()=>{f(e)})},children:"确认"})]}),children:(0,n.jsx)(o.Z,{blockNode:!0,checkable:!0,showIcon:!0,switcherIcon:(0,n.jsx)(c.Z,{}),defaultExpandAll:!0,expandedKeys:w,fieldNames:{title:"title",key:"menuId",children:"children"},icon:e=>{let{isLeaf:t}=e.data;return t?(0,n.jsx)(n.Fragment,{}):e.expanded?(0,n.jsx)(u.Z,{style:{fontSize:"16px",color:"orange"}}):(0,n.jsx)(m.Z,{style:{fontSize:"16px",color:"orange"}})},treeData:j,checkedKeys:v,onCheck:e=>{I(e)}})})}},13478:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>Z});var n=l(52676),a=l(75271),i=l(50372),r=l(25407),s=l(58594),o=l(22151),d=l(26114),c=l(35962),u=l(85108),m=l(86291),p=l(64346),x=l(58545),h=l(82398),g=l(99254),f=l(56093),y=l(49027),j=l(44995),b=l(39257),v=l(91849),I=l(25400),w=l(28565),N=l(33894);let Z=e=>{let{open:t,roleId:l,onCancel:Z}=e,{modal:M,message:k}=u.Z.useApp(),[C,T]=(0,a.useState)(!1),[S,D]=(0,a.useState)([]),[F,O]=(0,a.useState)({visible:!1,editRow:null}),[E]=m.Z.useForm(),[A,z]=(0,a.useState)([]),[P,R]=(0,a.useState)(0),L=(0,a.useRef)(null),[U,B]=(0,a.useState)({pageNumber:1,pageSize:10});(0,a.useEffect)(()=>{t&&(Y(),z([]))},[t,U]);let Y=()=>{T(!0),(0,N.tp)({roleId:l,page:U.pageNumber,limit:U.pageSize,...E.getFieldsValue()}).then(e=>{var t;D(e.list),e.count&&R(e.count),null==(t=L.current)||t.focus(),T(!1)})},Q=[{title:"id",dataIndex:"id",hidden:!0},{title:"用户ID",dataIndex:"userId",width:80,align:"center",hidden:!0},{title:"用户账号",dataIndex:"username",width:80,align:"center"},{title:"姓名",dataIndex:"nickname",width:80,align:"center"},{title:"角色",key:"roles",align:"center",render:e=>e.roles.map((e,t)=>(0,n.jsx)(p.Z,{color:"blue",style:{margin:"0 4px"},children:e.roleName},t))},{title:"状态",key:"status",align:"center",render:e=>(0,n.jsx)(x.Z,{value:!!e.status,checkedChildren:"正常",unCheckedChildren:"冻结",onChange:t=>V(t,e)})},{title:"组织结构",dataIndex:"organizationName",align:"center"},{title:"邮箱",dataIndex:"email",align:"center",width:100},{title:"手机号",dataIndex:"phone",align:"center",width:150},{title:"更新时间",dataIndex:"updateTime",align:"center",width:200},{title:"操作",dataIndex:"action",width:120,fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.ZP,{type:"link",size:"small",onClick:()=>H(t),children:"修改"}),(0,n.jsx)(h.ZP,{type:"link",danger:!0,size:"small",onClick:()=>W(t.userId),children:"移除"})]})}],V=(e,t)=>{(0,N.nn)({...t,status:Number(e)}).then(()=>{Y()})},q=(e,t)=>{B({pageNumber:e,pageSize:t})},K={onChange(e){z(e)},columnWidth:32,fixed:!0,selectedRowKeys:A.map(e=>e.userId)},H=e=>{O({visible:!0,editRow:e})},G=()=>{var e;O({visible:!1,editRow:null}),null==(e=L.current)||e.focus()},W=(e,t)=>{M.confirm({title:`${t?"批量":""}\u{5220}\u{9664}`,icon:(0,n.jsx)(i.Z,{}),content:`\u{786E}\u{5B9A}${t?"批量":""}\u{5220}\u{9664}\u{7528}\u{6237}\u{5417}\u{FF1F}\u{6570}\u{636E}\u{5220}\u{9664}\u{540E}\u{5C06}\u{65E0}\u{6CD5}\u{6062}\u{590D}\u{FF01}`,onOk(){(t?(0,N.KL)(e):(0,N.Gw)(e)).then(()=>{Y(),z([])})}})},$=async e=>{try{e.userId?await (0,N.qF)(e):await (0,N.FU)(e),k.success(e.userId?"修改成功":"添加成功"),G(),Y()}catch(e){}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(g.Z,{title:"分配用户",width:920,open:t,closeIcon:!1,extra:(0,n.jsx)(h.ZP,{type:"text",icon:(0,n.jsx)(r.Z,{}),onClick:Z}),onClose:Z,classNames:{footer:"text-right",body:"flex flex-col"},children:[(0,n.jsx)(f.Z,{children:(0,n.jsx)(m.Z,{form:E,onFinish:()=>{Y()},children:(0,n.jsxs)(y.Z,{gutter:12,children:[(0,n.jsx)(j.Z,{span:6,children:(0,n.jsx)(m.Z.Item,{className:"mb-0",name:"username",label:"用户账号",colon:!1,children:(0,n.jsx)(b.Z,{autoFocus:!0,allowClear:!0,autoComplete:"off",ref:L})})}),(0,n.jsx)(j.Z,{span:6,children:(0,n.jsx)(m.Z.Item,{className:"mb-0",name:"nickname",label:"用户姓名",colon:!1,children:(0,n.jsx)(b.Z,{allowClear:!0,autoComplete:"off"})})}),(0,n.jsx)(j.Z,{span:6,style:{textAlign:"right"},children:(0,n.jsxs)(v.Z,{children:[(0,n.jsx)(h.ZP,{type:"primary",htmlType:"submit",icon:(0,n.jsx)(s.Z,{}),children:"检索"}),(0,n.jsx)(h.ZP,{type:"default",icon:(0,n.jsx)(o.Z,{}),onClick:()=>{E.resetFields(),Y()},children:"重置"})]})})]})})}),(0,n.jsxs)(f.Z,{className:"mt-2 flex-1 min-h-0",styles:{body:{height:"100%"}},children:[(0,n.jsxs)(v.Z,{children:[(0,n.jsx)(h.ZP,{type:"primary",onClick:()=>{O({visible:!0,editRow:null})},icon:(0,n.jsx)(d.Z,{}),children:"添加用户"}),(0,n.jsx)(h.ZP,{icon:(0,n.jsx)(c.Z,{}),danger:!0,disabled:0===A.length,onClick:()=>W(A,"batch"),children:"批量删除"})]}),(0,n.jsx)(I.Z,{className:"mt-2",size:"small",columns:Q,dataSource:S,bordered:!0,loading:C,rowKey:"userId",pagination:{pageSize:U.pageSize,current:U.pageNumber,showQuickJumper:!0,hideOnSinglePage:!1,showSizeChanger:!0,showTotal:e=>`\u{5171} ${e} \u{6761}`,total:P,onChange(e,t){q(e,t)}},scroll:{x:"max-content"},rowSelection:{...K}})]})]}),(0,n.jsx)(w.default,{roleId:l,open:F,onCancel:G,onOk:$})]})}},9994:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>Z});var n=l(52676),a=l(75271),i=l(461),r=l(85108),s=l(91849),o=l(82398),d=l(65436),c=l(59285),u=l(56093),m=l(94639),p=l(35962),x=l(50372),h=l(78547),g=l(26114),f=l(33894),y=l(59286),j=l(5246);let b=[{label:"角色名称",name:"roleName",formType:"input",span:6},{label:"备注",name:"comments",formType:"input",span:6}];var v=l(58279),I=l(90050),w=l(13478),N=l(26930);let Z=()=>{var e,t;let{modal:l}=r.Z.useApp(),{parentRef:Z,height:M}=(0,i.Z)(),[k,C]=(0,a.useState)([]),[T,S]=(0,a.useState)({visible:!1,currentRow:null,view:!1}),[D,F]=(0,a.useState)({page:1,limit:10}),[O,E]=(0,a.useState)(!1),[A,z]=(0,a.useState)(!1);(0,a.useEffect)(()=>{},[]);let P=e=>[{key:"edit",label:"编辑",icon:(0,n.jsx)(m.Z,{className:"text-orange-400"}),onClick:()=>{S({visible:!0,currentRow:e,view:!1})}},{key:"delete",label:"删除",icon:(0,n.jsx)(p.Z,{className:"text-red-400"}),onClick:()=>{l.confirm({title:"删除角色",icon:(0,n.jsx)(x.Z,{}),content:"确定删除该角色吗？数据删除后将无法恢复！",onOk(){(0,f.Rd)(e.roleId).then(()=>{L()})}})}}],R=[{title:"角色名称",width:160,dataIndex:"roleName",key:"roleName",align:"center"},{title:"备注",width:160,dataIndex:"comments",key:"comments",align:"center"},{title:"创建时间",dataIndex:"createTime",key:"createTime",align:"center"},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",align:"center"},{title:"操作",width:"14%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(s.Z,{size:0,children:[(0,n.jsx)(o.ZP,{type:"link",size:"small",onClick:()=>{S({visible:!0,currentRow:t,view:!0})},children:"详情"}),(0,n.jsx)(o.ZP,{type:"link",size:"small",onClick:()=>{S({visible:!1,currentRow:t,view:!1}),z(!0)},children:"用户"}),(0,n.jsx)(o.ZP,{type:"link",size:"small",onClick:()=>{S({visible:!1,currentRow:t,view:!1}),E(!0)},children:"授权菜单"}),(0,n.jsx)(d.Z,{menu:{items:P(t)},placement:"bottom",trigger:["click"],children:(0,n.jsx)(o.ZP,{type:"link",size:"small",icon:(0,n.jsx)(h.Z,{})})})]})}],L=e=>{let t=Object.fromEntries(Object.entries(e??{}).filter(e=>{let[,t]=e;return!!t}));F({...(0,N.Yp)(D,["page","limit"],!0),...t})},U=()=>{E(!1),z(!1)},B=async e=>{try{null==T.currentRow?await (0,f._d)(e):await (0,f.Aq)(e),S({visible:!1,currentRow:null,view:!1}),L()}catch(e){}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(u.Z,{children:(0,n.jsx)(y.Z,{columns:b,gutterWidth:24,labelPosition:"left",btnSeparate:!1,isShowReset:!0,isShowExpend:!1,onUpdateSearch:L})})}),(0,n.jsxs)(u.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:Z,children:[(0,n.jsxs)(s.Z,{className:"mb-[8px]",children:[(0,n.jsx)(o.ZP,{type:"primary",icon:(0,n.jsx)(g.Z,{}),onClick:()=>{S({visible:!0,currentRow:null,view:!1})},children:"新增"}),(0,n.jsx)(o.ZP,{type:"default",danger:!0,icon:(0,n.jsx)(p.Z,{}),disabled:0===k.length,onClick:()=>{l.confirm({title:"批量删除角色",icon:(0,n.jsx)(x.Z,{}),content:"确定批量删除该角色吗？数据删除后将无法恢复！",onOk(){(0,f.Mf)({ids:k}).then(()=>{L()})}})},children:"批量删除"})]}),(0,n.jsx)(j.Z,{size:"middle",columns:R,style:{marginTop:"8px"},bordered:!0,scroll:{x:"max-content",y:M-158},rowKey:"roleId",fetchData:f.$s,searchFilter:D,isSelection:!0,onUpdatePagination:e=>{F({...D,page:e.current,limit:e.pageSize})},onUpdateSelection:e=>C(e)})]}),(0,n.jsx)(v.default,{params:T,onCancel:()=>{S({visible:!1,currentRow:null,view:!1})},onOk:B}),(0,n.jsx)(I.default,{roleId:null==(e=T.currentRow)?void 0:e.roleId,onOk:U,open:O,onCancel:U}),(0,n.jsx)(w.default,{roleId:null==(t=T.currentRow)?void 0:t.roleId,onCancel:U,open:A})]})}},28163:function(e,t,l){"use strict";l.r(t),l.d(t,{default:()=>S});var n=l(52676),a=l(461),i=l(83866),r=l(38855),s=l(78547),o=l(94639),d=l(78249),c=l(35962),u=l(50372),m=l(58594),p=l(22151),x=l(26114),h=l(86291),g=l(64346),f=l(91849),y=l(82398),j=l(65436),b=l(59285),v=l(56093),I=l(49027),w=l(44995),N=l(39257),Z=l(61496),M=l(84208),k=l(25400),C=l(8398),T=l(75271);let S=()=>{let[e]=h.Z.useForm(),[t,l]=(0,T.useState)(!1),[S,D]=(0,T.useState)([]),[F,O]=(0,T.useState)(null),[E,A]=(0,T.useState)(!1),[z,P]=(0,T.useState)([]),{parentRef:R,height:L}=(0,a.Z)(),U=[{dataIndex:"id",title:"ID",key:"id",hidden:!0},{dataIndex:"username",title:"用户名",key:"username",width:80,align:"left"},{dataIndex:"realName",title:"真实名",key:"realName",width:80,align:"left"},{dataIndex:"sex",title:"性别",key:"sex",width:40,align:"center",render:e=>1===e?(0,n.jsx)(i.Z,{className:"text-blue-400"}):(0,n.jsx)(r.Z,{className:"text-pink-400"})},{dataIndex:"avatar",title:"头像",key:"avatar",width:80,align:"center",render:e=>(0,n.jsx)("img",{src:e,alt:"头像",className:"w-8 h-8 rounded-full"})},{dataIndex:"birthday",title:"生日",key:"birthday",width:80,align:"center"},{dataIndex:"email",title:"邮箱",key:"email",width:80,align:"left"},{dataIndex:"status",title:"状态",key:"status",width:80,align:"center",render:e=>1===e?(0,n.jsx)(g.Z,{color:"green",children:"正常"}):(0,n.jsx)(g.Z,{color:"gray",children:"冻结"})},{title:"操作",width:"14%",dataIndex:"action",fixed:"right",align:"center",render:(e,t)=>(0,n.jsxs)(f.Z,{size:0,children:[(0,n.jsx)(y.ZP,{type:"link",size:"small",onClick:()=>{},children:"详情"}),(0,n.jsx)(y.ZP,{type:"link",size:"small",onClick:()=>{},children:"编辑"}),(0,n.jsx)(j.Z,{menu:{items:B(t)},placement:"bottom",trigger:["click"],children:(0,n.jsx)(y.ZP,{type:"link",size:"small",icon:(0,n.jsx)(s.Z,{})})})]})}],B=e=>[{key:"edit",label:"编辑",icon:(0,n.jsx)(o.Z,{className:"text-orange-400"}),onClick:()=>{}},{key:"updatePwd",label:"修改密码",icon:(0,n.jsx)(o.Z,{className:"text-orange-400"}),onClick:()=>{}},{key:"freeze",label:"冻结",icon:(0,n.jsx)(d.Z,{className:"text-orange-400"}),onClick:()=>{}},{key:"delete",label:"删除",icon:(0,n.jsx)(c.Z,{className:"text-red-400"}),onClick:()=>{C.Z.confirm({title:"删除用户",icon:(0,n.jsx)(u.Z,{}),content:"确定删除该用户吗？数据删除后将无法恢复！",onOk(){}})}}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.ZP,{theme:{components:{Form:{itemMarginBottom:0}}},children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(h.Z,{form:e,children:(0,n.jsxs)(I.Z,{gutter:24,children:[(0,n.jsx)(w.Z,{span:6,children:(0,n.jsx)(h.Z.Item,{name:"username",label:"账号",colon:!1,children:(0,n.jsx)(N.Z,{autoFocus:!0,allowClear:!0,autoComplete:"off"})})}),(0,n.jsx)(w.Z,{span:6,children:(0,n.jsx)(h.Z.Item,{name:"sex",label:"性别",colon:!1,children:(0,n.jsx)(Z.Z,{allowClear:!0,options:[{value:"",label:"请选择",disabled:!0},{value:1,label:"男"},{value:2,label:"女"}]})})}),(0,n.jsx)(w.Z,{span:6,children:(0,n.jsx)(h.Z.Item,{name:"status",label:"状态",colon:!1,children:(0,n.jsx)(Z.Z,{allowClear:!0,options:[{value:"",label:"请选择",disabled:!0},{value:1,label:"启用"},{value:0,label:"停用"}]})})}),(0,n.jsx)(w.Z,{span:6,style:{textAlign:"right"},children:(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(y.ZP,{type:"primary",htmlType:"submit",icon:(0,n.jsx)(m.Z,{}),children:"检索"}),(0,n.jsx)(y.ZP,{type:"default",icon:(0,n.jsx)(p.Z,{}),onClick:()=>{e.resetFields()},children:"重置"})]})})]})})})}),(0,n.jsxs)(v.Z,{style:{flex:1,marginTop:"8px",minHeight:0},styles:{body:{height:"100%"}},ref:R,children:[(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(y.ZP,{type:"primary",icon:(0,n.jsx)(x.Z,{}),onClick:()=>{},children:"新增"}),(0,n.jsx)(M.Z,{accept:".xlsx",children:(0,n.jsx)(y.ZP,{type:"default",icon:(0,n.jsx)(x.Z,{}),children:"批量导入"})}),(0,n.jsx)(y.ZP,{type:"default",danger:!0,icon:(0,n.jsx)(c.Z,{}),disabled:0===z.length,onClick:()=>{},children:"批量删除"})]}),(0,n.jsx)(k.Z,{size:"middle",style:{marginTop:"8px"},bordered:!0,pagination:!1,dataSource:S,columns:U,loading:E,rowKey:"id",scroll:{y:L-128,x:"max-content"},rowSelection:{onChange(e,t){P(t)},columnWidth:32,fixed:!0}})]})]})}},92955:function(){}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,l),i.exports}l.m=e,l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;l.t=function(n,a){if(1&a&&(n=this(n)),8&a||"object"==typeof n&&n&&(4&a&&n.__esModule||16&a&&"function"==typeof n.then))return n;var i=Object.create(null);l.r(i);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>{r[e]=()=>n[e]});return r.default=()=>n,l.d(i,r),i}})(),l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce((t,n)=>(l.f[n](e,t),t),[])),l.u=e=>"static/js/async/"+e+"."+({262:"7681f9c4",607:"47966b16",881:"1d3795f7"})[e]+".js",l.miniCssF=e=>"static/css/async/"+e+"."+({607:"fc715dbd",881:"180d1234"})[e]+".css",l.h=()=>"b12a48a9de5a0f19",l.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="zc-ls-cabin:";l.l=function(n,a,i,r){if(e[n])return void e[n].push(a);if(void 0!==i)for(var s,o,d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(o=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[a];var m=function(t,l){s.onerror=s.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach(function(e){return e(l)}),t)return t(l)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),o&&document.head.appendChild(s)}})(),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];l.O=(t,n,a,i)=>{if(n){i=i||0;for(var r=e.length;r>0&&e[r-1][2]>i;r--)e[r]=e[r-1];e[r]=[n,a,i];return}for(var s=1/0,r=0;r<e.length;r++){for(var[n,a,i]=e[r],o=!0,d=0;d<n.length;d++)(!1&i||s>=i)&&Object.keys(l.O).every(e=>l.O[e](n[d]))?n.splice(d--,1):(o=!1,i<s&&(s=i));if(o){e.splice(r--,1);var c=a();void 0!==c&&(t=c)}}return t}})(),l.p="/",l.rv=()=>"1.3.10",(()=>{if("undefined"!=typeof document){var e=function(e,t,n,a,i){var r=document.createElement("link");return r.rel="stylesheet",r.type="text/css",l.nc&&(r.nonce=l.nc),r.onerror=r.onload=function(l){if(r.onerror=r.onload=null,"load"===l.type)a();else{var n=l&&("load"===l.type?"missing":l.type),s=l&&l.target&&l.target.href||t,o=Error("Loading CSS chunk "+e+" failed.\\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.type=n,o.request=s,r.parentNode&&r.parentNode.removeChild(r),i(o)}},r.href=t,n?n.parentNode.insertBefore(r,n.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var l=document.getElementsByTagName("link"),n=0;n<l.length;n++){var a=l[n],i=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}for(var r=document.getElementsByTagName("style"),n=0;n<r.length;n++){var a=r[n],i=a.getAttribute("data-href");if(i===e||i===t)return a}},n={980:0};l.f.miniCss=function(a,i){if(n[a])i.push(n[a]);else 0!==n[a]&&({881:1,607:1})[a]&&i.push(n[a]=new Promise(function(n,i){var r=l.miniCssF(a),s=l.p+r;if(t(r,s))return n();e(a,s,null,n,i)}).then(function(){n[a]=0},function(e){throw delete n[a],e}))}}})(),(()=>{var e={980:0};l.f.j=function(t,n){var a=l.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((l,n)=>a=e[t]=[l,n]);n.push(a[2]=i);var r=l.p+l.u(t),s=Error();l.l(r,function(n){if(l.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,a[1](s)}},"chunk-"+t,t)}},l.O.j=t=>0===e[t];var t=(t,n)=>{var a,i,[r,s,o]=n,d=0;if(r.some(t=>0!==e[t])){for(a in s)l.o(s,a)&&(l.m[a]=s[a]);if(o)var c=o(l)}for(t&&t(n);d<r.length;d++)i=r[d],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},n=self.webpackChunkzc_ls_cabin=self.webpackChunkzc_ls_cabin||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),l.ruid="bundler=rspack@1.3.10";var n=l.O(void 0,["844","131","805","641","72","966","744","118","984"],function(){return l(27923)});n=l.O(n)})();